import{c as G}from"./IconPlus-CH9LjOzs.js";import{r as ye,a as _e,s as ke,g as we,b as Ce,c as $e,d as Ie,u as Me,e as Se,f as xe,h as Te,i as Ae,j as Ue,k as De,l as Re,I as Ee,m as Le,n as Ve,o as Pe,p as Ne,A as Be}from"./softwareCatalogForm.vue_vue_type_style_index_0_scoped_c6733d12_lang-CyLl29f4.js";import{_ as He}from"./Tabulator.vue_vue_type_style_index_0_lang-DmhILGHy.js";import{d as z,u as j,c as se,r as f,a as m,b as e,l as B,j as E,t as i,e as I,g as T,h as u,m as re,F as R,f as V,v as Y,k as be,n as N,w as Z,o as le,i as A,p as O,q as fe,s as de,x as ue,y as me,z as pe,A as Ke,B as Oe,C as ve}from"./index-EfFYqPyz.js";import{_ as ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as he}from"./lodash-DkEL17HL.js";import{_ as Fe}from"./RepositoryList.vue_vue_type_script_setup_true_lang-CSVpprfj.js";import{_ as qe}from"./RepositoryDetail.vue_vue_type_script_setup_true_lang-kbyqusY0.js";import"./request-vViXpO3F.js";import"./bootstrap.esm-CCR_HJkr.js";import"./repository-_V19v2lX.js";/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ge=G("outline","activity-heartbeat","IconActivityHeartbeat",[["path",{d:"M3 12h4.5l1.5 -6l4 12l2 -9l1.5 3h4.5",key:"svg-0"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ze=G("outline","apps","IconApps",[["path",{d:"M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M14 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M14 7l6 0",key:"svg-3"}],["path",{d:"M17 4l0 6",key:"svg-4"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var je=G("outline","cloud-download","IconCloudDownload",[["path",{d:"M19 18a3.5 3.5 0 0 0 0 -7h-1a5 4.5 0 0 0 -11 -2a4.6 4.4 0 0 0 -2.1 8.4",key:"svg-0"}],["path",{d:"M12 13l0 9",key:"svg-1"}],["path",{d:"M9 19l3 3l3 -3",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ge=G("outline","download","IconDownload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ye=G("outline","edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var We=G("outline","folder","IconFolder",[["path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2",key:"svg-0"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Je=G("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qe=G("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xe=G("outline","upload","IconUpload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ze=G("filled","star-filled","IconStarFilled",[["path",{d:"M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z",key:"svg-0"}]]);const et={class:"modal",id:"action-confirm",tabindex:"-1"},tt={class:"modal-dialog modal-lg",role:"document"},at={class:"modal-content"},ot={class:"modal-header"},st={class:"modal-title"},lt={key:0},nt={class:"modal-body",style:{"max-height":"calc(100vh - 200px)","overflow-y":"auto"}},it={class:"mb-3"},dt={class:"modal-footer d-flex justify-content-between"},rt=z({__name:"applicationActionConfirm",props:{title:{},applicationStatusId:{},type:{},applicationName:{}},emits:["getApplicationsStatusList"],setup(P,{emit:U}){const g=j(),x=P,C=U,d=se(()=>x.title),l=se(()=>x.applicationStatusId),_=se(()=>x.type),S=f(""),w=()=>{S.value=""},M=async()=>{w();let k;const v={operation:d.value,applicationStatusId:l.value,reason:S.value};if(_.value==="VM"){const{data:t}=await ye(v);k=t}else if(_.value==="K8S"){const{data:t}=await _e(v);k=t}C("getApplicationsStatusList"),k?g.success(`${d.value} Action SUCCESS`):g.error(`${d.value} Action FAIL`)};return(k,v)=>(u(),m("div",et,[e("div",tt,[e("div",at,[e("div",ot,[e("h5",st,[B(i(k.applicationName)+" "+i(d.value)+" ",1),_.value?(u(),m("span",lt,"("+i(_.value)+")",1)):E("",!0)]),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:w})]),e("div",nt,[e("div",it,[v[1]||(v[1]=e("label",{class:"form-label"},"Reason",-1)),v[2]||(v[2]=e("p",{class:"text-muted"}," Please enter a reason ",-1)),I(e("textarea",{class:"form-control",rows:"10",placeholder:"Reason","onUpdate:modelValue":v[0]||(v[0]=t=>S.value=t)},null,512),[[T,S.value]])])]),e("div",dt,[e("a",{class:"btn btn-link link-secondary","data-bs-dismiss":"modal",onClick:w}," Cancel "),e("div",null,[e("button",{class:"btn btn-primary ms-auto","data-bs-dismiss":"modal",onClick:M},i(d.value),1)])])])])]))}}),ct={class:"modal modal-blur fade",id:"rating-modal",tabindex:"-1",role:"dialog","aria-hidden":"true"},ut={class:"modal-dialog modal-dialog-centered",role:"document"},mt={class:"modal-content"},pt={class:"modal-body"},vt={class:"mb-3"},gt={class:"rating-stars"},bt=["onClick"],ft={class:"mb-3"},ht={class:"mb-3"},yt={class:"mb-3"},_t={class:"mb-3"},kt={class:"modal-footer"},wt=["disabled"],Ct=z({__name:"applicationRatingModal",props:{catalogId:{},applicationName:{}},emits:["ratingSubmitted"],setup(P,{emit:U}){const g=P,x=U,C=j(),d=f({rating:0,category:"",detailedComments:"",name:"",email:""}),l=k=>{d.value.rating=k},_=se(()=>d.value.rating>0&&d.value.category&&d.value.detailedComments&&d.value.name&&d.value.email),S=()=>{d.value={rating:0,category:"",detailedComments:"",name:"",email:""}},w=()=>{const k=document.getElementById("rating-modal");if(k)try{if(window.bootstrap&&window.bootstrap.Modal){const v=window.bootstrap.Modal.getInstance(k);v?v.hide():new window.bootstrap.Modal(k).hide()}else k.style.display="none",k.classList.remove("show"),k.setAttribute("aria-hidden","true"),k.removeAttribute("aria-modal"),document.body.classList.remove("modal-open"),document.querySelectorAll(".modal-backdrop").forEach(t=>t.remove()),document.body.style.overflow="",document.body.style.paddingRight=""}catch(v){console.error("Error closing modal:",v),k.style.display="none",k.classList.remove("show"),document.body.classList.remove("modal-open"),document.querySelectorAll(".modal-backdrop").forEach(o=>o.remove())}},M=async()=>{if(!_.value){C.error("Please fill in all fields");return}try{const k={catalogId:g.catalogId,rating:d.value.rating,category:d.value.category,detailedComments:d.value.detailedComments,name:d.value.name,email:d.value.email,metadata:JSON.stringify({version:"1.0.0",environment:"production",applicationName:g.applicationName})};await ke(k)&&(C.success("Rating submitted successfully"),S(),x("ratingSubmitted"),w())}catch(k){console.error("Rating submission error:",k),C.error("Failed to submit rating")}};return(k,v)=>(u(),m("div",ct,[e("div",ut,[e("div",mt,[v[11]||(v[11]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title"},"Application Rating"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",pt,[e("form",{onSubmit:re(M,["prevent"])},[e("div",vt,[v[4]||(v[4]=e("label",{class:"form-label"},"Overall Rating",-1)),e("div",gt,[(u(),m(R,null,V(5,t=>e("span",{key:t,class:N(["star",{active:t<=d.value.rating}]),onClick:o=>l(t)}," â˜… ",10,bt)),64))])]),e("div",ft,[v[6]||(v[6]=e("label",{class:"form-label"},"Category",-1)),I(e("select",{"onUpdate:modelValue":v[0]||(v[0]=t=>d.value.category=t),class:"form-select",required:""},v[5]||(v[5]=[be('<option value="" data-v-714cdadf>Select Category</option><option value="Performance" data-v-714cdadf>Performance</option><option value="Usability" data-v-714cdadf>Usability</option><option value="Reliability" data-v-714cdadf>Reliability</option><option value="Security" data-v-714cdadf>Security</option><option value="Support" data-v-714cdadf>Support</option>',6)]),512),[[Y,d.value.category]])]),e("div",ht,[v[7]||(v[7]=e("label",{class:"form-label"},"Detailed Comments",-1)),I(e("textarea",{"onUpdate:modelValue":v[1]||(v[1]=t=>d.value.detailedComments=t),class:"form-control",rows:"4",placeholder:"Enter detailed comments",required:""},null,512),[[T,d.value.detailedComments]])]),e("div",yt,[v[8]||(v[8]=e("label",{class:"form-label"},"Name",-1)),I(e("input",{"onUpdate:modelValue":v[2]||(v[2]=t=>d.value.name=t),type:"text",class:"form-control",placeholder:"Enter your name",required:""},null,512),[[T,d.value.name]])]),e("div",_t,[v[9]||(v[9]=e("label",{class:"form-label"},"Email",-1)),I(e("input",{"onUpdate:modelValue":v[3]||(v[3]=t=>d.value.email=t),type:"email",class:"form-control",placeholder:"Enter your email",required:""},null,512),[[T,d.value.email]])])],32)]),e("div",kt,[v[10]||(v[10]=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel",-1)),e("button",{type:"button",class:"btn btn-primary",onClick:M,disabled:!_.value},"Submit",8,wt)])])])]))}}),$t=ce(Ct,[["__scopeId","data-v-714cdadf"]]),It={class:"modal modal-blur fade",id:"application-detail-modal",tabindex:"-1",role:"dialog","aria-hidden":"true"},Mt={class:"modal-dialog modal-xl modal-dialog-centered",role:"document"},St={class:"modal-content"},xt={class:"modal-body",style:{"max-height":"80vh","overflow-y":"auto"}},Tt={key:0,class:"text-center"},At={key:1},Ut={class:"mb-4"},Dt={class:"row"},Rt={class:"col-md-2 text-center"},Et=["src","alt"],Lt={class:"col-md-10"},Vt={class:"text-muted"},Pt={class:"row"},Nt={class:"col-md-3"},Bt={class:"col-md-3"},Ht={class:"col-md-3"},Kt={class:"col-md-3"},Ot={class:"mb-4"},Ft={class:"row"},qt={class:"col-md-3"},Gt={class:"card text-center"},zt={class:"card-body"},jt={class:"card-title"},Yt={class:"col-md-3"},Wt={class:"card text-center"},Jt={class:"card-body"},Qt={class:"card-title"},Xt={class:"col-md-3"},Zt={class:"card text-center"},ea={class:"card-body"},ta={class:"card-title"},aa={class:"col-md-3"},oa={class:"card text-center"},sa={class:"card-body"},la={class:"card-title"},na={class:"mb-4"},ia={class:"table-responsive"},da={class:"table table-sm"},ra={key:0},ca={class:"mb-4"},ua={class:"table-responsive"},ma={class:"table table-sm"},pa={key:0},va={class:"mb-4"},ga={class:"mb-3"},ba={class:"table-responsive"},fa={class:"table table-sm"},ha={class:"mb-3"},ya={class:"table-responsive"},_a={class:"table table-sm"},ka={class:"mb-3"},wa={class:"table-responsive"},Ca={class:"table table-sm"},$a={key:0,class:"mb-3"},Ia={class:"table-responsive"},Ma={class:"table table-sm"},Sa={key:0,class:"mb-4"},xa={class:"table-responsive"},Ta={class:"table table-sm"},Aa={key:2,class:"text-center text-muted"},Ua=z({__name:"applicationDetailModal",props:{deploymentId:{}},emits:["close"],setup(P,{emit:U}){const g=P,x=U,C=j(),d=f(!1),l=f(null),_=async()=>{if(g.deploymentId){d.value=!0;try{const{data:t}=await we(g.deploymentId);t&&(l.value=t.integratedInfo)}catch(t){console.error("Failed to load application detail:",t),C.error("Failed to load application detail")}finally{d.value=!1}}},S=t=>{switch(t==null?void 0:t.toLowerCase()){case"success":case"completed":case"running":return"badge bg-success";case"failed":case"error":case"not_found":return"badge bg-danger";case"in_progress":case"pending":case"restart":return"badge bg-warning";default:return"badge bg-secondary"}},w=t=>{switch(t==null?void 0:t.toLowerCase()){case"critical":return"badge bg-danger";case"warning":return"badge bg-warning";case"error":return"badge bg-danger";default:return"badge bg-info"}},M=t=>{switch(t==null?void 0:t.toLowerCase()){case"info":return"badge bg-info";case"warning":return"badge bg-warning";case"error":return"badge bg-danger";case"debug":return"badge bg-secondary";default:return"badge bg-primary"}},k=t=>{if(t===0)return"0 Bytes";if(!t)return"N/A";const o=1024,p=["Bytes","KB","MB","GB","TB"],L=Math.floor(Math.log(t)/Math.log(o));return parseFloat((t/Math.pow(o,L)).toFixed(2))+" "+p[L]},v=()=>{const t=document.getElementById("application-detail-modal");if(t)try{if(window.bootstrap&&window.bootstrap.Modal){const o=window.bootstrap.Modal.getInstance(t);o?o.hide():new window.bootstrap.Modal(t).hide()}else t.style.display="none",t.classList.remove("show"),t.setAttribute("aria-hidden","true"),t.removeAttribute("aria-modal"),document.body.classList.remove("modal-open"),document.querySelectorAll(".modal-backdrop").forEach(p=>p.remove()),document.body.style.overflow="",document.body.style.paddingRight=""}catch(o){console.error("Error closing modal:",o),t.style.display="none",t.classList.remove("show"),document.body.classList.remove("modal-open"),document.querySelectorAll(".modal-backdrop").forEach(L=>L.remove())}l.value=null,x("close")};return Z(()=>g.deploymentId,t=>{t&&_()},{immediate:!0}),(t,o)=>(u(),m("div",It,[e("div",Mt,[e("div",St,[e("div",{class:"modal-header"},[o[0]||(o[0]=e("h5",{class:"modal-title"},"Application Detail",-1)),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:v})]),e("div",xt,[d.value?(u(),m("div",Tt,o[1]||(o[1]=[e("div",{class:"spinner-border",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1)]))):l.value?(u(),m("div",At,[e("div",Ut,[o[6]||(o[6]=e("h6",{class:"text-primary"},"Application Overview",-1)),e("div",Dt,[e("div",Rt,[l.value.logoUrlLarge?(u(),m("img",{key:0,src:l.value.logoUrlLarge,alt:l.value.catalogName,class:"img-fluid",style:{"max-height":"80px"}},null,8,Et)):E("",!0)]),e("div",Lt,[e("h5",null,i(l.value.catalogName),1),e("p",Vt,i(l.value.catalogDescription),1),e("div",Pt,[e("div",Nt,[o[2]||(o[2]=e("strong",null,"Category:",-1)),B(" "+i(l.value.catalogCategory),1)]),e("div",Bt,[o[3]||(o[3]=e("strong",null,"Default Port:",-1)),B(" "+i(l.value.defaultPort),1)]),e("div",Ht,[o[4]||(o[4]=e("strong",null,"Status:",-1)),e("span",{class:N(S(l.value.applicationStatus))},i(l.value.applicationStatus),3)]),e("div",Kt,[o[5]||(o[5]=e("strong",null,"Health Check:",-1)),e("span",{class:N(l.value.healthCheck?"text-success":"text-danger")},i(l.value.healthCheck?"Healthy":"Unhealthy"),3)])])])])]),e("div",Ot,[o[11]||(o[11]=e("h6",{class:"text-primary"},"Performance Metrics",-1)),e("div",Ft,[e("div",qt,[e("div",Gt,[e("div",zt,[e("h5",jt,i(l.value.cpuUsage)+"%",1),o[7]||(o[7]=e("p",{class:"card-text"},"CPU Usage",-1))])])]),e("div",Yt,[e("div",Wt,[e("div",Jt,[e("h5",Qt,i(l.value.memoryUsage)+"%",1),o[8]||(o[8]=e("p",{class:"card-text"},"Memory Usage",-1))])])]),e("div",Xt,[e("div",Zt,[e("div",ea,[e("h5",ta,i(k(l.value.networkIn)),1),o[9]||(o[9]=e("p",{class:"card-text"},"Network In",-1))])])]),e("div",aa,[e("div",oa,[e("div",sa,[e("h5",la,i(k(l.value.networkOut)),1),o[10]||(o[10]=e("p",{class:"card-text"},"Network Out",-1))])])])])]),e("div",na,[o[14]||(o[14]=e("h6",{class:"text-primary"},"Action History",-1)),e("div",ia,[e("table",da,[o[13]||(o[13]=e("thead",null,[e("tr",null,[e("th",null,"Action"),e("th",null,"Timestamp"),e("th",null,"User"),e("th",null,"Status"),e("th",null,"Description")])],-1)),e("tbody",null,[l.value.operationHistories.length===0?(u(),m("tr",ra,o[12]||(o[12]=[e("td",{colspan:"5",class:"text-center text-muted"},"No action history available",-1)]))):E("",!0),(u(!0),m(R,null,V(l.value.operationHistories,p=>(u(),m("tr",{key:p.id},[e("td",null,i(p.operationType),1),e("td",null,i(p.executedAt),1),e("td",null,i(p.executedBy||"system"),1),e("td",null,[e("span",{class:N(S(p.status))},i(p.status),3)]),e("td",null,i(p.detailReason||p.reason),1)]))),128))])])])]),e("div",ca,[o[17]||(o[17]=e("h6",{class:"text-primary"},"Error Logs",-1)),e("div",ua,[e("table",ma,[o[16]||(o[16]=e("thead",null,[e("tr",null,[e("th",null,"Timestamp"),e("th",null,"Error Code"),e("th",null,"Severity"),e("th",null,"Module"),e("th",null,"Description")])],-1)),e("tbody",null,[l.value.errorLogs.length===0?(u(),m("tr",pa,o[15]||(o[15]=[e("td",{colspan:"5",class:"text-center text-muted"},"No error logs available",-1)]))):E("",!0),(u(!0),m(R,null,V(l.value.errorLogs,p=>(u(),m("tr",{key:p.id},[e("td",null,i(p.loggedAt),1),e("td",null,i(p.errorCode),1),e("td",null,[e("span",{class:N(w(p.severity))},i(p.severity),3)]),e("td",null,i(p.module),1),e("td",null,i(p.logMessage),1)]))),128))])])])]),e("div",va,[o[26]||(o[26]=e("h6",{class:"text-primary"},"Deployment History",-1)),e("div",ga,[o[19]||(o[19]=e("h6",null,"Basic Deployment Information",-1)),e("div",ba,[e("table",fa,[o[18]||(o[18]=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Action Type"),e("th",null,"Executed At"),e("th",null,"Executed By"),e("th",null,"Status")])],-1)),e("tbody",null,[e("tr",null,[e("td",null,i(l.value.deploymentId),1),e("td",null,i(l.value.actionType),1),e("td",null,i(l.value.executedAt),1),e("td",null,i(l.value.executedBy||"system"),1),e("td",null,[e("span",{class:N(S(l.value.status))},i(l.value.status),3)])])])])])]),e("div",ha,[o[21]||(o[21]=e("h6",null,"Cloud & Cluster Information",-1)),e("div",ya,[e("table",_a,[o[20]||(o[20]=e("thead",null,[e("tr",null,[e("th",null,"Cloud Provider"),e("th",null,"Cloud Region"),e("th",null,"Cluster Name"),e("th",null,"Deployment Type"),e("th",null,"MCI ID"),e("th",null,"UID")])],-1)),e("tbody",null,[e("tr",null,[e("td",null,i(l.value.cloudProvider),1),e("td",null,i(l.value.cloudRegion),1),e("td",null,i(l.value.clusterName||"N/A"),1),e("td",null,i(l.value.deploymentType),1),e("td",null,i(l.value.mciId),1),e("td",null,i(l.value.vmId),1)])])])])]),e("div",ka,[o[23]||(o[23]=e("h6",null,"Network & Service Information",-1)),e("div",wa,[e("table",Ca,[o[22]||(o[22]=e("thead",null,[e("tr",null,[e("th",null,"Namespace"),e("th",null,"Pod Status"),e("th",null,"Public IP"),e("th",null,"Service Port"),e("th",null,"VM ID"),e("th",null,"Catalog ID")])],-1)),e("tbody",null,[e("tr",null,[e("td",null,i(l.value.namespace),1),e("td",null,i(l.value.podStatus||l.value.applicationStatus),1),e("td",null,i(l.value.publicIp),1),e("td",null,i(l.value.servicePort||l.value.defaultPort),1),e("td",null,i(l.value.vmId),1),e("td",null,i(l.value.catalogName),1)])])])])]),l.value.ingressEnabled?(u(),m("div",$a,[o[25]||(o[25]=e("h6",null,"Ingress Information",-1)),e("div",Ia,[e("table",Ma,[o[24]||(o[24]=e("thead",null,[e("tr",null,[e("th",null,"Enabled"),e("th",null,"Host"),e("th",null,"Path"),e("th",null,"Class"),e("th",null,"TLS Enabled"),e("th",null,"TLS Secret")])],-1)),e("tbody",null,[e("tr",null,[e("td",null,[e("span",{class:N(l.value.ingressEnabled?"text-success":"text-danger")},i(l.value.ingressEnabled?"Yes":"No"),3)]),e("td",null,i(l.value.ingressHost||"N/A"),1),e("td",null,i(l.value.ingressPath||"N/A"),1),e("td",null,i(l.value.ingressClass||"N/A"),1),e("td",null,[e("span",{class:N(l.value.ingressTlsEnabled?"text-success":"text-danger")},i(l.value.ingressTlsEnabled?"Yes":"No"),3)]),e("td",null,i(l.value.ingressTlsSecret||"N/A"),1)])])])])])):E("",!0)]),l.value.deploymentLogs&&l.value.deploymentLogs.length>0?(u(),m("div",Sa,[o[28]||(o[28]=e("h6",{class:"text-primary"},"Deployment Logs",-1)),e("div",xa,[e("table",Ta,[o[27]||(o[27]=e("thead",null,[e("tr",null,[e("th",null,"Timestamp"),e("th",null,"Type"),e("th",null,"Message")])],-1)),e("tbody",null,[(u(!0),m(R,null,V(l.value.deploymentLogs,p=>(u(),m("tr",{key:p.id},[e("td",null,i(p.loggedAt),1),e("td",null,[e("span",{class:N(M(p.logType))},i(p.logType),3)]),e("td",null,i(p.logMessage),1)]))),128))])])])])):E("",!0)])):(u(),m("div",Aa," No data available "))]),e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:v},"Close")])])])]))}}),Da=ce(Ua,[["__scopeId","data-v-c0939631"]]),Ra={class:"card card-flush w-100"},Ea={class:"page-header page-wrapper"},La={class:"row align-items-center"},Va={class:"card-header d-flex",style:{"justify-content":"space-between"}},Pa={class:"btn-list"},Na={class:"me-2"},Ba=z({__name:"applicationStatusList",setup(P){const U=j(),g=f([]),x=f([]),C=f(""),d=f(""),l=f(0),_=f(""),S=f(""),w=f(0);f(!1);const M=f(0);le(async()=>{t(),await k()});const k=async()=>{try{v();const{data:r}=await Ce();r?g.value=r:g.value=[]}catch(r){console.log(r),U.error("Unable to retrieve data")}},v=()=>{g.value=[];const r=new Date,h={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1};C.value=r.toLocaleDateString("ko-KR",h)},t=()=>{x.value=[{title:"Infra",width:"25%",formatter:L,cellClick:function(r,h){p(h)}},{title:"Application",field:"applicationName",width:"15%",cellClick:function(r,h){p(h)},formatter:function(r){return`<div style="cursor: pointer; color:">${r.getValue()}</div>`}},{title:"Status",width:"13%",formatter:$,cellClick:function(r,h){p(h)}},{title:"CheckedAt",field:"checkedAt",width:"17%",cellClick:function(r,h){p(h)},formatter:function(r){return`<div style="cursor: pointer;">${r.getValue()}</div>`}},{title:"Action",width:"30%",formatter:b,cellClick:async function(r,h){const D=r.target,F=D==null?void 0:D.getAttribute("id"),ee=h.getRow().getData().id,W=h.getRow().getData().deploymentType,te=h.getRow().getData().applicationName,H={operation:"",applicationStatusId:ee,deploymentType:W,applicationName:te};F==="restart-btn"?(H.operation="RESTART",await o(H)):F==="stop-btn"?(H.operation="STOP",await o(H)):F==="uninstall-btn"?(H.operation="UNINSTALL",await o(H)):F==="rating-btn"&&(H.operation="RATING",w.value=h.getRow().getData().catalogId||1,await o(H))}}]},o=async r=>{d.value=r.operation,l.value=r.applicationStatusId,_.value=r.deploymentType,S.value=r.applicationName},p=r=>{const h=r.getRow().getData();M.value=h.deploymentId||h.id;const D=document.getElementById("application-detail-modal");if(D)try{window.bootstrap&&window.bootstrap.Modal?new window.bootstrap.Modal(D).show():(D.style.display="block",D.classList.add("show"),document.body.classList.add("modal-open"))}catch(F){console.error("Error opening detail modal:",F)}},L=r=>{const h=r.getRow().getData().deploymentType,D=r.getRow().getData().vmId?r.getRow().getData().vmId:r.getRow().getData().clusterName?r.getRow().getData().clusterName:"-";return`
    <div style="cursor: pointer;">
      <p style="margin: 0;">
        ${h} (${D})
      </p>
    </div>
  `},$=r=>{const h=r.getRow().getData().status;return h==="RUNNING"?`
      <div style="cursor: pointer;">
        <span class="status status-green">  
          <span class="status-dot"></span>
            ${h}
        </span>
      </div>`:h==="RESTART"||h==="IN_PROGRESS"?`
    <div style="cursor: pointer;">
      <span class="status status-primary">  
        <span class="status-dot"></span>
          ${h}
      </span>
    </div>`:h==="NOT_FOUND"?`
    <div style="cursor: pointer;">
      <span class="status status-yellow">  
        <span class="status-dot"></span>
          ${h}
      </span>
    </div>`:`
  <div style="cursor: pointer;">
    <span class="status status-red">  
      <span class="status-dot"></span>
        ${h}
    </span>
  </div>`},b=()=>`
  <div>
    <button
      class='btn btn-ghost-primary d-none d-sm-inline-block'
      id='restart-btn'
      data-bs-toggle='modal' 
      data-bs-target='#action-confirm'>
      Restart
    </button>
    <button
      class='btn btn-ghost-warning d-none d-sm-inline-block'
      id='stop-btn'
      data-bs-toggle='modal' 
      data-bs-target='#action-confirm'>
      Stop
    </button>
    <button
      class='btn btn-ghost-danger d-none d-sm-inline-block'
      id='uninstall-btn'
      data-bs-toggle='modal' 
      data-bs-target='#action-confirm'>
      Uninstall
    </button>
    <button
      class='btn btn-ghost-info d-none d-sm-inline-block'
      id='rating-btn'
      data-bs-toggle='modal' 
      data-bs-target='#rating-modal'>
      Rating
    </button>
  </div>`;return(r,h)=>(u(),m(R,null,[e("div",Ra,[e("div",Ea,[e("div",La,[e("div",Va,[h[1]||(h[1]=e("h3",{class:"card-title"},[e("strong",null,"Apps Status")],-1)),e("div",Pa,[e("span",Na,i(C.value),1),e("a",{class:"btn btn-outline-primary d-none d-sm-inline-block",onClick:k},[A(O(Je),{class:"icon icon-tabler",size:20,"stroke-width":"1"}),h[0]||(h[0]=B(" Refresh "))])])])])]),A(He,{columns:x.value,"table-data":g.value},null,8,["columns","table-data"])]),A(rt,{title:d.value,applicationStatusId:l.value,type:_.value,applicationName:S.value,onGetApplicationsStatusList:k},null,8,["title","applicationStatusId","type","applicationName"]),A($t,{catalogId:w.value,applicationName:S.value,onRatingSubmitted:k},null,8,["catalogId","applicationName"]),A(Da,{deploymentId:M.value},null,8,["deploymentId"])],64))}}),Ha={class:"modal-dialog modal-lg",role:"document"},Ka={class:"modal-content"},Oa={class:"modal-header"},Fa={class:"modal-title"},qa={class:"modal-body",style:{"max-height":"calc(100vh - 200px)","overflow-y":"auto"}},Ga={class:"nav nav-tabs mb-3"},za={class:"nav-item"},ja={class:"nav-item"},Ya={class:"nav-item"},Wa={class:"nav-item"},Ja={class:"mb-3"},Qa={class:"d-flex align-items-center"},Xa={class:"form-check me-3"},Za=["disabled"],eo={class:"form-check"},to=["disabled"],ao={class:"mb-3"},oo=["disabled"],so=["value"],lo={class:"w-100 d-flex justify-content-between"},no={class:"mb-3 w-50",style:{"margin-right":"10px"}},io=["disabled"],ro=["value"],co={class:"mb-3 w-50"},uo=["disabled"],mo=["value"],po={class:"mb-3"},vo={class:"mb-3"},go={class:"mb-3"},bo={class:"mb-3"},fo={class:"col-5"},ho=["onUpdate:modelValue"],yo={class:"col-6"},_o=["onUpdate:modelValue"],ko={class:"col-1 d-flex gap-2"},wo=["onClick","disabled"],Co={class:"row"},$o={class:"col-md-6"},Io={class:"row"},Mo={class:"col-6"},So={class:"input-group"},xo={class:"col-6"},To={class:"input-group"},Ao={class:"row mt-3"},Uo={class:"col-md-6"},Do={class:"row"},Ro={class:"col-6"},Eo={class:"input-group"},Lo={class:"col-6"},Vo={class:"input-group"},Po={class:"row mt-3"},No={class:"col-md-6"},Bo={class:"row"},Ho={class:"col-6"},Ko={class:"input-group"},Oo={class:"col-6"},Fo={class:"input-group"},qo={key:0,class:"card mt-3"},Go={class:"card-body"},zo={class:"d-flex align-items-center mb-2"},jo={class:"form-check form-switch"},Yo={class:"row"},Wo={class:"col-md-3"},Jo=["disabled"],Qo={class:"col-md-3"},Xo=["disabled"],Zo={class:"col-md-3"},es=["disabled"],ts={class:"col-md-3"},as=["disabled"],os={key:0},ss={class:"card"},ls={class:"card-body"},ns={class:"mb-3"},is={key:1},ds={class:"card"},rs={class:"card-body"},cs={class:"mb-3"},us={class:"col-4"},ms=["onUpdate:modelValue"],ps={class:"col-3"},vs=["onUpdate:modelValue"],gs={class:"col-4"},bs=["onUpdate:modelValue"],fs={class:"col-1 d-flex align-items-end gap-2"},hs=["onClick","disabled"],ys={class:"card mt-3"},_s={class:"card-body"},ks={class:"d-flex align-items-center mb-3"},ws={class:"form-check form-switch"},Cs={key:0},$s={class:"mb-3"},Is={class:"modal-footer"},Ms={class:"ms-auto d-flex gap-2"},Ss=["disabled"],xs=["disabled"],Ts=["disabled"],As=z({__name:"softwareCatalogWizard",props:{show:{type:Boolean},mode:{},catalogId:{},catalogInfo:{}},emits:["created","updated"],setup(P,{emit:U}){const g=P,x=U,C=j(),d=f(1),l=f(!1),_=f(!1),S=f(0),w=f(null),M=f(!1);le(()=>{S.value=g.catalogId,w.value&&(w.value.addEventListener("show.bs.modal",k),w.value.addEventListener("hide.bs.modal",v)),Q()}),fe(()=>{w.value&&(w.value.removeEventListener("show.bs.modal",k),w.value.removeEventListener("hide.bs.modal",v))}),Z(()=>[g.mode,g.catalogId],([s,a],[n,q])=>{a&&s==="update"&&(d.value=1,S.value=a,ae())});const k=()=>{_.value=!0,g.mode==="new"&&r()},v=()=>{_.value=!1,M.value=!1},t=f({id:null,target:"VM",sourceType:"DOCKERHUB",category:"",packageName:"",version:"",packageInfo:null,helmChart:null,name:"",summary:"",description:"",logoUrlLarge:"",logoUrlSmall:"",catalogRefs:[],minCpu:0,recommendedCpu:0,minMemory:0,recommendedMemory:0,minDisk:0,recommendedDisk:0,hpaEnabled:!1,minReplicas:1,maxReplicas:10,cpuThreshold:80,memoryThreshold:80,ports:[],ingressEnabled:!1,ingressUrl:"",defaultPort:80,registeredById:null,createdAt:null,updatedAt:null}),o=f([{refId:0,refValue:"",refDesc:"",refType:"URL"}]),p=f([{targetPort:80,hostPort:8080,protocol:"TCP"}]),L=se(()=>d.value===1?t.value.target&&t.value.category&&t.value.packageName&&t.value.version:d.value===2?t.value.name.trim().length>0&&t.value.summary.trim().length>0&&t.value.description.trim().length>0:d.value===3?t.value.minCpu>0&&t.value.minMemory>0&&t.value.minDisk>0&&t.value.recommendedCpu>0&&t.value.recommendedMemory>0&&t.value.recommendedDisk>0:d.value===3&&t.value.hpaEnabled?t.value.minReplicas>0&&t.value.maxReplicas>0&&t.value.cpuThreshold>0&&t.value.memoryThreshold>0:(console.log(p.value),d.value===3&&t.value.target==="VM"?t.value.defaultPort>0:d.value===4&&t.value.target==="K8S"?(console.log(p.value.length),p.value.length>0?p.value.every(s=>s.targetPort>0&&s.hostPort>0&&s.protocol):!1):d.value===4&&t.value.ingressEnabled?t.value.ingressUrl.trim().length>0:!0)),$=()=>{L.value&&d.value<4&&(d.value+=1)},b=()=>{d.value>1&&(d.value-=1)},r=()=>{d.value=1,t.value={id:null,target:"VM",sourceType:"DOCKERHUB",category:"",packageName:"",version:"",packageInfo:null,helmChart:null,name:"",summary:"",description:"",logoUrlLarge:"",logoUrlSmall:"",catalogRefs:[],minCpu:0,recommendedCpu:0,minMemory:0,recommendedMemory:0,minDisk:0,recommendedDisk:0,hpaEnabled:!1,minReplicas:1,maxReplicas:10,cpuThreshold:80,memoryThreshold:80,ports:[],ingressEnabled:!1,ingressUrl:"",defaultPort:80,registeredById:null,createdAt:null,updatedAt:null},o.value=[{refId:0,refValue:"",refDesc:"",refType:"URL"}],p.value=[{targetPort:80,hostPort:8080,protocol:"TCP"}]},h=()=>{o.value.push({refId:0,refValue:"",refDesc:"",refType:"URL"})},D=s=>{o.value.length>1&&o.value.splice(s,1)},F=()=>{p.value.push({targetPort:80,hostPort:8080,protocol:"TCP"})},ee=s=>{p.value.length>1&&p.value.splice(s,1)},W=()=>{if(w.value){_.value=!1;const s=w.value.querySelector('[data-bs-dismiss="modal"]');if(s)s.click();else try{const a=window.bootstrap;if(a!=null&&a.Modal)(a.Modal.getInstance(w.value)||new a.Modal(w.value)).hide();else{w.value.classList.remove("show"),w.value.style.display="none",document.body.classList.remove("modal-open");const n=document.querySelector(".modal-backdrop");n==null||n.remove()}}catch(a){console.warn("Modal close failed:",a)}}},te=async()=>{try{t.value.catalogRefs=o.value.filter(s=>s.refValue.trim()),t.value.target==="K8S"&&(t.value.ports=p.value.filter(s=>s.targetPort&&s.hostPort)),t.value.target==="VM"?t.value.sourceType="DOCKERHUB":t.value.target==="K8S"&&(t.value.sourceType="ARTIFACTHUB"),await Ie(t.value),C.success("Registration Success"),W(),x("created")}catch{C.error("Registration Failed")}},H=async()=>{try{t.value.catalogRefs=o.value.filter(s=>s.refValue.trim()),t.value.target==="K8S"&&(t.value.ports=p.value.filter(s=>s.targetPort&&s.hostPort)),t.value.target==="VM"?t.value.sourceType="DOCKERHUB":t.value.target==="K8S"&&(t.value.sourceType="ARTIFACTHUB"),await Me(t.value),C.success("Update Success"),W(),x("updated")}catch{C.error("Update Failed")}},ae=async()=>{try{if(!S.value)return;g.catalogInfo&&g.catalogInfo.category&&(l.value=!0,t.value.target=g.catalogInfo.sourceType==="DOCKERHUB"?"VM":"K8S",t.value.category=g.catalogInfo.category,g.catalogInfo.sourceType==="DOCKERHUB"?(t.value.packageName=g.catalogInfo.packageInfo.packageName,t.value.version=g.catalogInfo.packageInfo.packageVersion):g.catalogInfo.sourceType==="ARTIFACTHUB"&&(t.value.packageName=g.catalogInfo.helmChart.chartName,t.value.version=g.catalogInfo.helmChart.chartVersion),l.value=!1),await ne()}catch{C.error("Failed to load catalog data"),l.value=!1}},ne=async()=>{try{if(!S.value)return;const{data:s}=await Se(S.value);l.value=!0,t.value={...t.value,...s,target:s.sourceType==="DOCKERHUB"?"VM":"K8S"},s.sourceType==="DOCKERHUB"&&(t.value.packageName=s.packageInfo.packageName,t.value.version=s.packageInfo.packageVersion),s.sourceType==="ARTIFACTHUB"&&(t.value.packageName=s.helmChart.chartName,t.value.version=s.helmChart.chartVersion),s.catalogRefs&&s.catalogRefs.length>0?o.value=s.catalogRefs.map(a=>({refId:a.id||0,refValue:a.refValue||"",refDesc:a.refDesc||"",refType:a.refType||"URL"})):o.value=[{refId:0,refValue:"",refDesc:"",refType:"URL"}],s.ports&&s.ports.length>0?p.value=s.ports.map(a=>({targetPort:a.targetPort||80,hostPort:a.hostPort||8080,protocol:a.protocol||"TCP"})):p.value=[{targetPort:80,hostPort:8080,protocol:"TCP"}],await Q(),t.value.category&&(await ie(),t.value.packageName&&await y()),l.value=!1}catch{C.error("Failed to load catalog data"),l.value=!1}},J=s=>{L.value&&(d.value=s)};Z(()=>t.value.target,s=>{s&&(g.mode==="new"&&(t.value.category="",t.value.packageName="",t.value.version=""),Q())});const oe=f([]),Q=async()=>{if(g.mode==="new"&&(oe.value=[],X.value=[],c.value=[],t.value.category="",t.value.packageName="",t.value.version=""),t.value.target){const s={target:t.value.target==="VM"?"DOCKER":"HELM"},{data:a}=await $e(s);oe.value=a}};Z(()=>t.value.category,s=>{s&&(g.mode==="new"&&(t.value.packageName="",t.value.version=""),ie())});const X=f([]),ie=async()=>{g.mode==="new"&&(X.value=[],c.value=[],t.value.packageName="",t.value.version="");const s={target:t.value.target==="VM"?"DOCKER":"HELM",category:t.value.category||""},{data:a}=await xe(s);X.value=a};Z(()=>t.value.packageName,s=>{s&&(g.mode==="new"&&(t.value.version=""),y())});const c=f([]),y=async()=>{g.mode==="new"&&(c.value=[],t.value.version="");const s={target:t.value.target==="VM"?"DOCKER":"HELM",packageName:t.value.packageName||""},{data:a}=await Te(s);g.mode==="new"?a.forEach(n=>{n.isUsed||c.value.push(n)}):c.value=a};return(s,a)=>(u(),m("div",{class:"modal fade",id:"modal-wizard",tabindex:"-1",ref_key:"wizardModal",ref:w},[e("div",Ha,[e("div",Ka,[e("div",Oa,[e("h5",Fa,i(g.mode==="update"?"Application Update":"Application Registration"),1),a[27]||(a[27]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",qa,[e("ul",Ga,[e("li",za,[e("a",{class:N(["nav-link",{active:d.value===1}]),href:"javascript:void(0);",onClick:a[0]||(a[0]=n=>J(1))},"1. Package",2)]),e("li",ja,[e("a",{class:N(["nav-link",{active:d.value===2}]),href:"javascript:void(0);",onClick:a[1]||(a[1]=n=>J(2))},"2. General",2)]),e("li",Ya,[e("a",{class:N(["nav-link",{active:d.value===3}]),href:"javascript:void(0);",onClick:a[2]||(a[2]=n=>J(3))},"3. Resource Requirements",2)]),e("li",Wa,[e("a",{class:N(["nav-link",{active:d.value===4}]),href:"javascript:void(0);",onClick:a[3]||(a[3]=n=>J(4))},"4. Network",2)])]),I(e("div",null,[e("div",Ja,[a[30]||(a[30]=e("label",{class:"form-label required"},"Target",-1)),e("div",Qa,[e("div",Xa,[I(e("input",{class:"form-check-input",type:"radio",name:"target",value:"VM","onUpdate:modelValue":a[4]||(a[4]=n=>t.value.target=n),id:"targetVM",disabled:g.mode==="update"},null,8,Za),[[ue,t.value.target]]),a[28]||(a[28]=e("label",{class:"form-check-label",for:"targetVM"},"VM",-1))]),e("div",eo,[I(e("input",{class:"form-check-input",type:"radio",name:"target",value:"K8S","onUpdate:modelValue":a[5]||(a[5]=n=>t.value.target=n),id:"targetK8S",disabled:g.mode==="update"},null,8,to),[[ue,t.value.target]]),a[29]||(a[29]=e("label",{class:"form-check-label",for:"targetK8S"},"K8S",-1))])])]),e("div",ao,[a[32]||(a[32]=e("label",{class:"form-label required"},"Category",-1)),I(e("select",{class:"form-select","onUpdate:modelValue":a[6]||(a[6]=n=>t.value.category=n),disabled:g.mode==="update"},[a[31]||(a[31]=e("option",{value:""},"Select Category",-1)),(u(!0),m(R,null,V(oe.value,n=>(u(),m("option",{value:n.value,key:n.key},i(n.value),9,so))),128))],8,oo),[[Y,t.value.category]])]),e("div",lo,[e("div",no,[a[34]||(a[34]=e("label",{class:"form-label required"},"Package",-1)),I(e("select",{class:"form-select","onUpdate:modelValue":a[7]||(a[7]=n=>t.value.packageName=n),disabled:g.mode==="update"},[a[33]||(a[33]=e("option",{value:""},"Select Package",-1)),(u(!0),m(R,null,V(X.value,n=>(u(),m("option",{value:n.value,key:n.key},i(n.value),9,ro))),128))],8,io),[[Y,t.value.packageName]])]),e("div",co,[a[36]||(a[36]=e("label",{class:"form-label required"},"Version",-1)),I(e("select",{class:"form-select","onUpdate:modelValue":a[8]||(a[8]=n=>t.value.version=n),disabled:g.mode==="update"},[a[35]||(a[35]=e("option",{value:""},"Select Version",-1)),(u(!0),m(R,null,V(c.value,n=>(u(),m("option",{value:n.value,key:n.key},i(n.value),9,mo))),128))],8,uo),[[Y,t.value.version]])])])],512),[[de,d.value===1]]),I(e("div",null,[e("div",po,[a[37]||(a[37]=e("label",{class:"form-label required"},"Application Name",-1)),I(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=n=>t.value.name=n),placeholder:"Application name"},null,512),[[T,t.value.name]])]),e("div",vo,[a[38]||(a[38]=e("label",{class:"form-label required"},"Summary",-1)),I(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[10]||(a[10]=n=>t.value.summary=n),placeholder:"Application summary"},null,512),[[T,t.value.summary]])]),e("div",go,[a[39]||(a[39]=e("label",{class:"form-label required"},"Description",-1)),I(e("textarea",{class:"form-control",rows:"4","onUpdate:modelValue":a[11]||(a[11]=n=>t.value.description=n),placeholder:"Application description"},null,512),[[T,t.value.description]])]),e("div",bo,[a[41]||(a[41]=e("label",{class:"form-label"},"Reference",-1)),(u(!0),m(R,null,V(o.value,(n,q)=>(u(),m("div",{class:"row g-2 mb-2",key:q},[e("div",fo,[I(e("select",{class:"form-select","onUpdate:modelValue":K=>n.refType=K},a[40]||(a[40]=[be('<option value="URL" data-v-42b8d677>URL</option><option value="IMAGE" data-v-42b8d677>IMAGE</option><option value="HOMEPAGE" data-v-42b8d677>HOMEPAGE</option><option value="TAG" data-v-42b8d677>TAG</option><option value="ETC" data-v-42b8d677>ETC</option>',5)]),8,ho),[[Y,n.refType]])]),e("div",yo,[I(e("input",{type:"text",class:"form-control","onUpdate:modelValue":K=>n.refValue=K,placeholder:"Ref Value"},null,8,_o),[[T,n.refValue]])]),e("div",ko,[e("button",{type:"button",class:"btn btn-outline-danger btn-sm w-100 cursor-pointer",onClick:K=>D(q),disabled:o.value.length<=1},"-",8,wo)])]))),128)),e("div",{class:"form-text cursor-pointer",onClick:h,style:{color:"gray"}},"+ Add Reference")])],512),[[de,d.value===2]]),I(e("div",null,[e("div",Co,[e("div",$o,[a[46]||(a[46]=e("label",{class:"form-label"},"CPU",-1)),e("div",Io,[e("div",Mo,[a[43]||(a[43]=e("label",{class:"form-label text-muted small"},"Minimum",-1)),e("div",So,[I(e("input",{type:"number",min:"0",step:"0.1",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=n=>t.value.minCpu=n),placeholder:"1"},null,512),[[T,t.value.minCpu,void 0,{number:!0}]]),a[42]||(a[42]=e("span",{class:"input-group-text"},"Cores",-1))])]),e("div",xo,[a[45]||(a[45]=e("label",{class:"form-label text-muted small"},"Recommended",-1)),e("div",To,[I(e("input",{type:"number",min:"0",step:"0.1",class:"form-control","onUpdate:modelValue":a[13]||(a[13]=n=>t.value.recommendedCpu=n),placeholder:"2"},null,512),[[T,t.value.recommendedCpu,void 0,{number:!0}]]),a[44]||(a[44]=e("span",{class:"input-group-text"},"Cores",-1))])])])])]),e("div",Ao,[e("div",Uo,[a[51]||(a[51]=e("label",{class:"form-label"},"Memory",-1)),e("div",Do,[e("div",Ro,[a[48]||(a[48]=e("label",{class:"form-label text-muted small"},"Minimum",-1)),e("div",Eo,[I(e("input",{type:"number",min:"0",class:"form-control","onUpdate:modelValue":a[14]||(a[14]=n=>t.value.minMemory=n),placeholder:"4"},null,512),[[T,t.value.minMemory,void 0,{number:!0}]]),a[47]||(a[47]=e("span",{class:"input-group-text"},"GB",-1))])]),e("div",Lo,[a[50]||(a[50]=e("label",{class:"form-label text-muted small"},"Recommended",-1)),e("div",Vo,[I(e("input",{type:"number",min:"0",class:"form-control","onUpdate:modelValue":a[15]||(a[15]=n=>t.value.recommendedMemory=n),placeholder:"8"},null,512),[[T,t.value.recommendedMemory,void 0,{number:!0}]]),a[49]||(a[49]=e("span",{class:"input-group-text"},"GB",-1))])])])])]),e("div",Po,[e("div",No,[a[56]||(a[56]=e("label",{class:"form-label"},"Storage",-1)),e("div",Bo,[e("div",Ho,[a[53]||(a[53]=e("label",{class:"form-label text-muted small"},"Minimum",-1)),e("div",Ko,[I(e("input",{type:"number",min:"0",class:"form-control","onUpdate:modelValue":a[16]||(a[16]=n=>t.value.minDisk=n),placeholder:"10"},null,512),[[T,t.value.minDisk,void 0,{number:!0}]]),a[52]||(a[52]=e("span",{class:"input-group-text"},"GB",-1))])]),e("div",Oo,[a[55]||(a[55]=e("label",{class:"form-label text-muted small"},"Recommended",-1)),e("div",Fo,[I(e("input",{type:"number",min:"0",class:"form-control","onUpdate:modelValue":a[17]||(a[17]=n=>t.value.recommendedDisk=n),placeholder:"20"},null,512),[[T,t.value.recommendedDisk,void 0,{number:!0}]]),a[54]||(a[54]=e("span",{class:"input-group-text"},"GB",-1))])])])])]),t.value.target==="K8S"?(u(),m("div",qo,[e("div",Go,[e("div",zo,[a[57]||(a[57]=e("label",{class:"form-check-label me-2"},"K8S HPA",-1)),e("div",jo,[I(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[18]||(a[18]=n=>t.value.hpaEnabled=n)},null,512),[[me,t.value.hpaEnabled]])])]),e("div",Yo,[e("div",Wo,[a[58]||(a[58]=e("label",{class:"form-label"},"minReplicas",-1)),I(e("input",{type:"number",min:"1",class:"form-control","onUpdate:modelValue":a[19]||(a[19]=n=>t.value.minReplicas=n),disabled:!t.value.hpaEnabled,placeholder:"1"},null,8,Jo),[[T,t.value.minReplicas,void 0,{number:!0}]])]),e("div",Qo,[a[59]||(a[59]=e("label",{class:"form-label"},"maxReplicas",-1)),I(e("input",{type:"number",min:"1",class:"form-control","onUpdate:modelValue":a[20]||(a[20]=n=>t.value.maxReplicas=n),disabled:!t.value.hpaEnabled,placeholder:"10"},null,8,Xo),[[T,t.value.maxReplicas,void 0,{number:!0}]])]),e("div",Zo,[a[60]||(a[60]=e("label",{class:"form-label"},"CPU (%)",-1)),I(e("input",{type:"number",min:"1",max:"100",class:"form-control","onUpdate:modelValue":a[21]||(a[21]=n=>t.value.cpuThreshold=n),disabled:!t.value.hpaEnabled,placeholder:"80"},null,8,es),[[T,t.value.cpuThreshold,void 0,{number:!0}]])]),e("div",ts,[a[61]||(a[61]=e("label",{class:"form-label"},"Memory (%)",-1)),I(e("input",{type:"number",min:"1",max:"100",class:"form-control","onUpdate:modelValue":a[22]||(a[22]=n=>t.value.memoryThreshold=n),disabled:!t.value.hpaEnabled,placeholder:"80"},null,8,as),[[T,t.value.memoryThreshold,void 0,{number:!0}]])])])])])):E("",!0)],512),[[de,d.value===3]]),I(e("div",null,[t.value.target==="VM"?(u(),m("div",os,[e("div",ss,[a[63]||(a[63]=e("div",{class:"card-header"},[e("h6",{class:"card-title"},"Port Mapping")],-1)),e("div",ls,[e("div",ns,[a[62]||(a[62]=e("label",{class:"form-label"},"Port",-1)),I(e("input",{type:"number",min:"1",max:"65535",class:"form-control","onUpdate:modelValue":a[23]||(a[23]=n=>t.value.defaultPort=n),placeholder:"80"},null,512),[[T,t.value.defaultPort,void 0,{number:!0}]])])])])])):E("",!0),t.value.target==="K8S"?(u(),m("div",is,[e("div",ds,[a[69]||(a[69]=e("div",{class:"card-header"},[e("h6",{class:"card-title"},"Port Mapping")],-1)),e("div",rs,[e("div",cs,[a[68]||(a[68]=e("label",{class:"form-label"},"Port",-1)),(u(!0),m(R,null,V(p.value,(n,q)=>(u(),m("div",{class:"row g-2 mb-2",key:q},[e("div",us,[a[64]||(a[64]=e("label",{class:"form-label small"},"Target Port",-1)),I(e("input",{type:"number",min:"1",max:"65535",class:"form-control","onUpdate:modelValue":K=>n.targetPort=K,placeholder:"80"},null,8,ms),[[T,n.targetPort,void 0,{number:!0}]])]),e("div",ps,[a[66]||(a[66]=e("label",{class:"form-label small"},"Protocol",-1)),I(e("select",{class:"form-select","onUpdate:modelValue":K=>n.protocol=K},a[65]||(a[65]=[e("option",{value:"TCP"},"TCP",-1),e("option",{value:"UDP"},"UDP",-1),e("option",{value:"SCTP"},"SCTP",-1)]),8,vs),[[Y,n.protocol]])]),e("div",gs,[a[67]||(a[67]=e("label",{class:"form-label small"},"Host Port",-1)),I(e("input",{type:"number",min:"1",max:"65535",class:"form-control","onUpdate:modelValue":K=>n.hostPort=K,placeholder:"8080"},null,8,bs),[[T,n.hostPort,void 0,{number:!0}]])]),e("div",fs,[e("button",{type:"button",class:"btn btn-outline-danger btn-sm w-100 cursor-pointer",onClick:K=>ee(q),disabled:p.value.length<=1},"-",8,hs)])]))),128)),e("div",{class:"form-text cursor-pointer",onClick:F,style:{color:"gray"}},"+ Add Port Mapping")])])]),e("div",ys,[e("div",_s,[e("div",ks,[a[70]||(a[70]=e("label",{class:"form-check-label me-2"},"Ingress Configuration",-1)),e("div",ws,[I(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[24]||(a[24]=n=>t.value.ingressEnabled=n)},null,512),[[me,t.value.ingressEnabled]])])]),t.value.ingressEnabled?(u(),m("div",Cs,[e("div",$s,[a[71]||(a[71]=e("label",{class:"form-label"},"Ingress Path",-1)),I(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[25]||(a[25]=n=>t.value.ingressUrl=n),placeholder:"/"},null,512),[[T,t.value.ingressUrl]])])])):E("",!0)])])])):E("",!0)],512),[[de,d.value===4]])]),e("div",Is,[e("a",{class:"btn btn-link link-secondary","data-bs-dismiss":"modal",onClick:r}," Cancel "),e("div",Ms,[e("button",{class:"btn btn-outline-secondary",disabled:d.value===1,onClick:b},"Prev",8,Ss),d.value<4?(u(),m("button",{key:0,class:"btn btn-primary",disabled:!L.value,onClick:$},"Next",8,xs)):(u(),m("button",{key:1,class:"btn btn-primary",disabled:!L.value,onClick:a[26]||(a[26]=n=>g.mode==="update"?H():te())},i(g.mode==="update"?"Update":"Create"),9,Ts))])])])])],512))}}),Us=ce(As,[["__scopeId","data-v-42b8d677"]]),Ds={class:"modal-dialog",role:"document"},Rs={class:"modal-content"},Es={class:"modal-body"},Ls={class:"modal-footer"},Vs=["disabled"],Ps={key:0,class:"spinner-border spinner-border-sm me-2",role:"status"},Ns=z({__name:"DeleteConfirmModal",props:{targetCatalog:{}},emits:["deleted","close"],setup(P,{expose:U,emit:g}){const x=P,C=g,d=j(),l=f(!1),_=f(null),S=()=>{if(_.value)try{const t=window.bootstrap;if(t&&t.Modal)new t.Modal(_.value).show();else{_.value.classList.add("show"),_.value.style.display="block",document.body.classList.add("modal-open");const o=document.createElement("div");o.className="modal-backdrop fade show",o.id="delete-modal-backdrop",document.body.appendChild(o)}}catch(t){console.warn("Failed to show modal with Bootstrap, using fallback:",t),_.value.classList.add("show"),_.value.style.display="block",document.body.classList.add("modal-open")}},w=()=>{if(_.value)try{const t=window.bootstrap;if(t&&t.Modal){const o=t.Modal.getInstance(_.value);o?o.hide():M()}else M()}catch(t){console.warn("Failed to hide modal with Bootstrap, using fallback:",t),M()}},M=()=>{if(_.value){_.value.classList.remove("show"),_.value.style.display="none",document.body.classList.remove("modal-open");const t=document.getElementById("delete-modal-backdrop");t&&t.remove(),C("close")}},k=async()=>{var t;if((t=x.targetCatalog)!=null&&t.id){l.value=!0;try{await Ae(x.targetCatalog.id),d.success(`${x.targetCatalog.name} catalog has been successfully deleted.`),w(),C("deleted",x.targetCatalog.id)}catch(o){console.error("Delete failed:",o),d.error("Failed to delete catalog.")}finally{l.value=!1}}},v=()=>{C("close")};return le(()=>{_.value&&_.value.addEventListener("hidden.bs.modal",v)}),fe(()=>{_.value&&_.value.removeEventListener("hidden.bs.modal",v)}),U({show:S,hide:w}),(t,o)=>(u(),m("div",{class:"modal fade",id:"deleteConfirmModal",tabindex:"-1",ref_key:"deleteModal",ref:_,onClick:re(w,["self"])},[e("div",Ds,[e("div",Rs,[e("div",{class:"modal-header"},[o[0]||(o[0]=e("h5",{class:"modal-title"},"Confirm Catalog Deletion",-1)),e("button",{type:"button",class:"btn-close",onClick:w,"aria-label":"Close"})]),e("div",Es,[e("p",null,[o[1]||(o[1]=B("Are you sure you want to delete ")),e("strong",null,i(t.targetCatalog.name),1),B(" ("+i(t.targetCatalog.category)+") catalog?",1)]),o[2]||(o[2]=e("p",{class:"text-muted"},"This action cannot be undone.",-1))]),e("div",Ls,[e("button",{type:"button",class:"btn btn-secondary",onClick:w},"Cancel"),e("button",{type:"button",class:"btn btn-danger",onClick:k,disabled:l.value},[l.value?(u(),m("span",Ps)):E("",!0),B(" "+i(l.value?"Deleting...":"Delete"),1)],8,Vs)])])])],512))}}),Bs={class:"modal-content"},Hs={class:"modal-body"},Ks={class:"row"},Os={class:"col-lg-12"},Fs={class:"mb-3"},qs={class:"row"},Gs={class:"col-lg-12"},zs={class:"mb-3"},js={class:"row"},Ys={class:"col-lg-12"},Ws={class:"mb-3"},Js=["value"],Qs={class:"modal-footer"},Xs=z({__name:"uploadForm",props:{sourceData:{}},emits:["uploaded","close"],setup(P,{expose:U,emit:g}){const x=j(),C=P,d=g,l=f({path:"",sourceType:"",name:"",tag:""});Z(()=>{var $,b;return[($=C.sourceData)==null?void 0:$.sourceType,(b=C.sourceData)==null?void 0:b.name]},()=>{var $,b,r,h,D;($=C.sourceData)!=null&&$.sourceType&&(l.value.sourceType=(b=C.sourceData)==null?void 0:b.sourceType),(r=C.sourceData)!=null&&r.name&&(l.value.name=(h=C.sourceData)==null?void 0:h.name,console.log(l.value.sourceType),l.value.sourceType.toUpperCase()=="DOCKERHUB"?w((D=C.sourceData)==null?void 0:D.name):l.value.sourceType.toUpperCase()=="ARTIFACTHUB"&&M(C.sourceData))},{immediate:!0});const _=f([]);pe(()=>{S()});const S=()=>{l.value={path:"",sourceType:"",name:"",tag:""},_.value=[]},w=async $=>{var h;const b={path:((h=C.sourceData)==null?void 0:h.id)||""},{data:r}=await Ue(b);_.value=[],r.length>0&&r.forEach(D=>{_.value.push({key:D.name,value:D.name})})},M=async $=>{console.log("sourceData",$);const b={kind:"helm",repository:$.repository.name,packageName:$.name},{data:r}=await De(b);_.value=[],r.length>0&&r.forEach(h=>{_.value.push({key:h.version,value:h.version})})},k=()=>{if(!l.value.tag.trim()){x.error("Tag is required.");return}const $=he.cloneDeep(C.sourceData);$.tag=l.value.tag,$.sourceType=l.value.sourceType,$.name=l.value.name,d("uploaded",$),S(),p()},v=()=>{p()},t=()=>{S();const $=document.getElementById("upload-form-modal");if($)try{const b=window.bootstrap;b&&b.Modal?new b.Modal($).show():o()}catch(b){console.warn("Failed to show modal with Bootstrap, using fallback:",b),o()}},o=()=>{const $=document.getElementById("upload-form-modal");if($){document.querySelectorAll(".modal-backdrop").forEach(h=>h.remove()),$.classList.add("show"),$.style.display="block",$.style.opacity="1",$.setAttribute("aria-hidden","false"),document.body.classList.add("modal-open");const r=document.createElement("div");r.className="modal-backdrop fade show",r.id="upload-modal-backdrop",document.body.appendChild(r)}},p=()=>{const $=document.getElementById("upload-form-modal");if($)try{const b=window.bootstrap;if(b&&b.Modal){const r=b.Modal.getInstance($);r?r.hide():L()}else L()}catch(b){console.warn("Failed to hide modal with Bootstrap, using fallback:",b),L()}},L=()=>{const $=document.getElementById("upload-form-modal");$&&($.classList.remove("show","fade","in"),$.style.display="none",$.style.opacity="0",$.setAttribute("aria-hidden","true"),document.body.classList.remove("modal-open"),document.body.style.overflow="",document.body.style.paddingRight="",document.querySelectorAll(".modal-backdrop, #upload-modal-backdrop").forEach(r=>r.remove()),d("close"))};return pe(()=>{S()}),U({show:t,hide:p}),($,b)=>(u(),m("div",{class:"modal modal-blur fade",id:"upload-form-modal",tabindex:"-1",role:"dialog","aria-hidden":"true",onClick:v},[e("div",{class:"modal-dialog modal-lg modal-dialog-centered",role:"document",onClick:b[3]||(b[3]=re(()=>{},["stop"]))},[e("div",Bs,[e("div",{class:"modal-header"},[b[4]||(b[4]=e("h5",{class:"modal-title"},"Upload Application",-1)),e("button",{type:"button",class:"btn-close",onClick:p,"aria-label":"Close"})]),e("div",Hs,[e("form",{onSubmit:re(k,["prevent"])},[e("div",Ks,[e("div",Os,[e("div",Fs,[b[5]||(b[5]=e("label",{class:"form-label"},"Source Type",-1)),I(e("input",{type:"text",class:"form-control","onUpdate:modelValue":b[0]||(b[0]=r=>l.value.sourceType=r),disabled:""},null,512),[[T,l.value.sourceType]])])])]),e("div",qs,[e("div",Gs,[e("div",zs,[b[6]||(b[6]=e("label",{class:"form-label"},"Name",-1)),I(e("input",{type:"text",class:"form-control","onUpdate:modelValue":b[1]||(b[1]=r=>l.value.name=r),disabled:""},null,512),[[T,l.value.name]])])])]),e("div",js,[e("div",Ys,[e("div",Ws,[b[8]||(b[8]=e("label",{class:"form-label"},[B("Tag "),e("span",{class:"text-red"},"*")],-1)),I(e("select",{class:"form-select","onUpdate:modelValue":b[2]||(b[2]=r=>l.value.tag=r)},[b[7]||(b[7]=e("option",{value:""},"Select Tag",-1)),(u(!0),m(R,null,V(_.value,r=>(u(),m("option",{value:r.value,key:r.key},i(r.value),9,Js))),128))],512),[[Y,l.value.tag]]),b[9]||(b[9]=e("small",{class:"form-hint"},"Please enter the tag for this catalog.",-1))])])])],32)]),e("div",Qs,[e("button",{type:"button",class:"btn btn-link link-secondary",onClick:p}," Cancel "),e("button",{type:"submit",class:"btn btn-primary ms-auto",onClick:k},[A(O(Xe),{class:"icon"}),b[10]||(b[10]=B(" Upload "))])])])])]))}}),Zs=ce(Xs,[["__scopeId","data-v-3e6265d5"]]),el={ref:"sofwareCatalog"},tl={class:"row"},al={class:"col-lg-9"},ol={class:"card"},sl={class:"list-group card-list-group",id:"sc-list-group"},ll={class:"row g-2 align-items-center"},nl={class:"col-auto me-3"},il=["src"],dl={key:1,src:"https://artifacthub.io/static/media/placeholder_pkg_helm.png",class:"rounded",alt:"Catalog Icon",width:"40",height:"40"},rl=["onClick"],cl={class:"text-muted"},ul=["onClick"],ml={class:"text-muted",style:{width:"auto","text-align":"right"}},pl={style:{color:"#e5b942"}},vl={style:{color:"#e5b942"}},gl={class:"text-muted",style:{width:"80px","text-align":"right"}},bl={style:{color:"gray"}},fl={class:"col-3 text-muted"},hl={class:"d-flex justify-content-end"},yl={class:"mouse-hover"},_l=["onClick"],kl={class:"text-muted"},wl=["id"],Cl={class:"accordion-body pt-0"},$l=["innerHTML"],Il=["id"],Ml=["onClick"],Sl=["id"],xl=["id"],Tl={class:"btn btn-sm",style:{"margin-right":"5px"}},Al={class:"btn btn-sm",style:{"margin-right":"5px"}},Ul={class:"btn btn-sm",style:{"margin-right":"5px"}},Dl={class:"col-lg-3"},Rl={class:"input-icon mb-3"},El={class:"input-icon-addon"},Ll={key:0,class:"col-md-6 col-lg-12",id:"resultDockerHubEmpty"},Vl={key:1,class:"row row-cards",id:"resultDockerHubSearch"},Pl={class:"card"},Nl={class:"row row-0"},Bl={class:"col-auto"},Hl=["src"],Kl={class:"col"},Ol={class:"card-body"},Fl=["href"],ql={class:"text-muted"},Gl={class:"col-auto lh-1"},zl={class:"d-flex justify-content-end me-2 mt-4 mouse-hover"},jl={class:"mt-5"},Yl={key:0,class:"col-md-6 col-lg-12",id:"resultArtifactHubEmpty"},Wl={key:1,class:"row row-cards",id:"resultArtifactHubSearch"},Jl={class:"card"},Ql={class:"row row-0"},Xl={class:"col"},Zl={class:"card-body"},en=["href"],tn={class:"text-muted"},an={class:"col-auto lh-1"},on={class:"d-flex justify-content-end me-2 mt-4 mouse-hover"},sn=z({__name:"softwareCatalogList",setup(P){const U=j(),g=f([]),x=f(null),C=f(null),d=f({}),l=f("new"),_=f({}),S=f(""),w=f({}),M=f(null),k=f(null),v=f({}),t=f(""),o=f([]),p=f([]),L=f("");le(async()=>{t.value="",b(),document.addEventListener("click",c=>{c.target.closest(".dropdown")||(L.value="")})});const $=()=>{l.value="new",C.value=null,d.value={},x.value=0,_.value={},S.value=""},b=async()=>{try{await Re(t.value).then(({data:c})=>{he.forEach(c,function(y){y.refData=r(y.catalogRefs),y.isShow=!1}),g.value=c})}catch(c){console.log(c),U.error("Unable to retrieve data.")}},r=c=>c.reduce((y,s)=>(y[s.refType]||(y[s.refType]=[]),y[s.refType].push(s),y),{}),h=async c=>{c.keyCode==13&&(await D(),await F())},D=async()=>{o.value=[];try{const{data:c}=await Le(t.value);for(let y=0;y<3;y++)o.value.push(c.results[y])}catch(c){console.log(c),U.error("Unable to retrieve data.")}},F=async()=>{p.value=[];try{const{data:c}=await Ve(t.value);for(let y=0;y<3;y++)p.value.push(c.packages[y])}catch(c){console.log(c),U.error("Unable to retrieve data.")}},ee=c=>{const y=g.value.find(s=>s.id===c);C.value=c,d.value=y||{},l.value="update"},W=c=>{w.value=c,M.value&&M.value.show()},te=async c=>{await b()},H=()=>{w.value={}},ae=async c=>{g.value[c].isShow=!g.value[c].isShow},ne=(c,y)=>Object.prototype.hasOwnProperty.call(c,y),J=c=>{window.open(c)},oe=c=>c.replace(/\\n|\n/g,"<br/>"),Q=(c,y)=>{v.value=c,v.value.sourceType=y,k.value&&k.value.show()},X=async c=>{if(c.sourceType=="DockerHub"){c.createdAt=c.created_at,c.updatedAt=c.updated_at,c.shortDescription=c.short_description,c.starCount=c.star_count,c.ratePlans=c.rate_plans,delete c.created_at,delete c.updated_at,delete c.short_description,delete c.star_count,delete c.rate_plans;const{data:y}=await Pe(c)}else if(c.sourceType=="ArtifactHub"){const{data:y}=await Ne(c)}U.success("Software catalog uploaded successfully!")},ie=()=>{v.value={sourceType:"",name:"",sourceData:{}}};return(c,y)=>(u(),m(R,null,[e("div",el,[e("div",{class:"d-flex justify-content-between align-items-center mb-3"},[y[1]||(y[1]=e("h2",{class:"mb-0"},"Catalog",-1)),e("button",{class:"btn btn-outline-primary d-none d-sm-inline-block",style:{"margin-right":"315px"},"data-bs-toggle":"modal","data-bs-target":"#modal-wizard",onClick:$}," Regist ")]),e("div",tl,[e("div",al,[e("div",ol,[e("div",sl,[(u(!0),m(R,null,V(g.value,(s,a)=>(u(),m("div",{class:"list-group-item pe-1",key:a},[e("div",ll,[e("div",nl,[s.logoUrlLarge?(u(),m("img",{key:0,src:s.logoUrlLarge,class:"rounded",alt:"Catalog Icon",width:"40",height:"40"},null,8,il)):(u(),m("img",dl))]),e("div",{class:"col-5",onClick:n=>ae(a)},[B(i(s.name)+" ",1),e("div",cl,i(s.summary),1)],8,rl),e("div",{class:"col-3 d-flex justify-content-end",onClick:n=>ae(a)},[e("span",ml,[A(O(Ze),{class:"icon me-1",width:"12",height:"12","stroke-width":"1",color:"#e5b942"}),e("span",pl,i(s.averageRating||0),1),e("span",vl," ("+i(s.ratingCount||0)+") ",1)]),e("span",gl,[A(O(je),{class:"icon me-1",width:"12",height:"12","stroke-width":"1",color:"gray"}),e("span",bl,i(s.downloadCount||0),1)])],8,ul),e("div",fl,[e("div",hl,[e("div",yl,[A(O(Ye),{class:"me-2 cursor-pointer",size:"15","stroke-width":"2","data-bs-toggle":"modal","data-bs-target":"#modal-wizard",onClick:n=>ee(s.id)},null,8,["onClick"]),A(O(Qe),{class:"cursor-pointer",size:"15","stroke-width":"2",onClick:n=>W(s)},null,8,["onClick"])])]),e("div",{class:"d-flex justify-content-end",onClick:n=>ae(a)},[e("span",kl,i(s.category.length>25?s.category.substring(0,25)+"...":s.category),1)],8,_l)]),e("div",{id:"accordion_"+s.id,class:"accordion-collapse collapse",style:Ke([s.isShow?{display:"block"}:{display:"none"}])},[e("div",Cl,[e("div",{class:"mt-3 mb-5",innerHTML:oe(s.description)},null,8,$l),e("div",null,[y[2]||(y[2]=e("strong",null,"Ref Information",-1)),e("ul",{id:`${a}-entity-ul`},[ne(s.refData,"HOMEPAGE")?(u(!0),m(R,{key:0},V(s.refData.HOMEPAGE,(n,q)=>(u(),m("li",{key:q},[e("a",{class:"btn",onClick:K=>J(n.refValue)},i(n.refValue),9,Ml)]))),128)):E("",!0)],8,Il),y[3]||(y[3]=e("strong",null,"TAGS",-1)),e("ul",{id:`${a}-tag-ul`},[ne(s.refData,"TAG")?(u(!0),m(R,{key:0},V(s.refData.TAG,(n,q)=>(u(),m("span",{key:q},"#"+i(n.refValue)+" Â ",1))),128)):E("",!0)],8,Sl),y[4]||(y[4]=e("strong",null,"Recommended Spec",-1)),e("ul",{id:`${a}-tag-ul`},[s.recommendedCpu&&s.recommendedMemory&&s.recommendedDisk?(u(),m(R,{key:0},[e("button",Tl," CPU : "+i(s.recommendedCpu)+" Core ",1),e("button",Al," MEMORY : "+i(s.recommendedMemory)+" GB ",1),e("button",Ul," DISK : "+i(s.recommendedDisk)+" GB ",1)],64)):E("",!0)],8,xl)])])],12,wl)])]))),128))])])]),e("div",Dl,[e("div",Rl,[e("span",El,[A(O(Ee),{class:"icon",width:"24",height:"24","stroke-width":"2"})]),I(e("input",{type:"text",class:"form-control",placeholder:"Searchâ€¦",onKeypress:h,"onUpdate:modelValue":y[0]||(y[0]=s=>t.value=s),id:"inputCatalogSearch"},null,544),[[T,t.value]])]),y[7]||(y[7]=e("h3",{class:"mb-3"}," DOCKERHUB ",-1)),o.value.length<=0?(u(),m("div",Ll," There are no related Container Images found. ")):E("",!0),o.value.length>0?(u(),m("div",Vl,[(u(!0),m(R,null,V(o.value,(s,a)=>(u(),m("div",{class:"col-md-6 col-lg-12",key:a},[e("div",Pl,[e("div",Nl,[e("div",Bl,[e("img",{src:s.logo_url.large,class:"rounded-start ms-2",alt:"Shape of You",width:"80",height:"80"},null,8,Hl)]),e("div",Kl,[e("div",Ol,[e("a",{href:"https://hub.docker.com/search?q="+t.value,target:"_blank"},i(s.name),9,Fl),e("div",ql,i(s.short_description.length>30?s.short_description.substring(0,30)+"...":""),1)])]),e("div",Gl,[e("div",zl,[A(O(ge),{class:"cursor-pointer",size:"20","stroke-width":"2",onClick:n=>Q(s,"DockerHub")},null,8,["onClick"])])])])])]))),128))])):E("",!0),e("div",jl,[y[6]||(y[6]=e("h3",{class:"mb-3"}," ARTIFACTHUB ",-1)),p.value.length<=0?(u(),m("div",Yl," There are no related Helm Charts found. ")):E("",!0),p.value.length>0?(u(),m("div",Wl,[(u(!0),m(R,null,V(p.value,(s,a)=>(u(),m("div",{class:"col-md-6 col-lg-12",key:a},[e("div",Jl,[e("div",Ql,[y[5]||(y[5]=e("div",{class:"col-auto"},[e("img",{src:"https://artifacthub.io/static/media/placeholder_pkg_helm.png",class:"rounded-start",alt:"Shape of You",width:"80",height:"80"})],-1)),e("div",Xl,[e("div",Zl,[e("a",{href:"https://artifacthub.io/packages/search?ts_query_web="+t.value+"&sort=relevance&page=1",target:"_blank"},i(s.name),9,en),e("div",tn,i(s.description.length>30?s.description.substring(0,30)+"...":""),1)])]),e("div",an,[e("div",on,[A(O(ge),{class:"cursor-pointer",size:"20","stroke-width":"2",onClick:n=>Q(s,"ArtifactHub")},null,8,["onClick"])])])])])]))),128))])):E("",!0)])])])],512),A(Ns,{ref_key:"deleteConfirmModal",ref:M,"target-catalog":w.value,onDeleted:te,onClose:H},null,8,["target-catalog"]),A(Us,{mode:l.value,"catalog-id":C.value,"catalog-info":d.value,onCreated:b,onUpdated:b},null,8,["mode","catalog-id","catalog-info"]),A(Zs,{ref_key:"uploadFormModal",ref:k,"source-data":v.value,onUploaded:X,onClose:ie},null,8,["source-data"])],64))}}),ln={class:"page",ref:"sofwareCatalog"},nn={class:"page-wrapper"},dn={class:"page-header d-print-none"},rn={class:"container-xxl"},cn={class:"row g-2 align-items-center"},un={class:"col-auto ms-auto"},mn={class:"page-body"},pn={class:"container-xxl"},vn={class:"row"},gn={class:"col-lg-12"},bn={class:"card"},fn={class:"card-header"},hn={class:"nav nav-tabs card-header-tabs","data-bs-toggle":"tabs"},yn={class:"nav-item"},_n={href:"#tabs-catalog",class:"nav-link active","data-bs-toggle":"tab"},kn={class:"nav-item"},wn={href:"#tabs-status",class:"nav-link","data-bs-toggle":"tab"},Cn={class:"nav-item"},$n={href:"#tabs-repository",class:"nav-link","data-bs-toggle":"tab"},In={class:"card-body"},Mn={class:"tab-content"},Sn={class:"tab-pane active show",id:"tabs-catalog"},xn={class:"tab-pane",id:"tabs-status"},Tn={class:"tab-pane",id:"tabs-repository"},Kn=z({__name:"SoftwareCatalog",setup(P){const U=Oe(),g=f(""),x=f(""),C=f(!1),d=f("");le(async()=>{g.value=U.getNsId()});const l=w=>{x.value=w},_=w=>{d.value=w,C.value=!0},S=()=>{C.value=!1,d.value=""};return(w,M)=>(u(),m(R,null,[e("div",ln,[e("div",nn,[e("div",dn,[e("div",rn,[e("div",cn,[M[1]||(M[1]=e("div",{class:"col d-flex"},[e("h2",{class:"page-title"},"Software Catalog")],-1)),e("div",un,[e("button",{class:"btn btn-outline-primary d-none d-sm-inline-block","data-bs-toggle":"modal","data-bs-target":"#install-form",onClick:M[0]||(M[0]=k=>l("Application Installation"))}," DEPLOY ")])])])]),e("div",mn,[e("div",pn,[e("div",vn,[e("div",gn,[e("div",bn,[e("div",fn,[e("ul",hn,[e("li",yn,[e("a",_n,[A(O(ze),{class:"icon me-2",width:"24",height:"24","stroke-width":"2"}),M[2]||(M[2]=B(" Catalog "))])]),e("li",kn,[e("a",wn,[A(O(Ge),{class:"icon me-2",width:"24",height:"24","stroke-width":"2"}),M[3]||(M[3]=B(" Apps Status "))])]),e("li",Cn,[e("a",$n,[A(O(We),{class:"icon me-2",width:"24",height:"24","stroke-width":"2"}),M[4]||(M[4]=B(" Repository "))])])])]),e("div",In,[e("div",Mn,[e("div",Sn,[e("div",null,[A(sn,{nsId:g.value},null,8,["nsId"])])]),e("div",xn,[e("div",null,[A(Ba)])]),e("div",Tn,[e("div",null,[C.value?(u(),ve(qe,{key:1,embedded:!0,"repository-name":d.value,onBackToList:S},null,8,["repository-name"])):(u(),ve(Fe,{key:0,embedded:!0,onOpenDetail:_}))])])])])])])])])])])],512),A(Be,{"ns-id":g.value,title:x.value},null,8,["ns-id","title"])],64))}});export{Kn as default};

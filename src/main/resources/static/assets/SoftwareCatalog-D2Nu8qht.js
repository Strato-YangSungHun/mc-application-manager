import{c as Y}from"./IconPlus-3xp-XtA_.js";import{r as Ce,a as $e,s as Me,g as Ie,b as Se,c as xe,d as Te,u as De,e as Ue,f as Ae,h as Re,i as Ee,j as Le,k as Ve,l as Pe,I as Ne,m as Be,n as He,o as Fe,p as Ke,A as Oe}from"./softwareCatalogForm.vue_vue_type_style_index_0_scoped_c6733d12_lang-Sjo5aRrl.js";import{_ as ze}from"./Tabulator.vue_vue_type_style_index_0_lang-DlIFXSXI.js";import{d as W,u as J,c as de,r as f,a as r,b as e,l as F,j as V,t as i,e as $,g as A,h as d,m as me,F as L,f as P,v as Q,k as _e,n as H,o as re,i as R,p as q,q as ke,w as ue,s as ce,x as ge,y as be,z as fe,A as qe,B as Ge,C as he}from"./index-m3Ti63A1.js";import{_ as pe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as we}from"./lodash-DjL3yUU0.js";import{_ as je}from"./RepositoryList.vue_vue_type_script_setup_true_lang-SqevZ6rA.js";import{_ as Ye}from"./RepositoryDetail.vue_vue_type_script_setup_true_lang-BoUNIDRK.js";import"./request-DYvQt4Sf.js";import"./bootstrap.esm-Dt3AtxfX.js";import"./repository-BPtiJGMx.js";/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var We=Y("outline","activity-heartbeat","IconActivityHeartbeat",[["path",{d:"M3 12h4.5l1.5 -6l4 12l2 -9l1.5 3h4.5",key:"svg-0"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Je=Y("outline","apps","IconApps",[["path",{d:"M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M14 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M14 7l6 0",key:"svg-3"}],["path",{d:"M17 4l0 6",key:"svg-4"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qe=Y("outline","cloud-download","IconCloudDownload",[["path",{d:"M19 18a3.5 3.5 0 0 0 0 -7h-1a5 4.5 0 0 0 -11 -2a4.6 4.4 0 0 0 -2.1 8.4",key:"svg-0"}],["path",{d:"M12 13l0 9",key:"svg-1"}],["path",{d:"M9 19l3 3l3 -3",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ye=Y("outline","download","IconDownload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xe=Y("outline","edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ze=Y("outline","folder","IconFolder",[["path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2",key:"svg-0"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var et=Y("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tt=Y("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var at=Y("outline","upload","IconUpload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ot=Y("filled","star-filled","IconStarFilled",[["path",{d:"M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z",key:"svg-0"}]]);const st={class:"modal",id:"action-confirm",tabindex:"-1"},lt={class:"modal-dialog modal-lg",role:"document"},nt={class:"modal-content"},it={class:"modal-header"},dt={class:"modal-title"},rt={key:0},ct={class:"modal-body",style:{"max-height":"calc(100vh - 200px)","overflow-y":"auto"}},ut={class:"mb-3"},mt={class:"modal-footer d-flex justify-content-between"},pt=W({__name:"applicationActionConfirm",props:{title:{},applicationStatusId:{},type:{},applicationName:{}},emits:["getApplicationsStatusList"],setup(B,{emit:E}){const D=J(),M=B,x=E,g=de(()=>M.title),o=de(()=>M.applicationStatusId),h=de(()=>M.type),U=f(""),T=()=>{U.value=""},w=async()=>{T();let b;const c={operation:g.value,applicationStatusId:o.value,reason:U.value};if(h.value==="VM"){const{data:u}=await Ce(c);b=u}else if(h.value==="K8S"){const{data:u}=await $e(c);b=u}x("getApplicationsStatusList"),b?D.success(`${g.value} Action SUCCESS`):D.error(`${g.value} Action FAIL`)};return(b,c)=>(d(),r("div",st,[e("div",lt,[e("div",nt,[e("div",it,[e("h5",dt,[F(i(b.applicationName)+" "+i(g.value)+" ",1),h.value?(d(),r("span",rt,"("+i(h.value)+")",1)):V("",!0)]),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:T})]),e("div",ct,[e("div",ut,[c[1]||(c[1]=e("label",{class:"form-label"},"Reason",-1)),c[2]||(c[2]=e("p",{class:"text-muted"}," Please enter a reason ",-1)),$(e("textarea",{class:"form-control",rows:"10",placeholder:"Reason","onUpdate:modelValue":c[0]||(c[0]=u=>U.value=u)},null,512),[[A,U.value]])])]),e("div",mt,[e("a",{class:"btn btn-link link-secondary","data-bs-dismiss":"modal",onClick:T}," Cancel "),e("div",null,[e("button",{class:"btn btn-primary ms-auto","data-bs-dismiss":"modal",onClick:w},i(g.value),1)])])])])]))}}),vt={class:"modal modal-blur fade",id:"rating-modal",tabindex:"-1",role:"dialog","aria-hidden":"true"},gt={class:"modal-dialog modal-dialog-centered",role:"document"},bt={class:"modal-content"},ft={class:"modal-body"},ht={class:"mb-3"},yt={class:"rating-stars"},_t=["onClick"],kt={class:"mb-3"},wt={class:"mb-3"},Ct={class:"mb-3"},$t={class:"mb-3"},Mt={class:"modal-footer"},It=["disabled"],St=W({__name:"applicationRatingModal",props:{catalogId:{},applicationName:{}},emits:["ratingSubmitted"],setup(B,{emit:E}){const D=B,M=E,x=J(),g=f({rating:0,category:"",detailedComments:"",name:"",email:""}),o=b=>{g.value.rating=b},h=de(()=>g.value.rating>0&&g.value.category&&g.value.detailedComments&&g.value.name&&g.value.email),U=()=>{g.value={rating:0,category:"",detailedComments:"",name:"",email:""}},T=()=>{const b=document.getElementById("rating-modal");if(b)try{if(window.bootstrap&&window.bootstrap.Modal){const c=window.bootstrap.Modal.getInstance(b);c?c.hide():new window.bootstrap.Modal(b).hide()}else b.style.display="none",b.classList.remove("show"),b.setAttribute("aria-hidden","true"),b.removeAttribute("aria-modal"),document.body.classList.remove("modal-open"),document.querySelectorAll(".modal-backdrop").forEach(u=>u.remove()),document.body.style.overflow="",document.body.style.paddingRight=""}catch(c){console.error("Error closing modal:",c),b.style.display="none",b.classList.remove("show"),document.body.classList.remove("modal-open"),document.querySelectorAll(".modal-backdrop").forEach(I=>I.remove())}},w=async()=>{if(!h.value){x.error("Please fill in all fields");return}try{const b={catalogId:D.catalogId,rating:g.value.rating,category:g.value.category,detailedComments:g.value.detailedComments,name:g.value.name,email:g.value.email,metadata:JSON.stringify({version:"1.0.0",environment:"production",applicationName:D.applicationName})};await Me(b)&&(x.success("Rating submitted successfully"),U(),M("ratingSubmitted"),T())}catch(b){console.error("Rating submission error:",b),x.error("Failed to submit rating")}};return(b,c)=>(d(),r("div",vt,[e("div",gt,[e("div",bt,[c[11]||(c[11]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title"},"Application Rating"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",ft,[e("form",{onSubmit:me(w,["prevent"])},[e("div",ht,[c[4]||(c[4]=e("label",{class:"form-label"},"Overall Rating",-1)),e("div",yt,[(d(),r(L,null,P(5,u=>e("span",{key:u,class:H(["star",{active:u<=g.value.rating}]),onClick:I=>o(u)}," â˜… ",10,_t)),64))])]),e("div",kt,[c[6]||(c[6]=e("label",{class:"form-label"},"Category",-1)),$(e("select",{"onUpdate:modelValue":c[0]||(c[0]=u=>g.value.category=u),class:"form-select",required:""},c[5]||(c[5]=[_e('<option value="" data-v-714cdadf>Select Category</option><option value="Performance" data-v-714cdadf>Performance</option><option value="Usability" data-v-714cdadf>Usability</option><option value="Reliability" data-v-714cdadf>Reliability</option><option value="Security" data-v-714cdadf>Security</option><option value="Support" data-v-714cdadf>Support</option>',6)]),512),[[Q,g.value.category]])]),e("div",wt,[c[7]||(c[7]=e("label",{class:"form-label"},"Detailed Comments",-1)),$(e("textarea",{"onUpdate:modelValue":c[1]||(c[1]=u=>g.value.detailedComments=u),class:"form-control",rows:"4",placeholder:"Enter detailed comments",required:""},null,512),[[A,g.value.detailedComments]])]),e("div",Ct,[c[8]||(c[8]=e("label",{class:"form-label"},"Name",-1)),$(e("input",{"onUpdate:modelValue":c[2]||(c[2]=u=>g.value.name=u),type:"text",class:"form-control",placeholder:"Enter your name",required:""},null,512),[[A,g.value.name]])]),e("div",$t,[c[9]||(c[9]=e("label",{class:"form-label"},"Email",-1)),$(e("input",{"onUpdate:modelValue":c[3]||(c[3]=u=>g.value.email=u),type:"email",class:"form-control",placeholder:"Enter your email",required:""},null,512),[[A,g.value.email]])])],32)]),e("div",Mt,[c[10]||(c[10]=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel",-1)),e("button",{type:"button",class:"btn btn-primary",onClick:w,disabled:!h.value},"Submit",8,It)])])])]))}}),xt=pe(St,[["__scopeId","data-v-714cdadf"]]),Tt={class:"modal modal-blur fade",id:"application-detail-modal",tabindex:"-1",role:"dialog","aria-hidden":"true"},Dt={class:"modal-dialog modal-xl modal-dialog-centered",role:"document"},Ut={class:"modal-content"},At={class:"modal-body",style:{"max-height":"80vh","overflow-y":"auto"}},Rt={key:0,class:"text-center"},Et={key:1},Lt={class:"mb-4"},Vt={class:"row"},Pt={class:"col-md-2 text-center"},Nt=["src","alt"],Bt={class:"col-md-10"},Ht={class:"text-muted"},Ft={class:"row"},Kt={class:"col-md-3"},Ot={class:"col-md-3"},zt={class:"col-md-3"},qt={class:"col-md-3"},Gt={class:"mb-4"},jt={class:"row"},Yt={class:"col-md-3"},Wt={class:"card text-center"},Jt={class:"card-body"},Qt={class:"card-title"},Xt={class:"col-md-3"},Zt={class:"card text-center"},ea={class:"card-body"},ta={class:"card-title"},aa={class:"col-md-3"},oa={class:"card text-center"},sa={class:"card-body"},la={class:"card-title"},na={class:"col-md-3"},ia={class:"card text-center"},da={class:"card-body"},ra={class:"card-title"},ca={class:"mb-4"},ua={class:"table-responsive"},ma={class:"table table-sm"},pa={key:0},va={class:"mb-4"},ga={class:"table-responsive"},ba={class:"table table-sm"},fa={key:1},ha={class:"mb-4"},ya={class:"mb-3"},_a={class:"table-responsive"},ka={class:"table table-sm"},wa={class:"mb-3"},Ca={class:"table-responsive"},$a={class:"table table-sm"},Ma={class:"mb-3"},Ia={class:"table-responsive"},Sa={class:"table table-sm"},xa={key:0,class:"mb-3"},Ta={class:"table-responsive"},Da={class:"table table-sm"},Ua={key:0,class:"mb-4"},Aa={class:"table-responsive"},Ra={class:"table table-sm"},Ea={key:2,class:"text-center text-muted"},La=W({__name:"applicationDetailModal",props:{deploymentId:{}},emits:["close"],setup(B,{expose:E,emit:D}){const M=D,x=J(),g=f(!1),o=f(null),h=f(0);E({refreshData:t=>{h.value=t,h&&T()}});const T=async()=>{if(h){g.value=!0;try{const{data:t}=await Ie(h.value);t&&(o.value=t.integratedInfo)}catch(t){console.error("Failed to load application detail:",t),x.error("Failed to load application detail")}finally{g.value=!1}}},w=t=>{switch(t==null?void 0:t.toLowerCase()){case"success":case"completed":case"running":return"badge bg-success";case"failed":case"error":case"not_found":return"badge bg-danger";case"in_progress":case"pending":case"restart":return"badge bg-warning";default:return"badge bg-secondary"}},b=t=>{switch(t==null?void 0:t.toLowerCase()){case"critical":return"badge bg-danger";case"warning":return"badge bg-warning";case"error":return"badge bg-danger";default:return"badge bg-info"}},c=t=>{switch(t==null?void 0:t.toLowerCase()){case"info":return"badge bg-info";case"warning":return"badge bg-warning";case"error":return"badge bg-danger";case"debug":return"badge bg-secondary";default:return"badge bg-primary"}},u=t=>{if(t===0)return"0 Bytes";if(!t)return"N/A";const s=1024,l=["Bytes","KB","MB","GB","TB"],m=Math.floor(Math.log(t)/Math.log(s));return parseFloat((t/Math.pow(s,m)).toFixed(2))+" "+l[m]},I=()=>{const t=document.getElementById("application-detail-modal");if(t)try{if(window.bootstrap&&window.bootstrap.Modal){const s=window.bootstrap.Modal.getInstance(t);s?s.hide():new window.bootstrap.Modal(t).hide()}else t.style.display="none",t.classList.remove("show"),t.setAttribute("aria-hidden","true"),t.removeAttribute("aria-modal"),document.body.classList.remove("modal-open"),document.querySelectorAll(".modal-backdrop").forEach(l=>l.remove()),document.body.style.overflow="",document.body.style.paddingRight=""}catch(s){console.error("Error closing modal:",s),t.style.display="none",t.classList.remove("show"),document.body.classList.remove("modal-open"),document.querySelectorAll(".modal-backdrop").forEach(m=>m.remove())}o.value=null,M("close")};return(t,s)=>(d(),r("div",Tt,[e("div",Dt,[e("div",Ut,[e("div",{class:"modal-header"},[s[0]||(s[0]=e("h5",{class:"modal-title"},"Application Detail",-1)),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:I})]),e("div",At,[g.value?(d(),r("div",Rt,s[1]||(s[1]=[e("div",{class:"spinner-border",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1)]))):o.value?(d(),r("div",Et,[e("div",Lt,[s[6]||(s[6]=e("h6",{class:"text-primary"},"Application Overview",-1)),e("div",Vt,[e("div",Pt,[o.value.logoUrlLarge?(d(),r("img",{key:0,src:o.value.logoUrlLarge,alt:o.value.catalogName,class:"img-fluid",style:{"max-height":"80px"}},null,8,Nt)):V("",!0)]),e("div",Bt,[e("h5",null,i(o.value.catalogName),1),e("p",Ht,i(o.value.catalogDescription),1),e("div",Ft,[e("div",Kt,[s[2]||(s[2]=e("strong",null,"Category:",-1)),F(" "+i(o.value.catalogCategory),1)]),e("div",Ot,[s[3]||(s[3]=e("strong",null,"Default Port:",-1)),F(" "+i(o.value.defaultPort),1)]),e("div",zt,[s[4]||(s[4]=e("strong",{class:"me-2"},"Status:",-1)),e("span",{class:H(w(o.value.applicationStatus))},i(o.value.applicationStatus),3)]),e("div",qt,[s[5]||(s[5]=e("strong",{class:"me-2"},"Health Check:",-1)),e("span",{class:H(o.value.healthCheck?"text-success":"text-danger")},i(o.value.healthCheck?"Healthy":"Unhealthy"),3)])])])])]),e("div",Gt,[s[11]||(s[11]=e("h6",{class:"text-primary"},"Performance Metrics",-1)),e("div",jt,[e("div",Yt,[e("div",Wt,[e("div",Jt,[e("h5",Qt,i(o.value.cpuUsage)+"%",1),s[7]||(s[7]=e("p",{class:"card-text"},"CPU Usage",-1))])])]),e("div",Xt,[e("div",Zt,[e("div",ea,[e("h5",ta,i(o.value.memoryUsage)+"%",1),s[8]||(s[8]=e("p",{class:"card-text"},"Memory Usage",-1))])])]),e("div",aa,[e("div",oa,[e("div",sa,[e("h5",la,i(u(o.value.networkIn)),1),s[9]||(s[9]=e("p",{class:"card-text"},"Network In",-1))])])]),e("div",na,[e("div",ia,[e("div",da,[e("h5",ra,i(u(o.value.networkOut)),1),s[10]||(s[10]=e("p",{class:"card-text"},"Network Out",-1))])])])])]),e("div",ca,[s[14]||(s[14]=e("h6",{class:"text-primary"},"Action History",-1)),e("div",ua,[e("table",ma,[s[13]||(s[13]=e("thead",null,[e("tr",null,[e("th",null,"Action"),e("th",null,"Timestamp"),e("th",null,"User"),e("th",null,"Status"),e("th",null,"Description")])],-1)),e("tbody",null,[o.value.operationHistories.length===0?(d(),r("tr",pa,s[12]||(s[12]=[e("td",{colspan:"5",class:"text-center text-muted"},"No action history available",-1)]))):V("",!0),(d(!0),r(L,null,P(o.value.operationHistories,l=>(d(),r("tr",{key:l.id},[e("td",null,i(l.operationType),1),e("td",null,i(l.executedAt),1),e("td",null,i(l.executedBy||"system"),1),e("td",null,[e("span",{class:H(w(l.status))},i(l.status),3)]),e("td",null,i(l.detailReason||l.reason),1)]))),128))])])])]),e("div",va,[s[17]||(s[17]=e("h6",{class:"text-primary"},"Error Logs",-1)),e("div",ga,[e("table",ba,[s[16]||(s[16]=e("thead",null,[e("tr",null,[e("th",null,"Timestamp"),e("th",null,"Error Code"),e("th",null,"Severity"),e("th",null,"Module"),e("th",null,"Description")])],-1)),e("tbody",null,[o.value.errorLogs.length>0?(d(!0),r(L,{key:0},P(o.value.errorLogs,l=>(d(),r("tr",{key:l.errorCode},[e("td",null,i(l.loggedAt),1),e("td",null,i(l.errorCode),1),e("td",null,[e("span",{class:H(b(l.severity))},i(l.severity),3)]),e("td",null,i(l.module),1),e("td",null,i(l.logMessage),1)]))),128)):(d(),r("tr",fa,s[15]||(s[15]=[e("td",{colspan:"5",class:"text-center text-muted"},"No error logs available",-1)])))])])])]),e("div",ha,[s[26]||(s[26]=e("h6",{class:"text-primary"},"Deployment History",-1)),e("div",ya,[s[19]||(s[19]=e("h6",null,"Basic Deployment Information",-1)),e("div",_a,[e("table",ka,[s[18]||(s[18]=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Action Type"),e("th",null,"Executed At"),e("th",null,"Executed By"),e("th",null,"Status")])],-1)),e("tbody",null,[e("tr",null,[e("td",null,i(o.value.deploymentId),1),e("td",null,i(o.value.actionType),1),e("td",null,i(o.value.executedAt),1),e("td",null,i(o.value.executedBy||"system"),1),e("td",null,[e("span",{class:H(w(o.value.status))},i(o.value.status),3)])])])])])]),e("div",wa,[s[21]||(s[21]=e("h6",null,"Cloud & Cluster Information",-1)),e("div",Ca,[e("table",$a,[s[20]||(s[20]=e("thead",null,[e("tr",null,[e("th",null,"Cloud Provider"),e("th",null,"Cloud Region"),e("th",null,"Cluster Name"),e("th",null,"Deployment Type"),e("th",null,"MCI ID"),e("th",null,"UID")])],-1)),e("tbody",null,[e("tr",null,[e("td",null,i(o.value.cloudProvider),1),e("td",null,i(o.value.cloudRegion),1),e("td",null,i(o.value.clusterName||"N/A"),1),e("td",null,i(o.value.deploymentType),1),e("td",null,i(o.value.mciId),1),e("td",null,i(o.value.vmId),1)])])])])]),e("div",Ma,[s[23]||(s[23]=e("h6",null,"Network & Service Information",-1)),e("div",Ia,[e("table",Sa,[s[22]||(s[22]=e("thead",null,[e("tr",null,[e("th",null,"Namespace"),e("th",null,"Pod Status"),e("th",null,"Public IP"),e("th",null,"Service Port"),e("th",null,"VM ID"),e("th",null,"Catalog ID")])],-1)),e("tbody",null,[e("tr",null,[e("td",null,i(o.value.namespace),1),e("td",null,i(o.value.podStatus||o.value.applicationStatus),1),e("td",null,i(o.value.publicIp),1),e("td",null,i(o.value.servicePort||o.value.defaultPort),1),e("td",null,i(o.value.vmId),1),e("td",null,i(o.value.catalogName),1)])])])])]),o.value.ingressEnabled?(d(),r("div",xa,[s[25]||(s[25]=e("h6",null,"Ingress Information",-1)),e("div",Ta,[e("table",Da,[s[24]||(s[24]=e("thead",null,[e("tr",null,[e("th",null,"Enabled"),e("th",null,"Host"),e("th",null,"Path"),e("th",null,"Class"),e("th",null,"TLS Enabled"),e("th",null,"TLS Secret")])],-1)),e("tbody",null,[e("tr",null,[e("td",null,[e("span",{class:H(o.value.ingressEnabled?"text-success":"text-danger")},i(o.value.ingressEnabled?"Yes":"No"),3)]),e("td",null,i(o.value.ingressHost||"N/A"),1),e("td",null,i(o.value.ingressPath||"N/A"),1),e("td",null,i(o.value.ingressClass||"N/A"),1),e("td",null,[e("span",{class:H(o.value.ingressTlsEnabled?"text-success":"text-danger")},i(o.value.ingressTlsEnabled?"Yes":"No"),3)]),e("td",null,i(o.value.ingressTlsSecret||"N/A"),1)])])])])])):V("",!0)]),o.value.deploymentLogs&&o.value.deploymentLogs.length>0?(d(),r("div",Ua,[s[28]||(s[28]=e("h6",{class:"text-primary"},"Deployment Logs",-1)),e("div",Aa,[e("table",Ra,[s[27]||(s[27]=e("thead",null,[e("tr",null,[e("th",null,"Timestamp"),e("th",null,"Type"),e("th",null,"Message")])],-1)),e("tbody",null,[(d(!0),r(L,null,P(o.value.deploymentLogs,l=>(d(),r("tr",{key:l.id},[e("td",null,i(l.loggedAt),1),e("td",null,[e("span",{class:H(["me-4 mt-2",c(l.logType)])},i(l.logType),3)]),e("td",null,i(l.logMessage),1)]))),128))])])])])):V("",!0)])):(d(),r("div",Ea," No data available "))]),e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:I},"Close")])])])]))}}),Va=pe(La,[["__scopeId","data-v-f89820b6"]]),Pa={class:"card card-flush w-100"},Na={class:"page-header page-wrapper"},Ba={class:"row align-items-center"},Ha={class:"card-header d-flex",style:{"justify-content":"space-between"}},Fa={class:"btn-list"},Ka={class:"me-2"},Oa=W({__name:"applicationStatusList",setup(B){const E=J(),D=f([]),M=f([]),x=f(""),g=f(""),o=f(0),h=f(""),U=f(""),T=f(0);f(!1);const w=f(0),b=f();re(async()=>{I(),await c()});const c=async()=>{try{u();const{data:k}=await Se();k?D.value=k:D.value=[]}catch(k){console.log(k),E.error("Unable to retrieve data")}},u=()=>{D.value=[];const k=new Date,C={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1};x.value=k.toLocaleDateString("ko-KR",C)},I=()=>{M.value=[{title:"Infra",width:"25%",formatter:l,cellClick:function(k,C){s(C)}},{title:"Application",field:"applicationName",width:"15%",cellClick:function(k,C){s(C)},formatter:function(k){return`<div style="cursor: pointer; color:">${k.getValue()}</div>`}},{title:"Status",width:"13%",formatter:m,cellClick:function(k,C){s(C)}},{title:"CheckedAt",field:"checkedAt",width:"17%",cellClick:function(k,C){s(C)},formatter:function(k){return`<div style="cursor: pointer;">${k.getValue()}</div>`}},{title:"Action",width:"30%",formatter:S,cellClick:async function(k,C){const N=k.target,G=N==null?void 0:N.getAttribute("id"),ae=C.getRow().getData().id,oe=C.getRow().getData().deploymentType,X=C.getRow().getData().applicationName,K={operation:"",applicationStatusId:ae,deploymentType:oe,applicationName:X};G==="restart-btn"?(K.operation="RESTART",await t(K)):G==="stop-btn"?(K.operation="STOP",await t(K)):G==="uninstall-btn"?(K.operation="UNINSTALL",await t(K)):G==="rating-btn"&&(K.operation="RATING",T.value=C.getRow().getData().catalogId||1,await t(K))}}]},t=async k=>{g.value=k.operation,o.value=k.applicationStatusId,h.value=k.deploymentType,U.value=k.applicationName},s=k=>{const C=k.getRow().getData();w.value=C.deploymentId||C.id;const N=document.getElementById("application-detail-modal");if(N)try{window.bootstrap&&window.bootstrap.Modal?(new window.bootstrap.Modal(N).show(),setTimeout(()=>{b.value&&b.value.refreshData(w.value)},100)):(N.style.display="block",N.classList.add("show"),document.body.classList.add("modal-open"),b.value&&b.value.refreshData(w.value))}catch(G){console.error("Error opening detail modal:",G)}},l=k=>{const C=k.getRow().getData().deploymentType,N=k.getRow().getData().vmId?k.getRow().getData().vmId:k.getRow().getData().clusterName?k.getRow().getData().clusterName:"-";return`
    <div style="cursor: pointer;">
      <p style="margin: 0;">
        ${C} (${N})
      </p>
    </div>
  `},m=k=>{const C=k.getRow().getData().status;return C==="RUNNING"?`
      <div style="cursor: pointer;">
        <span class="status status-green">  
          <span class="status-dot"></span>
            ${C}
        </span>
      </div>`:C==="RESTART"||C==="IN_PROGRESS"?`
    <div style="cursor: pointer;">
      <span class="status status-primary">  
        <span class="status-dot"></span>
          ${C}
      </span>
    </div>`:C==="NOT_FOUND"?`
    <div style="cursor: pointer;">
      <span class="status status-yellow">  
        <span class="status-dot"></span>
          ${C}
      </span>
    </div>`:`
  <div style="cursor: pointer;">
    <span class="status status-red">  
      <span class="status-dot"></span>
        ${C}
    </span>
  </div>`},S=()=>`
  <div>
    <button
      class='btn btn-ghost-primary d-none d-sm-inline-block'
      id='restart-btn'
      data-bs-toggle='modal' 
      data-bs-target='#action-confirm'>
      Restart
    </button>
    <button
      class='btn btn-ghost-warning d-none d-sm-inline-block'
      id='stop-btn'
      data-bs-toggle='modal' 
      data-bs-target='#action-confirm'>
      Stop
    </button>
    <button
      class='btn btn-ghost-danger d-none d-sm-inline-block'
      id='uninstall-btn'
      data-bs-toggle='modal' 
      data-bs-target='#action-confirm'>
      Uninstall
    </button>
    <button
      class='btn btn-ghost-info d-none d-sm-inline-block'
      id='rating-btn'
      data-bs-toggle='modal' 
      data-bs-target='#rating-modal'>
      Rating
    </button>
  </div>`;return(k,C)=>(d(),r(L,null,[e("div",Pa,[e("div",Na,[e("div",Ba,[e("div",Ha,[C[1]||(C[1]=e("h3",{class:"card-title"},[e("strong",null,"Apps Status")],-1)),e("div",Fa,[e("span",Ka,i(x.value),1),e("a",{class:"btn btn-outline-primary d-none d-sm-inline-block",onClick:c},[R(q(et),{class:"icon icon-tabler",size:20,"stroke-width":"1"}),C[0]||(C[0]=F(" Refresh "))])])])])]),R(ze,{columns:M.value,"table-data":D.value},null,8,["columns","table-data"])]),R(pt,{title:g.value,applicationStatusId:o.value,type:h.value,applicationName:U.value,onGetApplicationsStatusList:c},null,8,["title","applicationStatusId","type","applicationName"]),R(xt,{catalogId:T.value,applicationName:U.value,onRatingSubmitted:c},null,8,["catalogId","applicationName"]),R(Va,{ref_key:"applicationDetailModalRef",ref:b,deploymentId:w.value},null,8,["deploymentId"])],64))}}),za={class:"modal-dialog modal-lg",role:"document"},qa={class:"modal-content"},Ga={class:"modal-header"},ja={class:"modal-title"},Ya={class:"modal-body",style:{"max-height":"calc(100vh - 200px)","overflow-y":"auto"}},Wa={class:"nav nav-tabs mb-3"},Ja={class:"nav-item"},Qa={class:"nav-item"},Xa={class:"nav-item"},Za={class:"nav-item"},eo={class:"mb-3"},to={class:"d-flex align-items-center"},ao={class:"form-check me-3"},oo=["disabled"],so={class:"form-check"},lo=["disabled"],no={class:"mb-3"},io=["disabled"],ro=["value"],co={class:"w-100 d-flex justify-content-between"},uo={class:"mb-3 w-50",style:{"margin-right":"10px"}},mo=["disabled"],po=["value"],vo={class:"mb-3 w-50"},go=["disabled"],bo=["value"],fo={class:"mb-3"},ho={class:"mb-3"},yo={class:"mb-3"},_o={class:"mb-3"},ko={class:"col-5"},wo=["onUpdate:modelValue"],Co={class:"col-6"},$o=["onUpdate:modelValue"],Mo={class:"col-1 d-flex gap-2"},Io=["onClick","disabled"],So={class:"row"},xo={class:"col-md-6"},To={class:"row"},Do={class:"col-6"},Uo={class:"input-group"},Ao={class:"col-6"},Ro={class:"input-group"},Eo={class:"row mt-3"},Lo={class:"col-md-6"},Vo={class:"row"},Po={class:"col-6"},No={class:"input-group"},Bo={class:"col-6"},Ho={class:"input-group"},Fo={class:"row mt-3"},Ko={class:"col-md-6"},Oo={class:"row"},zo={class:"col-6"},qo={class:"input-group"},Go={class:"col-6"},jo={class:"input-group"},Yo={key:0,class:"card mt-3"},Wo={class:"card-body"},Jo={class:"d-flex align-items-center mb-2"},Qo={class:"form-check form-switch"},Xo={class:"row"},Zo={class:"col-md-3"},es=["disabled"],ts={class:"col-md-3"},as=["disabled"],os={class:"col-md-3"},ss=["disabled"],ls={class:"col-md-3"},ns=["disabled"],is={key:0},ds={class:"card"},rs={class:"card-body"},cs={class:"mb-3"},us={key:1},ms={class:"card"},ps={class:"card-body"},vs={class:"mb-3"},gs={class:"col-4"},bs=["onUpdate:modelValue"],fs={class:"col-3"},hs=["onUpdate:modelValue"],ys={class:"col-4"},_s=["onUpdate:modelValue"],ks={class:"col-1 d-flex align-items-end gap-2"},ws=["onClick","disabled"],Cs={class:"card mt-3"},$s={class:"card-body"},Ms={class:"d-flex align-items-center mb-3"},Is={class:"form-check form-switch"},Ss={key:0},xs={class:"mb-3"},Ts={class:"modal-footer"},Ds={class:"ms-auto d-flex gap-2"},Us=["disabled"],As=["disabled"],Rs=["disabled"],Es=W({__name:"softwareCatalogWizard",props:{show:{type:Boolean},mode:{}},emits:["created","updated"],setup(B,{expose:E,emit:D}){const M=B,x=D,g=J(),o=f(1),h=f(!1),U=f(!1),T=f(0),w=f({}),b=f(null),c=f(!1);re(()=>{b.value&&(b.value.addEventListener("show.bs.modal",u),b.value.addEventListener("hide.bs.modal",I)),ne()}),ke(()=>{b.value&&(b.value.removeEventListener("show.bs.modal",u),b.value.removeEventListener("hide.bs.modal",I))});const u=()=>{U.value=!0,M.mode==="new"&&C()},I=()=>{U.value=!1,c.value=!1},t=f({id:null,target:"VM",sourceType:"DOCKERHUB",category:"",packageName:"",version:"",packageInfo:null,helmChart:null,name:"",summary:"",description:"",logoUrlLarge:"",logoUrlSmall:"",catalogRefs:[],minCpu:0,recommendedCpu:0,minMemory:0,recommendedMemory:0,minDisk:0,recommendedDisk:0,hpaEnabled:!1,minReplicas:1,maxReplicas:10,cpuThreshold:80,memoryThreshold:80,ports:[],ingressEnabled:!1,ingressUrl:"",defaultPort:80,registeredById:null,createdAt:null,updatedAt:null}),s=f([{refId:0,refValue:"",refDesc:"",refType:"URL"}]),l=f([{targetPort:80,hostPort:8080,protocol:"TCP"}]),m=de(()=>o.value===1?t.value.target&&t.value.category&&t.value.packageName&&t.value.version:o.value===2?t.value.name.trim().length>0&&t.value.summary.trim().length>0&&t.value.description.trim().length>0:o.value===3?t.value.minCpu>0&&t.value.minMemory>0&&t.value.minDisk>0&&t.value.recommendedCpu>0&&t.value.recommendedMemory>0&&t.value.recommendedDisk>0:o.value===3&&t.value.hpaEnabled?t.value.minReplicas>0&&t.value.maxReplicas>0&&t.value.cpuThreshold>0&&t.value.memoryThreshold>0:(console.log(l.value),o.value===3&&t.value.target==="VM"?t.value.defaultPort>0:o.value===4&&t.value.target==="K8S"?(console.log(l.value.length),l.value.length>0?l.value.every(v=>v.targetPort>0&&v.hostPort>0&&v.protocol):!1):o.value===4&&t.value.ingressEnabled?t.value.ingressUrl.trim().length>0:!0)),S=()=>{m.value&&o.value<4&&(o.value+=1)},k=()=>{o.value>1&&(o.value-=1)},C=()=>{o.value=1,t.value={id:null,target:"VM",sourceType:"DOCKERHUB",category:"",packageName:"",version:"",packageInfo:null,helmChart:null,name:"",summary:"",description:"",logoUrlLarge:"",logoUrlSmall:"",catalogRefs:[],minCpu:0,recommendedCpu:0,minMemory:0,recommendedMemory:0,minDisk:0,recommendedDisk:0,hpaEnabled:!1,minReplicas:1,maxReplicas:10,cpuThreshold:80,memoryThreshold:80,ports:[],ingressEnabled:!1,ingressUrl:"",defaultPort:80,registeredById:null,createdAt:null,updatedAt:null},s.value=[{refId:0,refValue:"",refDesc:"",refType:"URL"}],l.value=[{targetPort:80,hostPort:8080,protocol:"TCP"}]},N=()=>{s.value.push({refId:0,refValue:"",refDesc:"",refType:"URL"})},G=v=>{s.value.length>1&&s.value.splice(v,1)},ae=()=>{l.value.push({targetPort:80,hostPort:8080,protocol:"TCP"})},oe=v=>{l.value.length>1&&l.value.splice(v,1)},X=()=>{if(b.value){U.value=!1;const v=b.value.querySelector('[data-bs-dismiss="modal"]');if(v)v.click();else try{const a=window.bootstrap;if(a!=null&&a.Modal)(a.Modal.getInstance(b.value)||new a.Modal(b.value)).hide();else{b.value.classList.remove("show"),b.value.style.display="none",document.body.classList.remove("modal-open");const n=document.querySelector(".modal-backdrop");n==null||n.remove()}}catch(a){console.warn("Modal close failed:",a)}}},K=async()=>{try{t.value.catalogRefs=s.value.filter(v=>v.refValue.trim()),t.value.target==="K8S"&&(t.value.ports=l.value.filter(v=>v.targetPort&&v.hostPort)),t.value.target==="VM"?t.value.sourceType="DOCKERHUB":t.value.target==="K8S"&&(t.value.sourceType="ARTIFACTHUB"),await Te(t.value),g.success("Registration Success"),X(),x("created")}catch{g.error("Registration Failed")}},se=async()=>{try{t.value.catalogRefs=s.value.filter(v=>v.refValue.trim()),t.value.target==="K8S"&&(t.value.ports=l.value.filter(v=>v.targetPort&&v.hostPort)),t.value.target==="VM"?t.value.sourceType="DOCKERHUB":t.value.target==="K8S"&&(t.value.sourceType="ARTIFACTHUB"),await De(t.value),g.success("Update Success"),X(),x("updated")}catch{g.error("Update Failed")}},le=async()=>{try{if(!T.value)return;w.value&&w.value.category&&(h.value=!0,t.value.target=w.value.packageInfo!==null?"VM":"K8S",t.value.category=w.value.category,w.value.packageInfo!==null?(t.value.packageName=w.value.packageInfo.packageName,t.value.version=w.value.packageInfo.packageVersion):w.value.helmChart!==null&&(t.value.packageName=w.value.helmChart.chartName,t.value.version=w.value.helmChart.chartVersion),h.value=!1),await ve()}catch{g.error("Failed to load catalog data"),h.value=!1}},ve=async()=>{try{if(!T.value)return;const{data:v}=await Ue(T.value);h.value=!0,t.value={...t.value,...v,target:v.packageInfo!==null?"VM":"K8S"},v.packageInfo!==null&&(t.value.packageName=v.packageInfo.packageName,t.value.version=v.packageInfo.packageVersion),v.helmChart!==null&&(t.value.packageName=v.helmChart.chartName,t.value.version=v.helmChart.chartVersion),v.catalogRefs&&v.catalogRefs.length>0?s.value=v.catalogRefs.map(a=>({refId:a.id||0,refValue:a.refValue||"",refDesc:a.refDesc||"",refType:a.refType||"URL"})):s.value=[{refId:0,refValue:"",refDesc:"",refType:"URL"}],v.ports&&v.ports.length>0?l.value=v.ports.map(a=>({targetPort:a.targetPort||80,hostPort:a.hostPort||8080,protocol:a.protocol||"TCP"})):l.value=[{targetPort:80,hostPort:8080,protocol:"TCP"}],await ne(),t.value.category&&(await p(),t.value.packageName&&await _()),h.value=!1}catch{g.error("Failed to load catalog data"),h.value=!1}},Z=v=>{m.value&&(o.value=v)};ue(()=>t.value.target,v=>{v&&(M.mode==="new"&&(t.value.category="",t.value.packageName="",t.value.version=""),ne())});const ee=f([]),ne=async()=>{if(M.mode==="new"&&(ee.value=[],te.value=[],y.value=[],t.value.category="",t.value.packageName="",t.value.version=""),t.value.target){const v={target:t.value.target==="VM"?"DOCKER":"HELM"},{data:a}=await xe(v);ee.value=a}};ue(()=>t.value.category,v=>{v&&(M.mode==="new"&&(t.value.packageName="",t.value.version=""),p())});const te=f([]),p=async()=>{M.mode==="new"&&(te.value=[],y.value=[],t.value.packageName="",t.value.version="");const v={target:t.value.target==="VM"?"DOCKER":"HELM",category:t.value.category||""},{data:a}=await Ae(v);te.value=a};ue(()=>t.value.packageName,v=>{v&&(M.mode==="new"&&(t.value.version=""),_())});const y=f([]),_=async()=>{M.mode==="new"&&(y.value=[],t.value.version="");const v={target:t.value.target==="VM"?"DOCKER":"HELM",packageName:t.value.packageName||""},{data:a}=await Re(v);M.mode==="new"?a.forEach(n=>{n.isUsed||y.value.push(n)}):y.value=a};return E({loadCatalogDataWithCategoryInit:le,initForCreate:()=>{C(),o.value=1},initForUpdate:(v,a)=>{T.value=v,w.value=a,o.value=1,le()}}),(v,a)=>(d(),r("div",{class:"modal fade",id:"modal-wizard",tabindex:"-1",ref_key:"wizardModal",ref:b},[e("div",za,[e("div",qa,[e("div",Ga,[e("h5",ja,i(M.mode==="update"?"Application Update":"Application Registration"),1),a[27]||(a[27]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",Ya,[e("ul",Wa,[e("li",Ja,[e("a",{class:H(["nav-link",{active:o.value===1}]),href:"javascript:void(0);",onClick:a[0]||(a[0]=n=>Z(1))},"1. Package",2)]),e("li",Qa,[e("a",{class:H(["nav-link",{active:o.value===2}]),href:"javascript:void(0);",onClick:a[1]||(a[1]=n=>Z(2))},"2. General",2)]),e("li",Xa,[e("a",{class:H(["nav-link",{active:o.value===3}]),href:"javascript:void(0);",onClick:a[2]||(a[2]=n=>Z(3))},"3. Resource Requirements",2)]),e("li",Za,[e("a",{class:H(["nav-link",{active:o.value===4}]),href:"javascript:void(0);",onClick:a[3]||(a[3]=n=>Z(4))},"4. Network",2)])]),$(e("div",null,[e("div",eo,[a[30]||(a[30]=e("label",{class:"form-label required"},"Target",-1)),e("div",to,[e("div",ao,[$(e("input",{class:"form-check-input",type:"radio",name:"target",value:"VM","onUpdate:modelValue":a[4]||(a[4]=n=>t.value.target=n),id:"targetVM",disabled:M.mode==="update"},null,8,oo),[[ge,t.value.target]]),a[28]||(a[28]=e("label",{class:"form-check-label",for:"targetVM"},"VM",-1))]),e("div",so,[$(e("input",{class:"form-check-input",type:"radio",name:"target",value:"K8S","onUpdate:modelValue":a[5]||(a[5]=n=>t.value.target=n),id:"targetK8S",disabled:M.mode==="update"},null,8,lo),[[ge,t.value.target]]),a[29]||(a[29]=e("label",{class:"form-check-label",for:"targetK8S"},"K8S",-1))])])]),e("div",no,[a[32]||(a[32]=e("label",{class:"form-label required"},"Category",-1)),$(e("select",{class:"form-select","onUpdate:modelValue":a[6]||(a[6]=n=>t.value.category=n),disabled:M.mode==="update"},[a[31]||(a[31]=e("option",{value:""},"Select Category",-1)),(d(!0),r(L,null,P(ee.value,n=>(d(),r("option",{value:n.value,key:n.key},i(n.value),9,ro))),128))],8,io),[[Q,t.value.category]])]),e("div",co,[e("div",uo,[a[34]||(a[34]=e("label",{class:"form-label required"},"Package",-1)),$(e("select",{class:"form-select","onUpdate:modelValue":a[7]||(a[7]=n=>t.value.packageName=n),disabled:M.mode==="update"},[a[33]||(a[33]=e("option",{value:""},"Select Package",-1)),(d(!0),r(L,null,P(te.value,n=>(d(),r("option",{value:n.value,key:n.key},i(n.value),9,po))),128))],8,mo),[[Q,t.value.packageName]])]),e("div",vo,[a[36]||(a[36]=e("label",{class:"form-label required"},"Version",-1)),$(e("select",{class:"form-select","onUpdate:modelValue":a[8]||(a[8]=n=>t.value.version=n),disabled:M.mode==="update"},[a[35]||(a[35]=e("option",{value:""},"Select Version",-1)),(d(!0),r(L,null,P(y.value,n=>(d(),r("option",{value:n.value,key:n.key},i(n.value),9,bo))),128))],8,go),[[Q,t.value.version]])])])],512),[[ce,o.value===1]]),$(e("div",null,[e("div",fo,[a[37]||(a[37]=e("label",{class:"form-label required"},"Application Name",-1)),$(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=n=>t.value.name=n),placeholder:"Application name"},null,512),[[A,t.value.name]])]),e("div",ho,[a[38]||(a[38]=e("label",{class:"form-label required"},"Summary",-1)),$(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[10]||(a[10]=n=>t.value.summary=n),placeholder:"Application summary"},null,512),[[A,t.value.summary]])]),e("div",yo,[a[39]||(a[39]=e("label",{class:"form-label required"},"Description",-1)),$(e("textarea",{class:"form-control",rows:"4","onUpdate:modelValue":a[11]||(a[11]=n=>t.value.description=n),placeholder:"Application description"},null,512),[[A,t.value.description]])]),e("div",_o,[a[41]||(a[41]=e("label",{class:"form-label"},"Reference",-1)),(d(!0),r(L,null,P(s.value,(n,ie)=>(d(),r("div",{class:"row g-2 mb-2",key:ie},[e("div",ko,[$(e("select",{class:"form-select","onUpdate:modelValue":j=>n.refType=j},a[40]||(a[40]=[_e('<option value="URL" data-v-aafeb7db>URL</option><option value="IMAGE" data-v-aafeb7db>IMAGE</option><option value="HOMEPAGE" data-v-aafeb7db>HOMEPAGE</option><option value="TAG" data-v-aafeb7db>TAG</option><option value="ETC" data-v-aafeb7db>ETC</option>',5)]),8,wo),[[Q,n.refType]])]),e("div",Co,[$(e("input",{type:"text",class:"form-control","onUpdate:modelValue":j=>n.refValue=j,placeholder:"Ref Value"},null,8,$o),[[A,n.refValue]])]),e("div",Mo,[e("button",{type:"button",class:"btn btn-outline-danger btn-sm w-100 cursor-pointer",onClick:j=>G(ie),disabled:s.value.length<=1},"-",8,Io)])]))),128)),e("div",{class:"form-text cursor-pointer",onClick:N,style:{color:"gray"}},"+ Add Reference")])],512),[[ce,o.value===2]]),$(e("div",null,[e("div",So,[e("div",xo,[a[46]||(a[46]=e("label",{class:"form-label"},"CPU",-1)),e("div",To,[e("div",Do,[a[43]||(a[43]=e("label",{class:"form-label text-muted small"},"Minimum",-1)),e("div",Uo,[$(e("input",{type:"number",min:"0",step:"0.1",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=n=>t.value.minCpu=n),placeholder:"1"},null,512),[[A,t.value.minCpu,void 0,{number:!0}]]),a[42]||(a[42]=e("span",{class:"input-group-text"},"Cores",-1))])]),e("div",Ao,[a[45]||(a[45]=e("label",{class:"form-label text-muted small"},"Recommended",-1)),e("div",Ro,[$(e("input",{type:"number",min:"0",step:"0.1",class:"form-control","onUpdate:modelValue":a[13]||(a[13]=n=>t.value.recommendedCpu=n),placeholder:"2"},null,512),[[A,t.value.recommendedCpu,void 0,{number:!0}]]),a[44]||(a[44]=e("span",{class:"input-group-text"},"Cores",-1))])])])])]),e("div",Eo,[e("div",Lo,[a[51]||(a[51]=e("label",{class:"form-label"},"Memory",-1)),e("div",Vo,[e("div",Po,[a[48]||(a[48]=e("label",{class:"form-label text-muted small"},"Minimum",-1)),e("div",No,[$(e("input",{type:"number",min:"0",class:"form-control","onUpdate:modelValue":a[14]||(a[14]=n=>t.value.minMemory=n),placeholder:"4"},null,512),[[A,t.value.minMemory,void 0,{number:!0}]]),a[47]||(a[47]=e("span",{class:"input-group-text"},"GB",-1))])]),e("div",Bo,[a[50]||(a[50]=e("label",{class:"form-label text-muted small"},"Recommended",-1)),e("div",Ho,[$(e("input",{type:"number",min:"0",class:"form-control","onUpdate:modelValue":a[15]||(a[15]=n=>t.value.recommendedMemory=n),placeholder:"8"},null,512),[[A,t.value.recommendedMemory,void 0,{number:!0}]]),a[49]||(a[49]=e("span",{class:"input-group-text"},"GB",-1))])])])])]),e("div",Fo,[e("div",Ko,[a[56]||(a[56]=e("label",{class:"form-label"},"Storage",-1)),e("div",Oo,[e("div",zo,[a[53]||(a[53]=e("label",{class:"form-label text-muted small"},"Minimum",-1)),e("div",qo,[$(e("input",{type:"number",min:"0",class:"form-control","onUpdate:modelValue":a[16]||(a[16]=n=>t.value.minDisk=n),placeholder:"10"},null,512),[[A,t.value.minDisk,void 0,{number:!0}]]),a[52]||(a[52]=e("span",{class:"input-group-text"},"GB",-1))])]),e("div",Go,[a[55]||(a[55]=e("label",{class:"form-label text-muted small"},"Recommended",-1)),e("div",jo,[$(e("input",{type:"number",min:"0",class:"form-control","onUpdate:modelValue":a[17]||(a[17]=n=>t.value.recommendedDisk=n),placeholder:"20"},null,512),[[A,t.value.recommendedDisk,void 0,{number:!0}]]),a[54]||(a[54]=e("span",{class:"input-group-text"},"GB",-1))])])])])]),t.value.target==="K8S"?(d(),r("div",Yo,[e("div",Wo,[e("div",Jo,[a[57]||(a[57]=e("label",{class:"form-check-label me-2"},"K8S HPA",-1)),e("div",Qo,[$(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[18]||(a[18]=n=>t.value.hpaEnabled=n)},null,512),[[be,t.value.hpaEnabled]])])]),e("div",Xo,[e("div",Zo,[a[58]||(a[58]=e("label",{class:"form-label"},"minReplicas",-1)),$(e("input",{type:"number",min:"1",class:"form-control","onUpdate:modelValue":a[19]||(a[19]=n=>t.value.minReplicas=n),disabled:!t.value.hpaEnabled,placeholder:"1"},null,8,es),[[A,t.value.minReplicas,void 0,{number:!0}]])]),e("div",ts,[a[59]||(a[59]=e("label",{class:"form-label"},"maxReplicas",-1)),$(e("input",{type:"number",min:"1",class:"form-control","onUpdate:modelValue":a[20]||(a[20]=n=>t.value.maxReplicas=n),disabled:!t.value.hpaEnabled,placeholder:"10"},null,8,as),[[A,t.value.maxReplicas,void 0,{number:!0}]])]),e("div",os,[a[60]||(a[60]=e("label",{class:"form-label"},"CPU (%)",-1)),$(e("input",{type:"number",min:"1",max:"100",class:"form-control","onUpdate:modelValue":a[21]||(a[21]=n=>t.value.cpuThreshold=n),disabled:!t.value.hpaEnabled,placeholder:"80"},null,8,ss),[[A,t.value.cpuThreshold,void 0,{number:!0}]])]),e("div",ls,[a[61]||(a[61]=e("label",{class:"form-label"},"Memory (%)",-1)),$(e("input",{type:"number",min:"1",max:"100",class:"form-control","onUpdate:modelValue":a[22]||(a[22]=n=>t.value.memoryThreshold=n),disabled:!t.value.hpaEnabled,placeholder:"80"},null,8,ns),[[A,t.value.memoryThreshold,void 0,{number:!0}]])])])])])):V("",!0)],512),[[ce,o.value===3]]),$(e("div",null,[t.value.target==="VM"?(d(),r("div",is,[e("div",ds,[a[63]||(a[63]=e("div",{class:"card-header"},[e("h6",{class:"card-title"},"Port Mapping")],-1)),e("div",rs,[e("div",cs,[a[62]||(a[62]=e("label",{class:"form-label"},"Port",-1)),$(e("input",{type:"number",min:"1",max:"65535",class:"form-control","onUpdate:modelValue":a[23]||(a[23]=n=>t.value.defaultPort=n),placeholder:"80"},null,512),[[A,t.value.defaultPort,void 0,{number:!0}]])])])])])):V("",!0),t.value.target==="K8S"?(d(),r("div",us,[e("div",ms,[a[69]||(a[69]=e("div",{class:"card-header"},[e("h6",{class:"card-title"},"Port Mapping")],-1)),e("div",ps,[e("div",vs,[a[68]||(a[68]=e("label",{class:"form-label"},"Port",-1)),(d(!0),r(L,null,P(l.value,(n,ie)=>(d(),r("div",{class:"row g-2 mb-2",key:ie},[e("div",gs,[a[64]||(a[64]=e("label",{class:"form-label small"},"Target Port",-1)),$(e("input",{type:"number",min:"1",max:"65535",class:"form-control","onUpdate:modelValue":j=>n.targetPort=j,placeholder:"80"},null,8,bs),[[A,n.targetPort,void 0,{number:!0}]])]),e("div",fs,[a[66]||(a[66]=e("label",{class:"form-label small"},"Protocol",-1)),$(e("select",{class:"form-select","onUpdate:modelValue":j=>n.protocol=j},a[65]||(a[65]=[e("option",{value:"TCP"},"TCP",-1),e("option",{value:"UDP"},"UDP",-1),e("option",{value:"SCTP"},"SCTP",-1)]),8,hs),[[Q,n.protocol]])]),e("div",ys,[a[67]||(a[67]=e("label",{class:"form-label small"},"Host Port",-1)),$(e("input",{type:"number",min:"1",max:"65535",class:"form-control","onUpdate:modelValue":j=>n.hostPort=j,placeholder:"8080"},null,8,_s),[[A,n.hostPort,void 0,{number:!0}]])]),e("div",ks,[e("button",{type:"button",class:"btn btn-outline-danger btn-sm w-100 cursor-pointer",onClick:j=>oe(ie),disabled:l.value.length<=1},"-",8,ws)])]))),128)),e("div",{class:"form-text cursor-pointer",onClick:ae,style:{color:"gray"}},"+ Add Port Mapping")])])]),e("div",Cs,[e("div",$s,[e("div",Ms,[a[70]||(a[70]=e("label",{class:"form-check-label me-2"},"Ingress Configuration",-1)),e("div",Is,[$(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[24]||(a[24]=n=>t.value.ingressEnabled=n)},null,512),[[be,t.value.ingressEnabled]])])]),t.value.ingressEnabled?(d(),r("div",Ss,[e("div",xs,[a[71]||(a[71]=e("label",{class:"form-label"},"Ingress Path",-1)),$(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[25]||(a[25]=n=>t.value.ingressUrl=n),placeholder:"/"},null,512),[[A,t.value.ingressUrl]])])])):V("",!0)])])])):V("",!0)],512),[[ce,o.value===4]])]),e("div",Ts,[e("a",{class:"btn btn-link link-secondary","data-bs-dismiss":"modal",onClick:C}," Cancel "),e("div",Ds,[e("button",{class:"btn btn-outline-secondary",disabled:o.value===1,onClick:k},"Prev",8,Us),o.value<4?(d(),r("button",{key:0,class:"btn btn-primary",disabled:!m.value,onClick:S},"Next",8,As)):(d(),r("button",{key:1,class:"btn btn-primary",disabled:!m.value,onClick:a[26]||(a[26]=n=>M.mode==="update"?se():K())},i(M.mode==="update"?"Update":"Create"),9,Rs))])])])])],512))}}),Ls=pe(Es,[["__scopeId","data-v-aafeb7db"]]),Vs={class:"modal-dialog",role:"document"},Ps={class:"modal-content"},Ns={class:"modal-body"},Bs={class:"modal-footer"},Hs=["disabled"],Fs={key:0,class:"spinner-border spinner-border-sm me-2",role:"status"},Ks=W({__name:"DeleteConfirmModal",props:{targetCatalog:{}},emits:["deleted","close"],setup(B,{expose:E,emit:D}){const M=B,x=D,g=J(),o=f(!1),h=f(null),U=()=>{if(h.value)try{const u=window.bootstrap;if(u&&u.Modal)new u.Modal(h.value).show();else{h.value.classList.add("show"),h.value.style.display="block",document.body.classList.add("modal-open");const I=document.createElement("div");I.className="modal-backdrop fade show",I.id="delete-modal-backdrop",document.body.appendChild(I)}}catch(u){console.warn("Failed to show modal with Bootstrap, using fallback:",u),h.value.classList.add("show"),h.value.style.display="block",document.body.classList.add("modal-open")}},T=()=>{if(h.value)try{const u=window.bootstrap;if(u&&u.Modal){const I=u.Modal.getInstance(h.value);I?I.hide():w()}else w()}catch(u){console.warn("Failed to hide modal with Bootstrap, using fallback:",u),w()}},w=()=>{if(h.value){h.value.classList.remove("show"),h.value.style.display="none",document.body.classList.remove("modal-open");const u=document.getElementById("delete-modal-backdrop");u&&u.remove(),x("close")}},b=async()=>{var u;if((u=M.targetCatalog)!=null&&u.id){o.value=!0;try{await Ee(M.targetCatalog.id),g.success(`${M.targetCatalog.name} catalog has been successfully deleted.`),T(),x("deleted",M.targetCatalog.id)}catch(I){console.error("Delete failed:",I),g.error("Failed to delete catalog.")}finally{o.value=!1}}},c=()=>{x("close")};return re(()=>{h.value&&h.value.addEventListener("hidden.bs.modal",c)}),ke(()=>{h.value&&h.value.removeEventListener("hidden.bs.modal",c)}),E({show:U,hide:T}),(u,I)=>(d(),r("div",{class:"modal fade",id:"deleteConfirmModal",tabindex:"-1",ref_key:"deleteModal",ref:h,onClick:me(T,["self"])},[e("div",Vs,[e("div",Ps,[e("div",{class:"modal-header"},[I[0]||(I[0]=e("h5",{class:"modal-title"},"Confirm Catalog Deletion",-1)),e("button",{type:"button",class:"btn-close",onClick:T,"aria-label":"Close"})]),e("div",Ns,[e("p",null,[I[1]||(I[1]=F("Are you sure you want to delete ")),e("strong",null,i(u.targetCatalog.name),1),F(" ("+i(u.targetCatalog.category)+") catalog?",1)]),I[2]||(I[2]=e("p",{class:"text-muted"},"This action cannot be undone.",-1))]),e("div",Bs,[e("button",{type:"button",class:"btn btn-secondary",onClick:T},"Cancel"),e("button",{type:"button",class:"btn btn-danger",onClick:b,disabled:o.value},[o.value?(d(),r("span",Fs)):V("",!0),F(" "+i(o.value?"Deleting...":"Delete"),1)],8,Hs)])])])],512))}}),Os={class:"modal-content"},zs={class:"modal-body"},qs={class:"row"},Gs={class:"col-lg-12"},js={class:"mb-3"},Ys={class:"row"},Ws={class:"col-lg-12"},Js={class:"mb-3"},Qs={class:"row"},Xs={class:"col-lg-12"},Zs={class:"mb-3"},el=["value"],tl={class:"modal-footer"},al=W({__name:"uploadForm",props:{sourceData:{}},emits:["uploaded","close"],setup(B,{expose:E,emit:D}){const M=J(),x=B,g=D,o=f({path:"",sourceType:"",name:"",tag:""});ue(()=>{var l,m;return[(l=x.sourceData)==null?void 0:l.sourceType,(m=x.sourceData)==null?void 0:m.name]},()=>{var l,m,S,k,C;(l=x.sourceData)!=null&&l.sourceType&&(o.value.sourceType=(m=x.sourceData)==null?void 0:m.sourceType),(S=x.sourceData)!=null&&S.name&&(o.value.name=(k=x.sourceData)==null?void 0:k.name,console.log(o.value.sourceType),o.value.sourceType.toUpperCase()=="DOCKERHUB"?T((C=x.sourceData)==null?void 0:C.name):o.value.sourceType.toUpperCase()=="ARTIFACTHUB"&&w(x.sourceData))},{immediate:!0});const h=f([]);fe(()=>{U()});const U=()=>{o.value={path:"",sourceType:"",name:"",tag:""},h.value=[]},T=async l=>{var k;const m={path:((k=x.sourceData)==null?void 0:k.id)||""},{data:S}=await Le(m);h.value=[],S.length>0&&S.forEach(C=>{h.value.push({key:C.name,value:C.name})})},w=async l=>{console.log("sourceData",l);const m={kind:"helm",repository:l.repository.name,packageName:l.name},{data:S}=await Ve(m);h.value=[],S.length>0&&S.forEach(k=>{h.value.push({key:k.version,value:k.version})})},b=()=>{if(!o.value.tag.trim()){M.error("Tag is required.");return}const l=we.cloneDeep(x.sourceData);l.tag=o.value.tag,l.sourceType=o.value.sourceType,l.name=o.value.name,g("uploaded",l),U(),t()},c=()=>{t()},u=()=>{U();const l=document.getElementById("upload-form-modal");if(l)try{const m=window.bootstrap;m&&m.Modal?new m.Modal(l).show():I()}catch(m){console.warn("Failed to show modal with Bootstrap, using fallback:",m),I()}},I=()=>{const l=document.getElementById("upload-form-modal");if(l){document.querySelectorAll(".modal-backdrop").forEach(k=>k.remove()),l.classList.add("show"),l.style.display="block",l.style.opacity="1",l.setAttribute("aria-hidden","false"),document.body.classList.add("modal-open");const S=document.createElement("div");S.className="modal-backdrop fade show",S.id="upload-modal-backdrop",document.body.appendChild(S)}},t=()=>{const l=document.getElementById("upload-form-modal");if(l)try{const m=window.bootstrap;if(m&&m.Modal){const S=m.Modal.getInstance(l);S?S.hide():s()}else s()}catch(m){console.warn("Failed to hide modal with Bootstrap, using fallback:",m),s()}},s=()=>{const l=document.getElementById("upload-form-modal");l&&(l.classList.remove("show","fade","in"),l.style.display="none",l.style.opacity="0",l.setAttribute("aria-hidden","true"),document.body.classList.remove("modal-open"),document.body.style.overflow="",document.body.style.paddingRight="",document.querySelectorAll(".modal-backdrop, #upload-modal-backdrop").forEach(S=>S.remove()),g("close"))};return fe(()=>{U()}),E({show:u,hide:t}),(l,m)=>(d(),r("div",{class:"modal modal-blur fade",id:"upload-form-modal",tabindex:"-1",role:"dialog","aria-hidden":"true",onClick:c},[e("div",{class:"modal-dialog modal-lg modal-dialog-centered",role:"document",onClick:m[3]||(m[3]=me(()=>{},["stop"]))},[e("div",Os,[e("div",{class:"modal-header"},[m[4]||(m[4]=e("h5",{class:"modal-title"},"Upload Application",-1)),e("button",{type:"button",class:"btn-close",onClick:t,"aria-label":"Close"})]),e("div",zs,[e("form",{onSubmit:me(b,["prevent"])},[e("div",qs,[e("div",Gs,[e("div",js,[m[5]||(m[5]=e("label",{class:"form-label"},"Source Type",-1)),$(e("input",{type:"text",class:"form-control","onUpdate:modelValue":m[0]||(m[0]=S=>o.value.sourceType=S),disabled:""},null,512),[[A,o.value.sourceType]])])])]),e("div",Ys,[e("div",Ws,[e("div",Js,[m[6]||(m[6]=e("label",{class:"form-label"},"Name",-1)),$(e("input",{type:"text",class:"form-control","onUpdate:modelValue":m[1]||(m[1]=S=>o.value.name=S),disabled:""},null,512),[[A,o.value.name]])])])]),e("div",Qs,[e("div",Xs,[e("div",Zs,[m[8]||(m[8]=e("label",{class:"form-label"},[F("Tag "),e("span",{class:"text-red"},"*")],-1)),$(e("select",{class:"form-select","onUpdate:modelValue":m[2]||(m[2]=S=>o.value.tag=S)},[m[7]||(m[7]=e("option",{value:""},"Select Tag",-1)),(d(!0),r(L,null,P(h.value,S=>(d(),r("option",{value:S.value,key:S.key},i(S.value),9,el))),128))],512),[[Q,o.value.tag]]),m[9]||(m[9]=e("small",{class:"form-hint"},"Please enter the tag for this catalog.",-1))])])])],32)]),e("div",tl,[e("button",{type:"button",class:"btn btn-link link-secondary",onClick:t}," Cancel "),e("button",{type:"submit",class:"btn btn-primary ms-auto",onClick:b},[R(q(at),{class:"icon"}),m[10]||(m[10]=F(" Upload "))])])])])]))}}),ol=pe(al,[["__scopeId","data-v-3e6265d5"]]),sl={ref:"sofwareCatalog"},ll={class:"row"},nl={class:"col-lg-9"},il={class:"card"},dl={class:"list-group card-list-group",id:"sc-list-group"},rl={class:"row g-2 align-items-center"},cl={class:"col-auto me-3"},ul=["src"],ml={key:1,src:"https://artifacthub.io/static/media/placeholder_pkg_helm.png",class:"rounded",alt:"Catalog Icon",width:"40",height:"40"},pl=["onClick"],vl={class:"text-muted"},gl=["onClick"],bl={class:"text-muted",style:{width:"auto","text-align":"right"}},fl={style:{color:"#e5b942"}},hl={style:{color:"#e5b942"}},yl={class:"text-muted",style:{width:"80px","text-align":"right"}},_l={style:{color:"gray"}},kl={class:"col-3 text-muted"},wl={class:"d-flex justify-content-end"},Cl={class:"mouse-hover"},$l=["onClick"],Ml={class:"text-muted"},Il=["id"],Sl={class:"accordion-body pt-0"},xl=["innerHTML"],Tl=["id"],Dl=["onClick"],Ul=["id"],Al=["id"],Rl={class:"btn btn-sm",style:{"margin-right":"5px"}},El={class:"btn btn-sm",style:{"margin-right":"5px"}},Ll={class:"btn btn-sm",style:{"margin-right":"5px"}},Vl={class:"col-lg-3"},Pl={class:"input-icon mb-3"},Nl={class:"input-icon-addon"},Bl={key:0,class:"col-md-6 col-lg-12",id:"resultDockerHubEmpty"},Hl={key:1,class:"row row-cards",id:"resultDockerHubSearch"},Fl={class:"card"},Kl={class:"row row-0"},Ol={class:"col-auto"},zl=["src"],ql={class:"col"},Gl={class:"card-body"},jl=["href"],Yl={class:"text-muted"},Wl={class:"col-auto lh-1"},Jl={class:"d-flex justify-content-end me-2 mt-4 mouse-hover"},Ql={class:"mt-5"},Xl={key:0,class:"col-md-6 col-lg-12",id:"resultArtifactHubEmpty"},Zl={key:1,class:"row row-cards",id:"resultArtifactHubSearch"},en={class:"card"},tn={class:"row row-0"},an={class:"col"},on={class:"card-body"},sn=["href"],ln={class:"text-muted"},nn={class:"col-auto lh-1"},dn={class:"d-flex justify-content-end me-2 mt-4 mouse-hover"},rn=W({__name:"softwareCatalogList",setup(B){const E=J(),D=f([]),M=f(null),x=f(null),g=f({}),o=f("new"),h=f({}),U=f(""),T=f({}),w=f(null),b=f(null),c=f({}),u=f(null),I=f(""),t=f([]),s=f([]),l=f("");re(async()=>{I.value="",S(),document.addEventListener("click",p=>{p.target.closest(".dropdown")||(l.value="")})});const m=()=>{o.value="new",x.value=null,g.value={},M.value=0,h.value={},U.value="",setTimeout(()=>{u.value&&typeof u.value.initForCreate=="function"&&u.value.initForCreate()},100)},S=async()=>{try{await Pe(I.value).then(({data:p})=>{we.forEach(p,function(y){y.refData=k(y.catalogRefs),y.isShow=!1}),D.value=p})}catch(p){console.log(p),E.error("Unable to retrieve data.")}},k=p=>p.reduce((y,_)=>(y[_.refType]||(y[_.refType]=[]),y[_.refType].push(_),y),{}),C=async p=>{p.keyCode==13&&(await N(),await G())},N=async()=>{t.value=[];try{const{data:p}=await Be(I.value);for(let y=0;y<3;y++)t.value.push(p.results[y])}catch(p){console.log(p),E.error("Unable to retrieve data.")}},G=async()=>{s.value=[];try{const{data:p}=await He(I.value);for(let y=0;y<3;y++)s.value.push(p.packages[y])}catch(p){console.log(p),E.error("Unable to retrieve data.")}},ae=p=>{const y=D.value.find(_=>_.id===p);x.value=p,g.value=y||{},o.value="update",setTimeout(()=>{u.value&&typeof u.value.initForUpdate=="function"&&u.value.initForUpdate(p,y)},100)},oe=p=>{T.value=p,w.value&&w.value.show()},X=async p=>{await S()},K=()=>{T.value={}},se=async p=>{D.value[p].isShow=!D.value[p].isShow},le=(p,y)=>Object.prototype.hasOwnProperty.call(p,y),ve=p=>{window.open(p)},Z=p=>p.replace(/\\n|\n/g,"<br/>"),ee=(p,y)=>{c.value=p,c.value.sourceType=y,b.value&&b.value.show()},ne=async p=>{if(p.sourceType=="DockerHub"){p.createdAt=p.created_at,p.updatedAt=p.updated_at,p.shortDescription=p.short_description,p.starCount=p.star_count,p.ratePlans=p.rate_plans,delete p.created_at,delete p.updated_at,delete p.short_description,delete p.star_count,delete p.rate_plans;const{data:y}=await Fe(p)}else if(p.sourceType=="ArtifactHub"){const{data:y}=await Ke(p)}E.success("Software catalog uploaded successfully!")},te=()=>{c.value={sourceType:"",name:"",sourceData:{}}};return(p,y)=>(d(),r(L,null,[e("div",sl,[e("div",{class:"d-flex justify-content-between align-items-center mb-3"},[y[1]||(y[1]=e("h2",{class:"mb-0"},"Catalog",-1)),e("button",{class:"btn btn-outline-primary d-none d-sm-inline-block",style:{"margin-right":"315px"},"data-bs-toggle":"modal","data-bs-target":"#modal-wizard",onClick:m}," Regist ")]),e("div",ll,[e("div",nl,[e("div",il,[e("div",dl,[(d(!0),r(L,null,P(D.value,(_,O)=>(d(),r("div",{class:"list-group-item pe-1",key:O},[e("div",rl,[e("div",cl,[_.logoUrlLarge?(d(),r("img",{key:0,src:_.logoUrlLarge,class:"rounded",alt:"Catalog Icon",width:"40",height:"40"},null,8,ul)):(d(),r("img",ml))]),e("div",{class:"col-5",onClick:z=>se(O)},[F(i(_.name)+" ",1),e("div",vl,i(_.summary),1)],8,pl),e("div",{class:"col-3 d-flex justify-content-end",onClick:z=>se(O)},[e("span",bl,[R(q(ot),{class:"icon me-1",width:"12",height:"12","stroke-width":"1",color:"#e5b942"}),e("span",fl,i(_.averageRating||0),1),e("span",hl," ("+i(_.ratingCount||0)+") ",1)]),e("span",yl,[R(q(Qe),{class:"icon me-1",width:"12",height:"12","stroke-width":"1",color:"gray"}),e("span",_l,i(_.downloadCount||0),1)])],8,gl),e("div",kl,[e("div",wl,[e("div",Cl,[R(q(Xe),{class:"me-2 cursor-pointer",size:"15","stroke-width":"2","data-bs-toggle":"modal","data-bs-target":"#modal-wizard",onClick:z=>ae(_.id)},null,8,["onClick"]),R(q(tt),{class:"cursor-pointer",size:"15","stroke-width":"2",onClick:z=>oe(_)},null,8,["onClick"])])]),e("div",{class:"d-flex justify-content-end",onClick:z=>se(O)},[e("span",Ml,i(_.category.length>25?_.category.substring(0,25)+"...":_.category),1)],8,$l)]),e("div",{id:"accordion_"+_.id,class:"accordion-collapse collapse",style:qe([_.isShow?{display:"block"}:{display:"none"}])},[e("div",Sl,[e("div",{class:"mt-3 mb-5",innerHTML:Z(_.description)},null,8,xl),e("div",null,[y[2]||(y[2]=e("strong",null,"Ref Information",-1)),e("ul",{id:`${O}-entity-ul`},[le(_.refData,"HOMEPAGE")?(d(!0),r(L,{key:0},P(_.refData.HOMEPAGE,(z,v)=>(d(),r("li",{key:v},[e("a",{class:"btn",onClick:a=>ve(z.refValue)},i(z.refValue),9,Dl)]))),128)):V("",!0)],8,Tl),y[3]||(y[3]=e("strong",null,"TAGS",-1)),e("ul",{id:`${O}-tag-ul`},[le(_.refData,"TAG")?(d(!0),r(L,{key:0},P(_.refData.TAG,(z,v)=>(d(),r("span",{key:v},"#"+i(z.refValue)+" Â ",1))),128)):V("",!0)],8,Ul),y[4]||(y[4]=e("strong",null,"Recommended Spec",-1)),e("ul",{id:`${O}-tag-ul`},[_.recommendedCpu&&_.recommendedMemory&&_.recommendedDisk?(d(),r(L,{key:0},[e("button",Rl," CPU : "+i(_.recommendedCpu)+" Core ",1),e("button",El," MEMORY : "+i(_.recommendedMemory)+" GB ",1),e("button",Ll," DISK : "+i(_.recommendedDisk)+" GB ",1)],64)):V("",!0)],8,Al)])])],12,Il)])]))),128))])])]),e("div",Vl,[e("div",Pl,[e("span",Nl,[R(q(Ne),{class:"icon",width:"24",height:"24","stroke-width":"2"})]),$(e("input",{type:"text",class:"form-control",placeholder:"Searchâ€¦",onKeypress:C,"onUpdate:modelValue":y[0]||(y[0]=_=>I.value=_),id:"inputCatalogSearch"},null,544),[[A,I.value]])]),y[7]||(y[7]=e("h3",{class:"mb-3"}," DOCKERHUB ",-1)),t.value.length<=0?(d(),r("div",Bl," There are no related Container Images found. ")):V("",!0),t.value.length>0?(d(),r("div",Hl,[(d(!0),r(L,null,P(t.value,(_,O)=>(d(),r("div",{class:"col-md-6 col-lg-12",key:O},[e("div",Fl,[e("div",Kl,[e("div",Ol,[e("img",{src:_.logo_url.large,class:"rounded-start ms-2",alt:"Shape of You",width:"80",height:"80"},null,8,zl)]),e("div",ql,[e("div",Gl,[e("a",{href:"https://hub.docker.com/search?q="+I.value,target:"_blank"},i(_.name),9,jl),e("div",Yl,i(_.short_description.length>30?_.short_description.substring(0,30)+"...":""),1)])]),e("div",Wl,[e("div",Jl,[R(q(ye),{class:"cursor-pointer",size:"20","stroke-width":"2",onClick:z=>ee(_,"DockerHub")},null,8,["onClick"])])])])])]))),128))])):V("",!0),e("div",Ql,[y[6]||(y[6]=e("h3",{class:"mb-3"}," ARTIFACTHUB ",-1)),s.value.length<=0?(d(),r("div",Xl," There are no related Helm Charts found. ")):V("",!0),s.value.length>0?(d(),r("div",Zl,[(d(!0),r(L,null,P(s.value,(_,O)=>(d(),r("div",{class:"col-md-6 col-lg-12",key:O},[e("div",en,[e("div",tn,[y[5]||(y[5]=e("div",{class:"col-auto"},[e("img",{src:"https://artifacthub.io/static/media/placeholder_pkg_helm.png",class:"rounded-start",alt:"Shape of You",width:"80",height:"80"})],-1)),e("div",an,[e("div",on,[e("a",{href:"https://artifacthub.io/packages/search?ts_query_web="+I.value+"&sort=relevance&page=1",target:"_blank"},i(_.name),9,sn),e("div",ln,i(_.description.length>30?_.description.substring(0,30)+"...":""),1)])]),e("div",nn,[e("div",dn,[R(q(ye),{class:"cursor-pointer",size:"20","stroke-width":"2",onClick:z=>ee(_,"ArtifactHub")},null,8,["onClick"])])])])])]))),128))])):V("",!0)])])])],512),R(Ks,{ref_key:"deleteConfirmModal",ref:w,"target-catalog":T.value,onDeleted:X,onClose:K},null,8,["target-catalog"]),R(Ls,{ref_key:"wizardModal",ref:u,mode:o.value,onCreated:S,onUpdated:S},null,8,["mode"]),R(ol,{ref_key:"uploadFormModal",ref:b,"source-data":c.value,onUploaded:ne,onClose:te},null,8,["source-data"])],64))}}),cn={class:"page",ref:"sofwareCatalog"},un={class:"page-wrapper"},mn={class:"page-header d-print-none"},pn={class:"container-xxl"},vn={class:"row g-2 align-items-center"},gn={class:"col-auto ms-auto"},bn={class:"page-body"},fn={class:"container-xxl"},hn={class:"row"},yn={class:"col-lg-12"},_n={class:"card"},kn={class:"card-header"},wn={class:"nav nav-tabs card-header-tabs","data-bs-toggle":"tabs"},Cn={class:"nav-item"},$n={href:"#tabs-catalog",class:"nav-link active","data-bs-toggle":"tab"},Mn={class:"nav-item"},In={href:"#tabs-status",class:"nav-link","data-bs-toggle":"tab"},Sn={class:"nav-item"},xn={href:"#tabs-repository",class:"nav-link","data-bs-toggle":"tab"},Tn={class:"card-body"},Dn={class:"tab-content"},Un={class:"tab-pane active show",id:"tabs-catalog"},An={class:"tab-pane",id:"tabs-status"},Rn={class:"tab-pane",id:"tabs-repository"},qn=W({__name:"SoftwareCatalog",setup(B){const E=Ge(),D=f(""),M=f(""),x=f(!1),g=f("");re(async()=>{D.value=E.getNsId()});const o=T=>{M.value=T},h=T=>{g.value=T,x.value=!0},U=()=>{x.value=!1,g.value=""};return(T,w)=>(d(),r(L,null,[e("div",cn,[e("div",un,[e("div",mn,[e("div",pn,[e("div",vn,[w[1]||(w[1]=e("div",{class:"col d-flex"},[e("h2",{class:"page-title"},"Software Catalog")],-1)),e("div",gn,[e("button",{class:"btn btn-outline-primary d-none d-sm-inline-block","data-bs-toggle":"modal","data-bs-target":"#install-form",onClick:w[0]||(w[0]=b=>o("Application Installation"))}," DEPLOY ")])])])]),e("div",bn,[e("div",fn,[e("div",hn,[e("div",yn,[e("div",_n,[e("div",kn,[e("ul",wn,[e("li",Cn,[e("a",$n,[R(q(Je),{class:"icon me-2",width:"24",height:"24","stroke-width":"2"}),w[2]||(w[2]=F(" Catalog "))])]),e("li",Mn,[e("a",In,[R(q(We),{class:"icon me-2",width:"24",height:"24","stroke-width":"2"}),w[3]||(w[3]=F(" Apps Status "))])]),e("li",Sn,[e("a",xn,[R(q(Ze),{class:"icon me-2",width:"24",height:"24","stroke-width":"2"}),w[4]||(w[4]=F(" Repository "))])])])]),e("div",Tn,[e("div",Dn,[e("div",Un,[e("div",null,[R(rn,{nsId:D.value},null,8,["nsId"])])]),e("div",An,[e("div",null,[R(Oa)])]),e("div",Rn,[e("div",null,[x.value?(d(),he(Ye,{key:1,embedded:!0,"repository-name":g.value,onBackToList:U},null,8,["repository-name"])):(d(),he(je,{key:0,embedded:!0,onOpenDetail:h}))])])])])])])])])])])],512),R(Oe,{"ns-id":D.value,title:M.value},null,8,["ns-id","title"])],64))}});export{qn as default};

import{c as z}from"./IconPlus-DovmgSTl.js";import{r as ye,a as _e,s as ke,g as we,b as Ce,c as $e,d as Ie,u as Me,e as Se,f as xe,h as Te,i as De,j as Ae,k as Ue,l as Re,I as Ee,m as Le,n as Ve,o as Pe,p as Ne,A as Be}from"./softwareCatalogForm.vue_vue_type_style_index_0_scoped_c6733d12_lang-Np_VyaHF.js";import{_ as He}from"./Tabulator.vue_vue_type_style_index_0_lang-Dft3cA0y.js";import{d as j,u as Y,c as se,r as f,a as v,b as e,l as K,j as L,t as i,e as M,g as A,h as m,m as re,F as E,f as V,v as W,k as be,n as H,o as le,i as U,p as F,q as fe,w as oe,s as de,x as ue,y as me,z as pe,A as Ke,B as Oe,C as ve}from"./index-Drf9vwyo.js";import{_ as ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as he}from"./lodash-CKiisHJx.js";import{_ as Fe}from"./RepositoryList.vue_vue_type_script_setup_true_lang-x7YMM8nc.js";import{_ as qe}from"./RepositoryDetail.vue_vue_type_script_setup_true_lang-Blg5lFpU.js";import"./request-DCewUS1w.js";import"./bootstrap.esm-B9eE-lR9.js";import"./repository-CLbWE7FF.js";/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ge=z("outline","activity-heartbeat","IconActivityHeartbeat",[["path",{d:"M3 12h4.5l1.5 -6l4 12l2 -9l1.5 3h4.5",key:"svg-0"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ze=z("outline","apps","IconApps",[["path",{d:"M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M14 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M14 7l6 0",key:"svg-3"}],["path",{d:"M17 4l0 6",key:"svg-4"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var je=z("outline","cloud-download","IconCloudDownload",[["path",{d:"M19 18a3.5 3.5 0 0 0 0 -7h-1a5 4.5 0 0 0 -11 -2a4.6 4.4 0 0 0 -2.1 8.4",key:"svg-0"}],["path",{d:"M12 13l0 9",key:"svg-1"}],["path",{d:"M9 19l3 3l3 -3",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ge=z("outline","download","IconDownload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ye=z("outline","edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var We=z("outline","folder","IconFolder",[["path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2",key:"svg-0"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Je=z("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qe=z("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xe=z("outline","upload","IconUpload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ze=z("filled","star-filled","IconStarFilled",[["path",{d:"M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z",key:"svg-0"}]]);const et={class:"modal",id:"action-confirm",tabindex:"-1"},tt={class:"modal-dialog modal-lg",role:"document"},at={class:"modal-content"},ot={class:"modal-header"},st={class:"modal-title"},lt={key:0},nt={class:"modal-body",style:{"max-height":"calc(100vh - 200px)","overflow-y":"auto"}},it={class:"mb-3"},dt={class:"modal-footer d-flex justify-content-between"},rt=j({__name:"applicationActionConfirm",props:{title:{},applicationStatusId:{},type:{},applicationName:{}},emits:["getApplicationsStatusList"],setup(B,{emit:R}){const b=Y(),D=B,I=R,d=se(()=>D.title),s=se(()=>D.applicationStatusId),h=se(()=>D.type),T=f(""),$=()=>{T.value=""},S=async()=>{$();let w;const p={operation:d.value,applicationStatusId:s.value,reason:T.value};if(h.value==="VM"){const{data:t}=await ye(p);w=t}else if(h.value==="K8S"){const{data:t}=await _e(p);w=t}I("getApplicationsStatusList"),w?b.success(`${d.value} Action SUCCESS`):b.error(`${d.value} Action FAIL`)};return(w,p)=>(m(),v("div",et,[e("div",tt,[e("div",at,[e("div",ot,[e("h5",st,[K(i(w.applicationName)+" "+i(d.value)+" ",1),h.value?(m(),v("span",lt,"("+i(h.value)+")",1)):L("",!0)]),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:$})]),e("div",nt,[e("div",it,[p[1]||(p[1]=e("label",{class:"form-label"},"Reason",-1)),p[2]||(p[2]=e("p",{class:"text-muted"}," Please enter a reason ",-1)),M(e("textarea",{class:"form-control",rows:"10",placeholder:"Reason","onUpdate:modelValue":p[0]||(p[0]=t=>T.value=t)},null,512),[[A,T.value]])])]),e("div",dt,[e("a",{class:"btn btn-link link-secondary","data-bs-dismiss":"modal",onClick:$}," Cancel "),e("div",null,[e("button",{class:"btn btn-primary ms-auto","data-bs-dismiss":"modal",onClick:S},i(d.value),1)])])])])]))}}),ct={class:"modal modal-blur fade",id:"rating-modal",tabindex:"-1",role:"dialog","aria-hidden":"true"},ut={class:"modal-dialog modal-dialog-centered",role:"document"},mt={class:"modal-content"},pt={class:"modal-body"},vt={class:"mb-3"},gt={class:"rating-stars"},bt=["onClick"],ft={class:"mb-3"},ht={class:"mb-3"},yt={class:"mb-3"},_t={class:"mb-3"},kt={class:"modal-footer"},wt=["disabled"],Ct=j({__name:"applicationRatingModal",props:{catalogId:{},applicationName:{}},emits:["ratingSubmitted"],setup(B,{emit:R}){const b=B,D=R,I=Y(),d=f({rating:0,category:"",detailedComments:"",name:"",email:""}),s=w=>{d.value.rating=w},h=se(()=>d.value.rating>0&&d.value.category&&d.value.detailedComments&&d.value.name&&d.value.email),T=()=>{d.value={rating:0,category:"",detailedComments:"",name:"",email:""}},$=()=>{const w=document.getElementById("rating-modal");if(w)try{if(window.bootstrap&&window.bootstrap.Modal){const p=window.bootstrap.Modal.getInstance(w);p?p.hide():new window.bootstrap.Modal(w).hide()}else w.style.display="none",w.classList.remove("show"),w.setAttribute("aria-hidden","true"),w.removeAttribute("aria-modal"),document.body.classList.remove("modal-open"),document.querySelectorAll(".modal-backdrop").forEach(t=>t.remove()),document.body.style.overflow="",document.body.style.paddingRight=""}catch(p){console.error("Error closing modal:",p),w.style.display="none",w.classList.remove("show"),document.body.classList.remove("modal-open"),document.querySelectorAll(".modal-backdrop").forEach(k=>k.remove())}},S=async()=>{if(!h.value){I.error("Please fill in all fields");return}try{const w={catalogId:b.catalogId,rating:d.value.rating,category:d.value.category,detailedComments:d.value.detailedComments,name:d.value.name,email:d.value.email,metadata:JSON.stringify({version:"1.0.0",environment:"production",applicationName:b.applicationName})};await ke(w)&&(I.success("Rating submitted successfully"),T(),D("ratingSubmitted"),$())}catch(w){console.error("Rating submission error:",w),I.error("Failed to submit rating")}};return(w,p)=>(m(),v("div",ct,[e("div",ut,[e("div",mt,[p[11]||(p[11]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title"},"Application Rating"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e("div",pt,[e("form",{onSubmit:re(S,["prevent"])},[e("div",vt,[p[4]||(p[4]=e("label",{class:"form-label"},"Overall Rating",-1)),e("div",gt,[(m(),v(E,null,V(5,t=>e("span",{key:t,class:H(["star",{active:t<=d.value.rating}]),onClick:k=>s(t)}," â˜… ",10,bt)),64))])]),e("div",ft,[p[6]||(p[6]=e("label",{class:"form-label"},"Category",-1)),M(e("select",{"onUpdate:modelValue":p[0]||(p[0]=t=>d.value.category=t),class:"form-select",required:""},p[5]||(p[5]=[be('<option value="" data-v-714cdadf>Select Category</option><option value="Performance" data-v-714cdadf>Performance</option><option value="Usability" data-v-714cdadf>Usability</option><option value="Reliability" data-v-714cdadf>Reliability</option><option value="Security" data-v-714cdadf>Security</option><option value="Support" data-v-714cdadf>Support</option>',6)]),512),[[W,d.value.category]])]),e("div",ht,[p[7]||(p[7]=e("label",{class:"form-label"},"Detailed Comments",-1)),M(e("textarea",{"onUpdate:modelValue":p[1]||(p[1]=t=>d.value.detailedComments=t),class:"form-control",rows:"4",placeholder:"Enter detailed comments",required:""},null,512),[[A,d.value.detailedComments]])]),e("div",yt,[p[8]||(p[8]=e("label",{class:"form-label"},"Name",-1)),M(e("input",{"onUpdate:modelValue":p[2]||(p[2]=t=>d.value.name=t),type:"text",class:"form-control",placeholder:"Enter your name",required:""},null,512),[[A,d.value.name]])]),e("div",_t,[p[9]||(p[9]=e("label",{class:"form-label"},"Email",-1)),M(e("input",{"onUpdate:modelValue":p[3]||(p[3]=t=>d.value.email=t),type:"email",class:"form-control",placeholder:"Enter your email",required:""},null,512),[[A,d.value.email]])])],32)]),e("div",kt,[p[10]||(p[10]=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel",-1)),e("button",{type:"button",class:"btn btn-primary",onClick:S,disabled:!h.value},"Submit",8,wt)])])])]))}}),$t=ce(Ct,[["__scopeId","data-v-714cdadf"]]),It={class:"modal modal-blur fade",id:"application-detail-modal",tabindex:"-1",role:"dialog","aria-hidden":"true"},Mt={class:"modal-dialog modal-xl modal-dialog-centered",role:"document"},St={class:"modal-content"},xt={class:"modal-body",style:{"max-height":"80vh","overflow-y":"auto"}},Tt={key:0,class:"text-center"},Dt={key:1},At={class:"mb-4"},Ut={class:"row"},Rt={class:"col-md-2 text-center"},Et=["src","alt"],Lt={class:"col-md-10"},Vt={class:"text-muted"},Pt={class:"row"},Nt={class:"col-md-3"},Bt={class:"col-md-3"},Ht={class:"col-md-3"},Kt={class:"col-md-3"},Ot={class:"mb-4"},Ft={class:"row"},qt={class:"col-md-3"},Gt={class:"card text-center"},zt={class:"card-body"},jt={class:"card-title"},Yt={class:"col-md-3"},Wt={class:"card text-center"},Jt={class:"card-body"},Qt={class:"card-title"},Xt={class:"col-md-3"},Zt={class:"card text-center"},ea={class:"card-body"},ta={class:"card-title"},aa={class:"col-md-3"},oa={class:"card text-center"},sa={class:"card-body"},la={class:"card-title"},na={class:"mb-4"},ia={class:"table-responsive"},da={class:"table table-sm"},ra={key:0},ca={class:"mb-4"},ua={class:"table-responsive"},ma={class:"table table-sm"},pa={key:0},va={class:"mb-4"},ga={class:"mb-3"},ba={class:"table-responsive"},fa={class:"table table-sm"},ha={class:"mb-3"},ya={class:"table-responsive"},_a={class:"table table-sm"},ka={class:"mb-3"},wa={class:"table-responsive"},Ca={class:"table table-sm"},$a={key:0,class:"mb-3"},Ia={class:"table-responsive"},Ma={class:"table table-sm"},Sa={key:0,class:"mb-4"},xa={class:"table-responsive"},Ta={class:"table table-sm"},Da={key:2,class:"text-center text-muted"},Aa=j({__name:"applicationDetailModal",props:{deploymentId:{}},emits:["close"],setup(B,{expose:R,emit:b}){const D=b,I=Y(),d=f(!1),s=f(null),h=f(0);R({refreshData:c=>{h.value=c,h&&$()}});const $=async()=>{if(h){d.value=!0;try{const{data:c}=await we(h.value);c&&(s.value=c.integratedInfo)}catch(c){console.error("Failed to load application detail:",c),I.error("Failed to load application detail")}finally{d.value=!1}}},S=c=>{switch(c==null?void 0:c.toLowerCase()){case"success":case"completed":case"running":return"badge bg-success";case"failed":case"error":case"not_found":return"badge bg-danger";case"in_progress":case"pending":case"restart":return"badge bg-warning";default:return"badge bg-secondary"}},w=c=>{switch(c==null?void 0:c.toLowerCase()){case"critical":return"badge bg-danger";case"warning":return"badge bg-warning";case"error":return"badge bg-danger";default:return"badge bg-info"}},p=c=>{switch(c==null?void 0:c.toLowerCase()){case"info":return"badge bg-info";case"warning":return"badge bg-warning";case"error":return"badge bg-danger";case"debug":return"badge bg-secondary";default:return"badge bg-primary"}},t=c=>{if(c===0)return"0 Bytes";if(!c)return"N/A";const n=1024,r=["Bytes","KB","MB","GB","TB"],g=Math.floor(Math.log(c)/Math.log(n));return parseFloat((c/Math.pow(n,g)).toFixed(2))+" "+r[g]},k=()=>{const c=document.getElementById("application-detail-modal");if(c)try{if(window.bootstrap&&window.bootstrap.Modal){const n=window.bootstrap.Modal.getInstance(c);n?n.hide():new window.bootstrap.Modal(c).hide()}else c.style.display="none",c.classList.remove("show"),c.setAttribute("aria-hidden","true"),c.removeAttribute("aria-modal"),document.body.classList.remove("modal-open"),document.querySelectorAll(".modal-backdrop").forEach(r=>r.remove()),document.body.style.overflow="",document.body.style.paddingRight=""}catch(n){console.error("Error closing modal:",n),c.style.display="none",c.classList.remove("show"),document.body.classList.remove("modal-open"),document.querySelectorAll(".modal-backdrop").forEach(g=>g.remove())}s.value=null,D("close")};return(c,n)=>(m(),v("div",It,[e("div",Mt,[e("div",St,[e("div",{class:"modal-header"},[n[0]||(n[0]=e("h5",{class:"modal-title"},"Application Detail",-1)),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:k})]),e("div",xt,[d.value?(m(),v("div",Tt,n[1]||(n[1]=[e("div",{class:"spinner-border",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1)]))):s.value?(m(),v("div",Dt,[e("div",At,[n[6]||(n[6]=e("h6",{class:"text-primary"},"Application Overview",-1)),e("div",Ut,[e("div",Rt,[s.value.logoUrlLarge?(m(),v("img",{key:0,src:s.value.logoUrlLarge,alt:s.value.catalogName,class:"img-fluid",style:{"max-height":"80px"}},null,8,Et)):L("",!0)]),e("div",Lt,[e("h5",null,i(s.value.catalogName),1),e("p",Vt,i(s.value.catalogDescription),1),e("div",Pt,[e("div",Nt,[n[2]||(n[2]=e("strong",null,"Category:",-1)),K(" "+i(s.value.catalogCategory),1)]),e("div",Bt,[n[3]||(n[3]=e("strong",null,"Default Port:",-1)),K(" "+i(s.value.defaultPort),1)]),e("div",Ht,[n[4]||(n[4]=e("strong",{class:"me-2"},"Status:",-1)),e("span",{class:H(S(s.value.applicationStatus))},i(s.value.applicationStatus),3)]),e("div",Kt,[n[5]||(n[5]=e("strong",{class:"me-2"},"Health Check:",-1)),e("span",{class:H(s.value.healthCheck?"text-success":"text-danger")},i(s.value.healthCheck?"Healthy":"Unhealthy"),3)])])])])]),e("div",Ot,[n[11]||(n[11]=e("h6",{class:"text-primary"},"Performance Metrics",-1)),e("div",Ft,[e("div",qt,[e("div",Gt,[e("div",zt,[e("h5",jt,i(s.value.cpuUsage||"N/A")+"%",1),n[7]||(n[7]=e("p",{class:"card-text"},"CPU Usage",-1))])])]),e("div",Yt,[e("div",Wt,[e("div",Jt,[e("h5",Qt,i(s.value.memoryUsage||"N/A")+"%",1),n[8]||(n[8]=e("p",{class:"card-text"},"Memory Usage",-1))])])]),e("div",Xt,[e("div",Zt,[e("div",ea,[e("h5",ta,i(t(s.value.networkIn)),1),n[9]||(n[9]=e("p",{class:"card-text"},"Network In",-1))])])]),e("div",aa,[e("div",oa,[e("div",sa,[e("h5",la,i(t(s.value.networkOut)),1),n[10]||(n[10]=e("p",{class:"card-text"},"Network Out",-1))])])])])]),e("div",na,[n[14]||(n[14]=e("h6",{class:"text-primary"},"Action History",-1)),e("div",ia,[e("table",da,[n[13]||(n[13]=e("thead",null,[e("tr",null,[e("th",null,"Action"),e("th",null,"Timestamp"),e("th",null,"User"),e("th",null,"Status"),e("th",null,"Description")])],-1)),e("tbody",null,[s.value.operationHistories.length===0?(m(),v("tr",ra,n[12]||(n[12]=[e("td",{colspan:"5",class:"text-center text-muted"},"No action history available",-1)]))):L("",!0),(m(!0),v(E,null,V(s.value.operationHistories,r=>(m(),v("tr",{key:r.id},[e("td",null,i(r.operationType),1),e("td",null,i(r.executedAt),1),e("td",null,i(r.executedBy||"system"),1),e("td",null,[e("span",{class:H(S(r.status))},i(r.status),3)]),e("td",null,i(r.detailReason||r.reason),1)]))),128))])])])]),e("div",ca,[n[17]||(n[17]=e("h6",{class:"text-primary"},"Error Logs",-1)),e("div",ua,[e("table",ma,[n[16]||(n[16]=e("thead",null,[e("tr",null,[e("th",null,"Timestamp"),e("th",null,"Error Code"),e("th",null,"Severity"),e("th",null,"Module"),e("th",null,"Description")])],-1)),e("tbody",null,[s.value.errorLogs.length===0?(m(),v("tr",pa,n[15]||(n[15]=[e("td",{colspan:"5",class:"text-center text-muted"},"No error logs available",-1)]))):L("",!0),(m(!0),v(E,null,V(s.value.errorLogs,r=>(m(),v("tr",{key:r.id},[e("td",null,i(r.loggedAt),1),e("td",null,i(r.errorCode),1),e("td",null,[e("span",{class:H(w(r.severity))},i(r.severity),3)]),e("td",null,i(r.module),1),e("td",null,i(r.logMessage),1)]))),128))])])])]),e("div",va,[n[26]||(n[26]=e("h6",{class:"text-primary"},"Deployment History",-1)),e("div",ga,[n[19]||(n[19]=e("h6",null,"Basic Deployment Information",-1)),e("div",ba,[e("table",fa,[n[18]||(n[18]=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Action Type"),e("th",null,"Executed At"),e("th",null,"Executed By"),e("th",null,"Status")])],-1)),e("tbody",null,[e("tr",null,[e("td",null,i(s.value.deploymentId),1),e("td",null,i(s.value.actionType),1),e("td",null,i(s.value.executedAt),1),e("td",null,i(s.value.executedBy||"system"),1),e("td",null,[e("span",{class:H(S(s.value.status))},i(s.value.status),3)])])])])])]),e("div",ha,[n[21]||(n[21]=e("h6",null,"Cloud & Cluster Information",-1)),e("div",ya,[e("table",_a,[n[20]||(n[20]=e("thead",null,[e("tr",null,[e("th",null,"Cloud Provider"),e("th",null,"Cloud Region"),e("th",null,"Cluster Name"),e("th",null,"Deployment Type"),e("th",null,"MCI ID"),e("th",null,"UID")])],-1)),e("tbody",null,[e("tr",null,[e("td",null,i(s.value.cloudProvider),1),e("td",null,i(s.value.cloudRegion),1),e("td",null,i(s.value.clusterName||"N/A"),1),e("td",null,i(s.value.deploymentType),1),e("td",null,i(s.value.mciId),1),e("td",null,i(s.value.vmId),1)])])])])]),e("div",ka,[n[23]||(n[23]=e("h6",null,"Network & Service Information",-1)),e("div",wa,[e("table",Ca,[n[22]||(n[22]=e("thead",null,[e("tr",null,[e("th",null,"Namespace"),e("th",null,"Pod Status"),e("th",null,"Public IP"),e("th",null,"Service Port"),e("th",null,"VM ID"),e("th",null,"Catalog ID")])],-1)),e("tbody",null,[e("tr",null,[e("td",null,i(s.value.namespace),1),e("td",null,i(s.value.podStatus||s.value.applicationStatus),1),e("td",null,i(s.value.publicIp),1),e("td",null,i(s.value.servicePort||s.value.defaultPort),1),e("td",null,i(s.value.vmId),1),e("td",null,i(s.value.catalogName),1)])])])])]),s.value.ingressEnabled?(m(),v("div",$a,[n[25]||(n[25]=e("h6",null,"Ingress Information",-1)),e("div",Ia,[e("table",Ma,[n[24]||(n[24]=e("thead",null,[e("tr",null,[e("th",null,"Enabled"),e("th",null,"Host"),e("th",null,"Path"),e("th",null,"Class"),e("th",null,"TLS Enabled"),e("th",null,"TLS Secret")])],-1)),e("tbody",null,[e("tr",null,[e("td",null,[e("span",{class:H(s.value.ingressEnabled?"text-success":"text-danger")},i(s.value.ingressEnabled?"Yes":"No"),3)]),e("td",null,i(s.value.ingressHost||"N/A"),1),e("td",null,i(s.value.ingressPath||"N/A"),1),e("td",null,i(s.value.ingressClass||"N/A"),1),e("td",null,[e("span",{class:H(s.value.ingressTlsEnabled?"text-success":"text-danger")},i(s.value.ingressTlsEnabled?"Yes":"No"),3)]),e("td",null,i(s.value.ingressTlsSecret||"N/A"),1)])])])])])):L("",!0)]),s.value.deploymentLogs&&s.value.deploymentLogs.length>0?(m(),v("div",Sa,[n[28]||(n[28]=e("h6",{class:"text-primary"},"Deployment Logs",-1)),e("div",xa,[e("table",Ta,[n[27]||(n[27]=e("thead",null,[e("tr",null,[e("th",null,"Timestamp"),e("th",null,"Type"),e("th",null,"Message")])],-1)),e("tbody",null,[(m(!0),v(E,null,V(s.value.deploymentLogs,r=>(m(),v("tr",{key:r.id},[e("td",null,i(r.loggedAt),1),e("td",null,[e("span",{class:H(["me-4 mt-2",p(r.logType)])},i(r.logType),3)]),e("td",null,i(r.logMessage),1)]))),128))])])])])):L("",!0)])):(m(),v("div",Da," No data available "))]),e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:k},"Close")])])])]))}}),Ua=ce(Aa,[["__scopeId","data-v-13c9022f"]]),Ra={class:"card card-flush w-100"},Ea={class:"page-header page-wrapper"},La={class:"row align-items-center"},Va={class:"card-header d-flex",style:{"justify-content":"space-between"}},Pa={class:"btn-list"},Na={class:"me-2"},Ba=j({__name:"applicationStatusList",setup(B){const R=Y(),b=f([]),D=f([]),I=f(""),d=f(""),s=f(0),h=f(""),T=f(""),$=f(0);f(!1);const S=f(0),w=f();le(async()=>{k(),await p()});const p=async()=>{try{t();const{data:y}=await Ce();y?b.value=y:b.value=[]}catch(y){console.log(y),R.error("Unable to retrieve data")}},t=()=>{b.value=[];const y=new Date,C={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1};I.value=y.toLocaleDateString("ko-KR",C)},k=()=>{D.value=[{title:"Infra",width:"25%",formatter:r,cellClick:function(y,C){n(C)}},{title:"Application",field:"applicationName",width:"15%",cellClick:function(y,C){n(C)},formatter:function(y){return`<div style="cursor: pointer; color:">${y.getValue()}</div>`}},{title:"Status",width:"13%",formatter:g,cellClick:function(y,C){n(C)}},{title:"CheckedAt",field:"checkedAt",width:"17%",cellClick:function(y,C){n(C)},formatter:function(y){return`<div style="cursor: pointer;">${y.getValue()}</div>`}},{title:"Action",width:"30%",formatter:x,cellClick:async function(y,C){const P=y.target,q=P==null?void 0:P.getAttribute("id"),J=C.getRow().getData().id,ee=C.getRow().getData().deploymentType,te=C.getRow().getData().applicationName,N={operation:"",applicationStatusId:J,deploymentType:ee,applicationName:te};q==="restart-btn"?(N.operation="RESTART",await c(N)):q==="stop-btn"?(N.operation="STOP",await c(N)):q==="uninstall-btn"?(N.operation="UNINSTALL",await c(N)):q==="rating-btn"&&(N.operation="RATING",$.value=C.getRow().getData().catalogId||1,await c(N))}}]},c=async y=>{d.value=y.operation,s.value=y.applicationStatusId,h.value=y.deploymentType,T.value=y.applicationName},n=y=>{const C=y.getRow().getData();S.value=C.deploymentId||C.id;const P=document.getElementById("application-detail-modal");if(P)try{window.bootstrap&&window.bootstrap.Modal?(new window.bootstrap.Modal(P).show(),setTimeout(()=>{w.value&&w.value.refreshData(S.value)},100)):(P.style.display="block",P.classList.add("show"),document.body.classList.add("modal-open"),w.value&&w.value.refreshData(S.value))}catch(q){console.error("Error opening detail modal:",q)}},r=y=>{const C=y.getRow().getData().deploymentType,P=y.getRow().getData().vmId?y.getRow().getData().vmId:y.getRow().getData().clusterName?y.getRow().getData().clusterName:"-";return`
    <div style="cursor: pointer;">
      <p style="margin: 0;">
        ${C} (${P})
      </p>
    </div>
  `},g=y=>{const C=y.getRow().getData().status;return C==="RUNNING"?`
      <div style="cursor: pointer;">
        <span class="status status-green">  
          <span class="status-dot"></span>
            ${C}
        </span>
      </div>`:C==="RESTART"||C==="IN_PROGRESS"?`
    <div style="cursor: pointer;">
      <span class="status status-primary">  
        <span class="status-dot"></span>
          ${C}
      </span>
    </div>`:C==="NOT_FOUND"?`
    <div style="cursor: pointer;">
      <span class="status status-yellow">  
        <span class="status-dot"></span>
          ${C}
      </span>
    </div>`:`
  <div style="cursor: pointer;">
    <span class="status status-red">  
      <span class="status-dot"></span>
        ${C}
    </span>
  </div>`},x=()=>`
  <div>
    <button
      class='btn btn-ghost-primary d-none d-sm-inline-block'
      id='restart-btn'
      data-bs-toggle='modal' 
      data-bs-target='#action-confirm'>
      Restart
    </button>
    <button
      class='btn btn-ghost-warning d-none d-sm-inline-block'
      id='stop-btn'
      data-bs-toggle='modal' 
      data-bs-target='#action-confirm'>
      Stop
    </button>
    <button
      class='btn btn-ghost-danger d-none d-sm-inline-block'
      id='uninstall-btn'
      data-bs-toggle='modal' 
      data-bs-target='#action-confirm'>
      Uninstall
    </button>
    <button
      class='btn btn-ghost-info d-none d-sm-inline-block'
      id='rating-btn'
      data-bs-toggle='modal' 
      data-bs-target='#rating-modal'>
      Rating
    </button>
  </div>`;return(y,C)=>(m(),v(E,null,[e("div",Ra,[e("div",Ea,[e("div",La,[e("div",Va,[C[1]||(C[1]=e("h3",{class:"card-title"},[e("strong",null,"Apps Status")],-1)),e("div",Pa,[e("span",Na,i(I.value),1),e("a",{class:"btn btn-outline-primary d-none d-sm-inline-block",onClick:p},[U(F(Je),{class:"icon icon-tabler",size:20,"stroke-width":"1"}),C[0]||(C[0]=K(" Refresh "))])])])])]),U(He,{columns:D.value,"table-data":b.value},null,8,["columns","table-data"])]),U(rt,{title:d.value,applicationStatusId:s.value,type:h.value,applicationName:T.value,onGetApplicationsStatusList:p},null,8,["title","applicationStatusId","type","applicationName"]),U($t,{catalogId:$.value,applicationName:T.value,onRatingSubmitted:p},null,8,["catalogId","applicationName"]),U(Ua,{ref_key:"applicationDetailModalRef",ref:w,deploymentId:S.value},null,8,["deploymentId"])],64))}}),Ha={class:"modal-dialog modal-lg",role:"document"},Ka={class:"modal-content"},Oa={class:"modal-header"},Fa={class:"modal-title"},qa={class:"modal-body",style:{"max-height":"calc(100vh - 200px)","overflow-y":"auto"}},Ga={class:"nav nav-tabs mb-3"},za={class:"nav-item"},ja={class:"nav-item"},Ya={class:"nav-item"},Wa={class:"nav-item"},Ja={class:"mb-3"},Qa={class:"d-flex align-items-center"},Xa={class:"form-check me-3"},Za=["disabled"],eo={class:"form-check"},to=["disabled"],ao={class:"mb-3"},oo=["disabled"],so=["value"],lo={class:"w-100 d-flex justify-content-between"},no={class:"mb-3 w-50",style:{"margin-right":"10px"}},io=["disabled"],ro=["value"],co={class:"mb-3 w-50"},uo=["disabled"],mo=["value"],po={class:"mb-3"},vo={class:"mb-3"},go={class:"mb-3"},bo={class:"mb-3"},fo={class:"col-5"},ho=["onUpdate:modelValue"],yo={class:"col-6"},_o=["onUpdate:modelValue"],ko={class:"col-1 d-flex gap-2"},wo=["onClick","disabled"],Co={class:"row"},$o={class:"col-md-6"},Io={class:"row"},Mo={class:"col-6"},So={class:"input-group"},xo={class:"col-6"},To={class:"input-group"},Do={class:"row mt-3"},Ao={class:"col-md-6"},Uo={class:"row"},Ro={class:"col-6"},Eo={class:"input-group"},Lo={class:"col-6"},Vo={class:"input-group"},Po={class:"row mt-3"},No={class:"col-md-6"},Bo={class:"row"},Ho={class:"col-6"},Ko={class:"input-group"},Oo={class:"col-6"},Fo={class:"input-group"},qo={key:0,class:"card mt-3"},Go={class:"card-body"},zo={class:"d-flex align-items-center mb-2"},jo={class:"form-check form-switch"},Yo={class:"row"},Wo={class:"col-md-3"},Jo=["disabled"],Qo={class:"col-md-3"},Xo=["disabled"],Zo={class:"col-md-3"},es=["disabled"],ts={class:"col-md-3"},as=["disabled"],os={key:0},ss={class:"card"},ls={class:"card-body"},ns={class:"mb-3"},is={key:1},ds={class:"card"},rs={class:"card-body"},cs={class:"mb-3"},us={class:"col-4"},ms=["onUpdate:modelValue"],ps={class:"col-3"},vs=["onUpdate:modelValue"],gs={class:"col-4"},bs=["onUpdate:modelValue"],fs={class:"col-1 d-flex align-items-end gap-2"},hs=["onClick","disabled"],ys={class:"card mt-3"},_s={class:"card-body"},ks={class:"d-flex align-items-center mb-3"},ws={class:"form-check form-switch"},Cs={key:0},$s={class:"mb-3"},Is={class:"modal-footer"},Ms={class:"ms-auto d-flex gap-2"},Ss=["disabled"],xs=["disabled"],Ts=["disabled"],Ds=j({__name:"softwareCatalogWizard",props:{show:{type:Boolean},mode:{},catalogId:{},catalogInfo:{}},emits:["created","updated"],setup(B,{emit:R}){const b=B,D=R,I=Y(),d=f(1),s=f(!1),h=f(!1),T=f(0),$=f(null),S=f(!1);le(()=>{T.value=b.catalogId,$.value&&($.value.addEventListener("show.bs.modal",w),$.value.addEventListener("hide.bs.modal",p)),X()}),fe(()=>{$.value&&($.value.removeEventListener("show.bs.modal",w),$.value.removeEventListener("hide.bs.modal",p))}),oe(()=>[b.mode,b.catalogId],([o,a],[l,G])=>{a&&o==="update"&&(d.value=1,T.value=a,N())});const w=()=>{h.value=!0,b.mode==="new"&&x()},p=()=>{h.value=!1,S.value=!1},t=f({id:null,target:"VM",sourceType:"DOCKERHUB",category:"",packageName:"",version:"",packageInfo:null,helmChart:null,name:"",summary:"",description:"",logoUrlLarge:"",logoUrlSmall:"",catalogRefs:[],minCpu:0,recommendedCpu:0,minMemory:0,recommendedMemory:0,minDisk:0,recommendedDisk:0,hpaEnabled:!1,minReplicas:1,maxReplicas:10,cpuThreshold:80,memoryThreshold:80,ports:[],ingressEnabled:!1,ingressUrl:"",defaultPort:80,registeredById:null,createdAt:null,updatedAt:null}),k=f([{refId:0,refValue:"",refDesc:"",refType:"URL"}]),c=f([{targetPort:80,hostPort:8080,protocol:"TCP"}]),n=se(()=>d.value===1?t.value.target&&t.value.category&&t.value.packageName&&t.value.version:d.value===2?t.value.name.trim().length>0&&t.value.summary.trim().length>0&&t.value.description.trim().length>0:d.value===3?t.value.minCpu>0&&t.value.minMemory>0&&t.value.minDisk>0&&t.value.recommendedCpu>0&&t.value.recommendedMemory>0&&t.value.recommendedDisk>0:d.value===3&&t.value.hpaEnabled?t.value.minReplicas>0&&t.value.maxReplicas>0&&t.value.cpuThreshold>0&&t.value.memoryThreshold>0:(console.log(c.value),d.value===3&&t.value.target==="VM"?t.value.defaultPort>0:d.value===4&&t.value.target==="K8S"?(console.log(c.value.length),c.value.length>0?c.value.every(o=>o.targetPort>0&&o.hostPort>0&&o.protocol):!1):d.value===4&&t.value.ingressEnabled?t.value.ingressUrl.trim().length>0:!0)),r=()=>{n.value&&d.value<4&&(d.value+=1)},g=()=>{d.value>1&&(d.value-=1)},x=()=>{d.value=1,t.value={id:null,target:"VM",sourceType:"DOCKERHUB",category:"",packageName:"",version:"",packageInfo:null,helmChart:null,name:"",summary:"",description:"",logoUrlLarge:"",logoUrlSmall:"",catalogRefs:[],minCpu:0,recommendedCpu:0,minMemory:0,recommendedMemory:0,minDisk:0,recommendedDisk:0,hpaEnabled:!1,minReplicas:1,maxReplicas:10,cpuThreshold:80,memoryThreshold:80,ports:[],ingressEnabled:!1,ingressUrl:"",defaultPort:80,registeredById:null,createdAt:null,updatedAt:null},k.value=[{refId:0,refValue:"",refDesc:"",refType:"URL"}],c.value=[{targetPort:80,hostPort:8080,protocol:"TCP"}]},y=()=>{k.value.push({refId:0,refValue:"",refDesc:"",refType:"URL"})},C=o=>{k.value.length>1&&k.value.splice(o,1)},P=()=>{c.value.push({targetPort:80,hostPort:8080,protocol:"TCP"})},q=o=>{c.value.length>1&&c.value.splice(o,1)},J=()=>{if($.value){h.value=!1;const o=$.value.querySelector('[data-bs-dismiss="modal"]');if(o)o.click();else try{const a=window.bootstrap;if(a!=null&&a.Modal)(a.Modal.getInstance($.value)||new a.Modal($.value)).hide();else{$.value.classList.remove("show"),$.value.style.display="none",document.body.classList.remove("modal-open");const l=document.querySelector(".modal-backdrop");l==null||l.remove()}}catch(a){console.warn("Modal close failed:",a)}}},ee=async()=>{try{t.value.catalogRefs=k.value.filter(o=>o.refValue.trim()),t.value.target==="K8S"&&(t.value.ports=c.value.filter(o=>o.targetPort&&o.hostPort)),t.value.target==="VM"?t.value.sourceType="DOCKERHUB":t.value.target==="K8S"&&(t.value.sourceType="ARTIFACTHUB"),await Ie(t.value),I.success("Registration Success"),J(),D("created")}catch{I.error("Registration Failed")}},te=async()=>{try{t.value.catalogRefs=k.value.filter(o=>o.refValue.trim()),t.value.target==="K8S"&&(t.value.ports=c.value.filter(o=>o.targetPort&&o.hostPort)),t.value.target==="VM"?t.value.sourceType="DOCKERHUB":t.value.target==="K8S"&&(t.value.sourceType="ARTIFACTHUB"),await Me(t.value),I.success("Update Success"),J(),D("updated")}catch{I.error("Update Failed")}},N=async()=>{try{if(!T.value)return;b.catalogInfo&&b.catalogInfo.category&&(s.value=!0,t.value.target=b.catalogInfo.sourceType==="DOCKERHUB"?"VM":"K8S",t.value.category=b.catalogInfo.category,b.catalogInfo.sourceType==="DOCKERHUB"?(t.value.packageName=b.catalogInfo.packageInfo.packageName,t.value.version=b.catalogInfo.packageInfo.packageVersion):b.catalogInfo.sourceType==="ARTIFACTHUB"&&(t.value.packageName=b.catalogInfo.helmChart.chartName,t.value.version=b.catalogInfo.helmChart.chartVersion),s.value=!1),await ne()}catch{I.error("Failed to load catalog data"),s.value=!1}},ne=async()=>{try{if(!T.value)return;const{data:o}=await Se(T.value);s.value=!0,t.value={...t.value,...o,target:o.sourceType==="DOCKERHUB"?"VM":"K8S"},o.sourceType==="DOCKERHUB"&&(t.value.packageName=o.packageInfo.packageName,t.value.version=o.packageInfo.packageVersion),o.sourceType==="ARTIFACTHUB"&&(t.value.packageName=o.helmChart.chartName,t.value.version=o.helmChart.chartVersion),o.catalogRefs&&o.catalogRefs.length>0?k.value=o.catalogRefs.map(a=>({refId:a.id||0,refValue:a.refValue||"",refDesc:a.refDesc||"",refType:a.refType||"URL"})):k.value=[{refId:0,refValue:"",refDesc:"",refType:"URL"}],o.ports&&o.ports.length>0?c.value=o.ports.map(a=>({targetPort:a.targetPort||80,hostPort:a.hostPort||8080,protocol:a.protocol||"TCP"})):c.value=[{targetPort:80,hostPort:8080,protocol:"TCP"}],await X(),t.value.category&&(await ie(),t.value.packageName&&await _()),s.value=!1}catch{I.error("Failed to load catalog data"),s.value=!1}},Q=o=>{n.value&&(d.value=o)};oe(()=>t.value.target,o=>{o&&(b.mode==="new"&&(t.value.category="",t.value.packageName="",t.value.version=""),X())});const ae=f([]),X=async()=>{if(b.mode==="new"&&(ae.value=[],Z.value=[],u.value=[],t.value.category="",t.value.packageName="",t.value.version=""),t.value.target){const o={target:t.value.target==="VM"?"DOCKER":"HELM"},{data:a}=await $e(o);ae.value=a}};oe(()=>t.value.category,o=>{o&&(b.mode==="new"&&(t.value.packageName="",t.value.version=""),ie())});const Z=f([]),ie=async()=>{b.mode==="new"&&(Z.value=[],u.value=[],t.value.packageName="",t.value.version="");const o={target:t.value.target==="VM"?"DOCKER":"HELM",category:t.value.category||""},{data:a}=await xe(o);Z.value=a};oe(()=>t.value.packageName,o=>{o&&(b.mode==="new"&&(t.value.version=""),_())});const u=f([]),_=async()=>{b.mode==="new"&&(u.value=[],t.value.version="");const o={target:t.value.target==="VM"?"DOCKER":"HELM",packageName:t.value.packageName||""},{data:a}=await Te(o);b.mode==="new"?a.forEach(l=>{l.isUsed||u.value.push(l)}):u.value=a};return(o,a)=>(m(),v("div",{class:"modal fade",id:"modal-wizard",tabindex:"-1",ref_key:"wizardModal",ref:$},[e("div",Ha,[e("div",Ka,[e("div",Oa,[e("h5",Fa,i(b.mode==="update"?"Application Update":"Application Registration"),1),a[27]||(a[27]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",qa,[e("ul",Ga,[e("li",za,[e("a",{class:H(["nav-link",{active:d.value===1}]),href:"javascript:void(0);",onClick:a[0]||(a[0]=l=>Q(1))},"1. Package",2)]),e("li",ja,[e("a",{class:H(["nav-link",{active:d.value===2}]),href:"javascript:void(0);",onClick:a[1]||(a[1]=l=>Q(2))},"2. General",2)]),e("li",Ya,[e("a",{class:H(["nav-link",{active:d.value===3}]),href:"javascript:void(0);",onClick:a[2]||(a[2]=l=>Q(3))},"3. Resource Requirements",2)]),e("li",Wa,[e("a",{class:H(["nav-link",{active:d.value===4}]),href:"javascript:void(0);",onClick:a[3]||(a[3]=l=>Q(4))},"4. Network",2)])]),M(e("div",null,[e("div",Ja,[a[30]||(a[30]=e("label",{class:"form-label required"},"Target",-1)),e("div",Qa,[e("div",Xa,[M(e("input",{class:"form-check-input",type:"radio",name:"target",value:"VM","onUpdate:modelValue":a[4]||(a[4]=l=>t.value.target=l),id:"targetVM",disabled:b.mode==="update"},null,8,Za),[[ue,t.value.target]]),a[28]||(a[28]=e("label",{class:"form-check-label",for:"targetVM"},"VM",-1))]),e("div",eo,[M(e("input",{class:"form-check-input",type:"radio",name:"target",value:"K8S","onUpdate:modelValue":a[5]||(a[5]=l=>t.value.target=l),id:"targetK8S",disabled:b.mode==="update"},null,8,to),[[ue,t.value.target]]),a[29]||(a[29]=e("label",{class:"form-check-label",for:"targetK8S"},"K8S",-1))])])]),e("div",ao,[a[32]||(a[32]=e("label",{class:"form-label required"},"Category",-1)),M(e("select",{class:"form-select","onUpdate:modelValue":a[6]||(a[6]=l=>t.value.category=l),disabled:b.mode==="update"},[a[31]||(a[31]=e("option",{value:""},"Select Category",-1)),(m(!0),v(E,null,V(ae.value,l=>(m(),v("option",{value:l.value,key:l.key},i(l.value),9,so))),128))],8,oo),[[W,t.value.category]])]),e("div",lo,[e("div",no,[a[34]||(a[34]=e("label",{class:"form-label required"},"Package",-1)),M(e("select",{class:"form-select","onUpdate:modelValue":a[7]||(a[7]=l=>t.value.packageName=l),disabled:b.mode==="update"},[a[33]||(a[33]=e("option",{value:""},"Select Package",-1)),(m(!0),v(E,null,V(Z.value,l=>(m(),v("option",{value:l.value,key:l.key},i(l.value),9,ro))),128))],8,io),[[W,t.value.packageName]])]),e("div",co,[a[36]||(a[36]=e("label",{class:"form-label required"},"Version",-1)),M(e("select",{class:"form-select","onUpdate:modelValue":a[8]||(a[8]=l=>t.value.version=l),disabled:b.mode==="update"},[a[35]||(a[35]=e("option",{value:""},"Select Version",-1)),(m(!0),v(E,null,V(u.value,l=>(m(),v("option",{value:l.value,key:l.key},i(l.value),9,mo))),128))],8,uo),[[W,t.value.version]])])])],512),[[de,d.value===1]]),M(e("div",null,[e("div",po,[a[37]||(a[37]=e("label",{class:"form-label required"},"Application Name",-1)),M(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=l=>t.value.name=l),placeholder:"Application name"},null,512),[[A,t.value.name]])]),e("div",vo,[a[38]||(a[38]=e("label",{class:"form-label required"},"Summary",-1)),M(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[10]||(a[10]=l=>t.value.summary=l),placeholder:"Application summary"},null,512),[[A,t.value.summary]])]),e("div",go,[a[39]||(a[39]=e("label",{class:"form-label required"},"Description",-1)),M(e("textarea",{class:"form-control",rows:"4","onUpdate:modelValue":a[11]||(a[11]=l=>t.value.description=l),placeholder:"Application description"},null,512),[[A,t.value.description]])]),e("div",bo,[a[41]||(a[41]=e("label",{class:"form-label"},"Reference",-1)),(m(!0),v(E,null,V(k.value,(l,G)=>(m(),v("div",{class:"row g-2 mb-2",key:G},[e("div",fo,[M(e("select",{class:"form-select","onUpdate:modelValue":O=>l.refType=O},a[40]||(a[40]=[be('<option value="URL" data-v-42b8d677>URL</option><option value="IMAGE" data-v-42b8d677>IMAGE</option><option value="HOMEPAGE" data-v-42b8d677>HOMEPAGE</option><option value="TAG" data-v-42b8d677>TAG</option><option value="ETC" data-v-42b8d677>ETC</option>',5)]),8,ho),[[W,l.refType]])]),e("div",yo,[M(e("input",{type:"text",class:"form-control","onUpdate:modelValue":O=>l.refValue=O,placeholder:"Ref Value"},null,8,_o),[[A,l.refValue]])]),e("div",ko,[e("button",{type:"button",class:"btn btn-outline-danger btn-sm w-100 cursor-pointer",onClick:O=>C(G),disabled:k.value.length<=1},"-",8,wo)])]))),128)),e("div",{class:"form-text cursor-pointer",onClick:y,style:{color:"gray"}},"+ Add Reference")])],512),[[de,d.value===2]]),M(e("div",null,[e("div",Co,[e("div",$o,[a[46]||(a[46]=e("label",{class:"form-label"},"CPU",-1)),e("div",Io,[e("div",Mo,[a[43]||(a[43]=e("label",{class:"form-label text-muted small"},"Minimum",-1)),e("div",So,[M(e("input",{type:"number",min:"0",step:"0.1",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=l=>t.value.minCpu=l),placeholder:"1"},null,512),[[A,t.value.minCpu,void 0,{number:!0}]]),a[42]||(a[42]=e("span",{class:"input-group-text"},"Cores",-1))])]),e("div",xo,[a[45]||(a[45]=e("label",{class:"form-label text-muted small"},"Recommended",-1)),e("div",To,[M(e("input",{type:"number",min:"0",step:"0.1",class:"form-control","onUpdate:modelValue":a[13]||(a[13]=l=>t.value.recommendedCpu=l),placeholder:"2"},null,512),[[A,t.value.recommendedCpu,void 0,{number:!0}]]),a[44]||(a[44]=e("span",{class:"input-group-text"},"Cores",-1))])])])])]),e("div",Do,[e("div",Ao,[a[51]||(a[51]=e("label",{class:"form-label"},"Memory",-1)),e("div",Uo,[e("div",Ro,[a[48]||(a[48]=e("label",{class:"form-label text-muted small"},"Minimum",-1)),e("div",Eo,[M(e("input",{type:"number",min:"0",class:"form-control","onUpdate:modelValue":a[14]||(a[14]=l=>t.value.minMemory=l),placeholder:"4"},null,512),[[A,t.value.minMemory,void 0,{number:!0}]]),a[47]||(a[47]=e("span",{class:"input-group-text"},"GB",-1))])]),e("div",Lo,[a[50]||(a[50]=e("label",{class:"form-label text-muted small"},"Recommended",-1)),e("div",Vo,[M(e("input",{type:"number",min:"0",class:"form-control","onUpdate:modelValue":a[15]||(a[15]=l=>t.value.recommendedMemory=l),placeholder:"8"},null,512),[[A,t.value.recommendedMemory,void 0,{number:!0}]]),a[49]||(a[49]=e("span",{class:"input-group-text"},"GB",-1))])])])])]),e("div",Po,[e("div",No,[a[56]||(a[56]=e("label",{class:"form-label"},"Storage",-1)),e("div",Bo,[e("div",Ho,[a[53]||(a[53]=e("label",{class:"form-label text-muted small"},"Minimum",-1)),e("div",Ko,[M(e("input",{type:"number",min:"0",class:"form-control","onUpdate:modelValue":a[16]||(a[16]=l=>t.value.minDisk=l),placeholder:"10"},null,512),[[A,t.value.minDisk,void 0,{number:!0}]]),a[52]||(a[52]=e("span",{class:"input-group-text"},"GB",-1))])]),e("div",Oo,[a[55]||(a[55]=e("label",{class:"form-label text-muted small"},"Recommended",-1)),e("div",Fo,[M(e("input",{type:"number",min:"0",class:"form-control","onUpdate:modelValue":a[17]||(a[17]=l=>t.value.recommendedDisk=l),placeholder:"20"},null,512),[[A,t.value.recommendedDisk,void 0,{number:!0}]]),a[54]||(a[54]=e("span",{class:"input-group-text"},"GB",-1))])])])])]),t.value.target==="K8S"?(m(),v("div",qo,[e("div",Go,[e("div",zo,[a[57]||(a[57]=e("label",{class:"form-check-label me-2"},"K8S HPA",-1)),e("div",jo,[M(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[18]||(a[18]=l=>t.value.hpaEnabled=l)},null,512),[[me,t.value.hpaEnabled]])])]),e("div",Yo,[e("div",Wo,[a[58]||(a[58]=e("label",{class:"form-label"},"minReplicas",-1)),M(e("input",{type:"number",min:"1",class:"form-control","onUpdate:modelValue":a[19]||(a[19]=l=>t.value.minReplicas=l),disabled:!t.value.hpaEnabled,placeholder:"1"},null,8,Jo),[[A,t.value.minReplicas,void 0,{number:!0}]])]),e("div",Qo,[a[59]||(a[59]=e("label",{class:"form-label"},"maxReplicas",-1)),M(e("input",{type:"number",min:"1",class:"form-control","onUpdate:modelValue":a[20]||(a[20]=l=>t.value.maxReplicas=l),disabled:!t.value.hpaEnabled,placeholder:"10"},null,8,Xo),[[A,t.value.maxReplicas,void 0,{number:!0}]])]),e("div",Zo,[a[60]||(a[60]=e("label",{class:"form-label"},"CPU (%)",-1)),M(e("input",{type:"number",min:"1",max:"100",class:"form-control","onUpdate:modelValue":a[21]||(a[21]=l=>t.value.cpuThreshold=l),disabled:!t.value.hpaEnabled,placeholder:"80"},null,8,es),[[A,t.value.cpuThreshold,void 0,{number:!0}]])]),e("div",ts,[a[61]||(a[61]=e("label",{class:"form-label"},"Memory (%)",-1)),M(e("input",{type:"number",min:"1",max:"100",class:"form-control","onUpdate:modelValue":a[22]||(a[22]=l=>t.value.memoryThreshold=l),disabled:!t.value.hpaEnabled,placeholder:"80"},null,8,as),[[A,t.value.memoryThreshold,void 0,{number:!0}]])])])])])):L("",!0)],512),[[de,d.value===3]]),M(e("div",null,[t.value.target==="VM"?(m(),v("div",os,[e("div",ss,[a[63]||(a[63]=e("div",{class:"card-header"},[e("h6",{class:"card-title"},"Port Mapping")],-1)),e("div",ls,[e("div",ns,[a[62]||(a[62]=e("label",{class:"form-label"},"Port",-1)),M(e("input",{type:"number",min:"1",max:"65535",class:"form-control","onUpdate:modelValue":a[23]||(a[23]=l=>t.value.defaultPort=l),placeholder:"80"},null,512),[[A,t.value.defaultPort,void 0,{number:!0}]])])])])])):L("",!0),t.value.target==="K8S"?(m(),v("div",is,[e("div",ds,[a[69]||(a[69]=e("div",{class:"card-header"},[e("h6",{class:"card-title"},"Port Mapping")],-1)),e("div",rs,[e("div",cs,[a[68]||(a[68]=e("label",{class:"form-label"},"Port",-1)),(m(!0),v(E,null,V(c.value,(l,G)=>(m(),v("div",{class:"row g-2 mb-2",key:G},[e("div",us,[a[64]||(a[64]=e("label",{class:"form-label small"},"Target Port",-1)),M(e("input",{type:"number",min:"1",max:"65535",class:"form-control","onUpdate:modelValue":O=>l.targetPort=O,placeholder:"80"},null,8,ms),[[A,l.targetPort,void 0,{number:!0}]])]),e("div",ps,[a[66]||(a[66]=e("label",{class:"form-label small"},"Protocol",-1)),M(e("select",{class:"form-select","onUpdate:modelValue":O=>l.protocol=O},a[65]||(a[65]=[e("option",{value:"TCP"},"TCP",-1),e("option",{value:"UDP"},"UDP",-1),e("option",{value:"SCTP"},"SCTP",-1)]),8,vs),[[W,l.protocol]])]),e("div",gs,[a[67]||(a[67]=e("label",{class:"form-label small"},"Host Port",-1)),M(e("input",{type:"number",min:"1",max:"65535",class:"form-control","onUpdate:modelValue":O=>l.hostPort=O,placeholder:"8080"},null,8,bs),[[A,l.hostPort,void 0,{number:!0}]])]),e("div",fs,[e("button",{type:"button",class:"btn btn-outline-danger btn-sm w-100 cursor-pointer",onClick:O=>q(G),disabled:c.value.length<=1},"-",8,hs)])]))),128)),e("div",{class:"form-text cursor-pointer",onClick:P,style:{color:"gray"}},"+ Add Port Mapping")])])]),e("div",ys,[e("div",_s,[e("div",ks,[a[70]||(a[70]=e("label",{class:"form-check-label me-2"},"Ingress Configuration",-1)),e("div",ws,[M(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[24]||(a[24]=l=>t.value.ingressEnabled=l)},null,512),[[me,t.value.ingressEnabled]])])]),t.value.ingressEnabled?(m(),v("div",Cs,[e("div",$s,[a[71]||(a[71]=e("label",{class:"form-label"},"Ingress Path",-1)),M(e("input",{type:"text",class:"form-control","onUpdate:modelValue":a[25]||(a[25]=l=>t.value.ingressUrl=l),placeholder:"/"},null,512),[[A,t.value.ingressUrl]])])])):L("",!0)])])])):L("",!0)],512),[[de,d.value===4]])]),e("div",Is,[e("a",{class:"btn btn-link link-secondary","data-bs-dismiss":"modal",onClick:x}," Cancel "),e("div",Ms,[e("button",{class:"btn btn-outline-secondary",disabled:d.value===1,onClick:g},"Prev",8,Ss),d.value<4?(m(),v("button",{key:0,class:"btn btn-primary",disabled:!n.value,onClick:r},"Next",8,xs)):(m(),v("button",{key:1,class:"btn btn-primary",disabled:!n.value,onClick:a[26]||(a[26]=l=>b.mode==="update"?te():ee())},i(b.mode==="update"?"Update":"Create"),9,Ts))])])])])],512))}}),As=ce(Ds,[["__scopeId","data-v-42b8d677"]]),Us={class:"modal-dialog",role:"document"},Rs={class:"modal-content"},Es={class:"modal-body"},Ls={class:"modal-footer"},Vs=["disabled"],Ps={key:0,class:"spinner-border spinner-border-sm me-2",role:"status"},Ns=j({__name:"DeleteConfirmModal",props:{targetCatalog:{}},emits:["deleted","close"],setup(B,{expose:R,emit:b}){const D=B,I=b,d=Y(),s=f(!1),h=f(null),T=()=>{if(h.value)try{const t=window.bootstrap;if(t&&t.Modal)new t.Modal(h.value).show();else{h.value.classList.add("show"),h.value.style.display="block",document.body.classList.add("modal-open");const k=document.createElement("div");k.className="modal-backdrop fade show",k.id="delete-modal-backdrop",document.body.appendChild(k)}}catch(t){console.warn("Failed to show modal with Bootstrap, using fallback:",t),h.value.classList.add("show"),h.value.style.display="block",document.body.classList.add("modal-open")}},$=()=>{if(h.value)try{const t=window.bootstrap;if(t&&t.Modal){const k=t.Modal.getInstance(h.value);k?k.hide():S()}else S()}catch(t){console.warn("Failed to hide modal with Bootstrap, using fallback:",t),S()}},S=()=>{if(h.value){h.value.classList.remove("show"),h.value.style.display="none",document.body.classList.remove("modal-open");const t=document.getElementById("delete-modal-backdrop");t&&t.remove(),I("close")}},w=async()=>{var t;if((t=D.targetCatalog)!=null&&t.id){s.value=!0;try{await De(D.targetCatalog.id),d.success(`${D.targetCatalog.name} catalog has been successfully deleted.`),$(),I("deleted",D.targetCatalog.id)}catch(k){console.error("Delete failed:",k),d.error("Failed to delete catalog.")}finally{s.value=!1}}},p=()=>{I("close")};return le(()=>{h.value&&h.value.addEventListener("hidden.bs.modal",p)}),fe(()=>{h.value&&h.value.removeEventListener("hidden.bs.modal",p)}),R({show:T,hide:$}),(t,k)=>(m(),v("div",{class:"modal fade",id:"deleteConfirmModal",tabindex:"-1",ref_key:"deleteModal",ref:h,onClick:re($,["self"])},[e("div",Us,[e("div",Rs,[e("div",{class:"modal-header"},[k[0]||(k[0]=e("h5",{class:"modal-title"},"Confirm Catalog Deletion",-1)),e("button",{type:"button",class:"btn-close",onClick:$,"aria-label":"Close"})]),e("div",Es,[e("p",null,[k[1]||(k[1]=K("Are you sure you want to delete ")),e("strong",null,i(t.targetCatalog.name),1),K(" ("+i(t.targetCatalog.category)+") catalog?",1)]),k[2]||(k[2]=e("p",{class:"text-muted"},"This action cannot be undone.",-1))]),e("div",Ls,[e("button",{type:"button",class:"btn btn-secondary",onClick:$},"Cancel"),e("button",{type:"button",class:"btn btn-danger",onClick:w,disabled:s.value},[s.value?(m(),v("span",Ps)):L("",!0),K(" "+i(s.value?"Deleting...":"Delete"),1)],8,Vs)])])])],512))}}),Bs={class:"modal-content"},Hs={class:"modal-body"},Ks={class:"row"},Os={class:"col-lg-12"},Fs={class:"mb-3"},qs={class:"row"},Gs={class:"col-lg-12"},zs={class:"mb-3"},js={class:"row"},Ys={class:"col-lg-12"},Ws={class:"mb-3"},Js=["value"],Qs={class:"modal-footer"},Xs=j({__name:"uploadForm",props:{sourceData:{}},emits:["uploaded","close"],setup(B,{expose:R,emit:b}){const D=Y(),I=B,d=b,s=f({path:"",sourceType:"",name:"",tag:""});oe(()=>{var r,g;return[(r=I.sourceData)==null?void 0:r.sourceType,(g=I.sourceData)==null?void 0:g.name]},()=>{var r,g,x,y,C;(r=I.sourceData)!=null&&r.sourceType&&(s.value.sourceType=(g=I.sourceData)==null?void 0:g.sourceType),(x=I.sourceData)!=null&&x.name&&(s.value.name=(y=I.sourceData)==null?void 0:y.name,console.log(s.value.sourceType),s.value.sourceType.toUpperCase()=="DOCKERHUB"?$((C=I.sourceData)==null?void 0:C.name):s.value.sourceType.toUpperCase()=="ARTIFACTHUB"&&S(I.sourceData))},{immediate:!0});const h=f([]);pe(()=>{T()});const T=()=>{s.value={path:"",sourceType:"",name:"",tag:""},h.value=[]},$=async r=>{var y;const g={path:((y=I.sourceData)==null?void 0:y.id)||""},{data:x}=await Ae(g);h.value=[],x.length>0&&x.forEach(C=>{h.value.push({key:C.name,value:C.name})})},S=async r=>{console.log("sourceData",r);const g={kind:"helm",repository:r.repository.name,packageName:r.name},{data:x}=await Ue(g);h.value=[],x.length>0&&x.forEach(y=>{h.value.push({key:y.version,value:y.version})})},w=()=>{if(!s.value.tag.trim()){D.error("Tag is required.");return}const r=he.cloneDeep(I.sourceData);r.tag=s.value.tag,r.sourceType=s.value.sourceType,r.name=s.value.name,d("uploaded",r),T(),c()},p=()=>{c()},t=()=>{T();const r=document.getElementById("upload-form-modal");if(r)try{const g=window.bootstrap;g&&g.Modal?new g.Modal(r).show():k()}catch(g){console.warn("Failed to show modal with Bootstrap, using fallback:",g),k()}},k=()=>{const r=document.getElementById("upload-form-modal");if(r){document.querySelectorAll(".modal-backdrop").forEach(y=>y.remove()),r.classList.add("show"),r.style.display="block",r.style.opacity="1",r.setAttribute("aria-hidden","false"),document.body.classList.add("modal-open");const x=document.createElement("div");x.className="modal-backdrop fade show",x.id="upload-modal-backdrop",document.body.appendChild(x)}},c=()=>{const r=document.getElementById("upload-form-modal");if(r)try{const g=window.bootstrap;if(g&&g.Modal){const x=g.Modal.getInstance(r);x?x.hide():n()}else n()}catch(g){console.warn("Failed to hide modal with Bootstrap, using fallback:",g),n()}},n=()=>{const r=document.getElementById("upload-form-modal");r&&(r.classList.remove("show","fade","in"),r.style.display="none",r.style.opacity="0",r.setAttribute("aria-hidden","true"),document.body.classList.remove("modal-open"),document.body.style.overflow="",document.body.style.paddingRight="",document.querySelectorAll(".modal-backdrop, #upload-modal-backdrop").forEach(x=>x.remove()),d("close"))};return pe(()=>{T()}),R({show:t,hide:c}),(r,g)=>(m(),v("div",{class:"modal modal-blur fade",id:"upload-form-modal",tabindex:"-1",role:"dialog","aria-hidden":"true",onClick:p},[e("div",{class:"modal-dialog modal-lg modal-dialog-centered",role:"document",onClick:g[3]||(g[3]=re(()=>{},["stop"]))},[e("div",Bs,[e("div",{class:"modal-header"},[g[4]||(g[4]=e("h5",{class:"modal-title"},"Upload Application",-1)),e("button",{type:"button",class:"btn-close",onClick:c,"aria-label":"Close"})]),e("div",Hs,[e("form",{onSubmit:re(w,["prevent"])},[e("div",Ks,[e("div",Os,[e("div",Fs,[g[5]||(g[5]=e("label",{class:"form-label"},"Source Type",-1)),M(e("input",{type:"text",class:"form-control","onUpdate:modelValue":g[0]||(g[0]=x=>s.value.sourceType=x),disabled:""},null,512),[[A,s.value.sourceType]])])])]),e("div",qs,[e("div",Gs,[e("div",zs,[g[6]||(g[6]=e("label",{class:"form-label"},"Name",-1)),M(e("input",{type:"text",class:"form-control","onUpdate:modelValue":g[1]||(g[1]=x=>s.value.name=x),disabled:""},null,512),[[A,s.value.name]])])])]),e("div",js,[e("div",Ys,[e("div",Ws,[g[8]||(g[8]=e("label",{class:"form-label"},[K("Tag "),e("span",{class:"text-red"},"*")],-1)),M(e("select",{class:"form-select","onUpdate:modelValue":g[2]||(g[2]=x=>s.value.tag=x)},[g[7]||(g[7]=e("option",{value:""},"Select Tag",-1)),(m(!0),v(E,null,V(h.value,x=>(m(),v("option",{value:x.value,key:x.key},i(x.value),9,Js))),128))],512),[[W,s.value.tag]]),g[9]||(g[9]=e("small",{class:"form-hint"},"Please enter the tag for this catalog.",-1))])])])],32)]),e("div",Qs,[e("button",{type:"button",class:"btn btn-link link-secondary",onClick:c}," Cancel "),e("button",{type:"submit",class:"btn btn-primary ms-auto",onClick:w},[U(F(Xe),{class:"icon"}),g[10]||(g[10]=K(" Upload "))])])])])]))}}),Zs=ce(Xs,[["__scopeId","data-v-3e6265d5"]]),el={ref:"sofwareCatalog"},tl={class:"row"},al={class:"col-lg-9"},ol={class:"card"},sl={class:"list-group card-list-group",id:"sc-list-group"},ll={class:"row g-2 align-items-center"},nl={class:"col-auto me-3"},il=["src"],dl={key:1,src:"https://artifacthub.io/static/media/placeholder_pkg_helm.png",class:"rounded",alt:"Catalog Icon",width:"40",height:"40"},rl=["onClick"],cl={class:"text-muted"},ul=["onClick"],ml={class:"text-muted",style:{width:"auto","text-align":"right"}},pl={style:{color:"#e5b942"}},vl={style:{color:"#e5b942"}},gl={class:"text-muted",style:{width:"80px","text-align":"right"}},bl={style:{color:"gray"}},fl={class:"col-3 text-muted"},hl={class:"d-flex justify-content-end"},yl={class:"mouse-hover"},_l=["onClick"],kl={class:"text-muted"},wl=["id"],Cl={class:"accordion-body pt-0"},$l=["innerHTML"],Il=["id"],Ml=["onClick"],Sl=["id"],xl=["id"],Tl={class:"btn btn-sm",style:{"margin-right":"5px"}},Dl={class:"btn btn-sm",style:{"margin-right":"5px"}},Al={class:"btn btn-sm",style:{"margin-right":"5px"}},Ul={class:"col-lg-3"},Rl={class:"input-icon mb-3"},El={class:"input-icon-addon"},Ll={key:0,class:"col-md-6 col-lg-12",id:"resultDockerHubEmpty"},Vl={key:1,class:"row row-cards",id:"resultDockerHubSearch"},Pl={class:"card"},Nl={class:"row row-0"},Bl={class:"col-auto"},Hl=["src"],Kl={class:"col"},Ol={class:"card-body"},Fl=["href"],ql={class:"text-muted"},Gl={class:"col-auto lh-1"},zl={class:"d-flex justify-content-end me-2 mt-4 mouse-hover"},jl={class:"mt-5"},Yl={key:0,class:"col-md-6 col-lg-12",id:"resultArtifactHubEmpty"},Wl={key:1,class:"row row-cards",id:"resultArtifactHubSearch"},Jl={class:"card"},Ql={class:"row row-0"},Xl={class:"col"},Zl={class:"card-body"},en=["href"],tn={class:"text-muted"},an={class:"col-auto lh-1"},on={class:"d-flex justify-content-end me-2 mt-4 mouse-hover"},sn=j({__name:"softwareCatalogList",setup(B){const R=Y(),b=f([]),D=f(null),I=f(null),d=f({}),s=f("new"),h=f({}),T=f(""),$=f({}),S=f(null),w=f(null),p=f({}),t=f(""),k=f([]),c=f([]),n=f("");le(async()=>{t.value="",g(),document.addEventListener("click",u=>{u.target.closest(".dropdown")||(n.value="")})});const r=()=>{s.value="new",I.value=null,d.value={},D.value=0,h.value={},T.value=""},g=async()=>{try{await Re(t.value).then(({data:u})=>{he.forEach(u,function(_){_.refData=x(_.catalogRefs),_.isShow=!1}),b.value=u})}catch(u){console.log(u),R.error("Unable to retrieve data.")}},x=u=>u.reduce((_,o)=>(_[o.refType]||(_[o.refType]=[]),_[o.refType].push(o),_),{}),y=async u=>{u.keyCode==13&&(await C(),await P())},C=async()=>{k.value=[];try{const{data:u}=await Le(t.value);for(let _=0;_<3;_++)k.value.push(u.results[_])}catch(u){console.log(u),R.error("Unable to retrieve data.")}},P=async()=>{c.value=[];try{const{data:u}=await Ve(t.value);for(let _=0;_<3;_++)c.value.push(u.packages[_])}catch(u){console.log(u),R.error("Unable to retrieve data.")}},q=u=>{const _=b.value.find(o=>o.id===u);I.value=u,d.value=_||{},s.value="update"},J=u=>{$.value=u,S.value&&S.value.show()},ee=async u=>{await g()},te=()=>{$.value={}},N=async u=>{b.value[u].isShow=!b.value[u].isShow},ne=(u,_)=>Object.prototype.hasOwnProperty.call(u,_),Q=u=>{window.open(u)},ae=u=>u.replace(/\\n|\n/g,"<br/>"),X=(u,_)=>{p.value=u,p.value.sourceType=_,w.value&&w.value.show()},Z=async u=>{if(u.sourceType=="DockerHub"){u.createdAt=u.created_at,u.updatedAt=u.updated_at,u.shortDescription=u.short_description,u.starCount=u.star_count,u.ratePlans=u.rate_plans,delete u.created_at,delete u.updated_at,delete u.short_description,delete u.star_count,delete u.rate_plans;const{data:_}=await Pe(u)}else if(u.sourceType=="ArtifactHub"){const{data:_}=await Ne(u)}R.success("Software catalog uploaded successfully!")},ie=()=>{p.value={sourceType:"",name:"",sourceData:{}}};return(u,_)=>(m(),v(E,null,[e("div",el,[e("div",{class:"d-flex justify-content-between align-items-center mb-3"},[_[1]||(_[1]=e("h2",{class:"mb-0"},"Catalog",-1)),e("button",{class:"btn btn-outline-primary d-none d-sm-inline-block",style:{"margin-right":"315px"},"data-bs-toggle":"modal","data-bs-target":"#modal-wizard",onClick:r}," Regist ")]),e("div",tl,[e("div",al,[e("div",ol,[e("div",sl,[(m(!0),v(E,null,V(b.value,(o,a)=>(m(),v("div",{class:"list-group-item pe-1",key:a},[e("div",ll,[e("div",nl,[o.logoUrlLarge?(m(),v("img",{key:0,src:o.logoUrlLarge,class:"rounded",alt:"Catalog Icon",width:"40",height:"40"},null,8,il)):(m(),v("img",dl))]),e("div",{class:"col-5",onClick:l=>N(a)},[K(i(o.name)+" ",1),e("div",cl,i(o.summary),1)],8,rl),e("div",{class:"col-3 d-flex justify-content-end",onClick:l=>N(a)},[e("span",ml,[U(F(Ze),{class:"icon me-1",width:"12",height:"12","stroke-width":"1",color:"#e5b942"}),e("span",pl,i(o.averageRating||0),1),e("span",vl," ("+i(o.ratingCount||0)+") ",1)]),e("span",gl,[U(F(je),{class:"icon me-1",width:"12",height:"12","stroke-width":"1",color:"gray"}),e("span",bl,i(o.downloadCount||0),1)])],8,ul),e("div",fl,[e("div",hl,[e("div",yl,[U(F(Ye),{class:"me-2 cursor-pointer",size:"15","stroke-width":"2","data-bs-toggle":"modal","data-bs-target":"#modal-wizard",onClick:l=>q(o.id)},null,8,["onClick"]),U(F(Qe),{class:"cursor-pointer",size:"15","stroke-width":"2",onClick:l=>J(o)},null,8,["onClick"])])]),e("div",{class:"d-flex justify-content-end",onClick:l=>N(a)},[e("span",kl,i(o.category.length>25?o.category.substring(0,25)+"...":o.category),1)],8,_l)]),e("div",{id:"accordion_"+o.id,class:"accordion-collapse collapse",style:Ke([o.isShow?{display:"block"}:{display:"none"}])},[e("div",Cl,[e("div",{class:"mt-3 mb-5",innerHTML:ae(o.description)},null,8,$l),e("div",null,[_[2]||(_[2]=e("strong",null,"Ref Information",-1)),e("ul",{id:`${a}-entity-ul`},[ne(o.refData,"HOMEPAGE")?(m(!0),v(E,{key:0},V(o.refData.HOMEPAGE,(l,G)=>(m(),v("li",{key:G},[e("a",{class:"btn",onClick:O=>Q(l.refValue)},i(l.refValue),9,Ml)]))),128)):L("",!0)],8,Il),_[3]||(_[3]=e("strong",null,"TAGS",-1)),e("ul",{id:`${a}-tag-ul`},[ne(o.refData,"TAG")?(m(!0),v(E,{key:0},V(o.refData.TAG,(l,G)=>(m(),v("span",{key:G},"#"+i(l.refValue)+" Â ",1))),128)):L("",!0)],8,Sl),_[4]||(_[4]=e("strong",null,"Recommended Spec",-1)),e("ul",{id:`${a}-tag-ul`},[o.recommendedCpu&&o.recommendedMemory&&o.recommendedDisk?(m(),v(E,{key:0},[e("button",Tl," CPU : "+i(o.recommendedCpu)+" Core ",1),e("button",Dl," MEMORY : "+i(o.recommendedMemory)+" GB ",1),e("button",Al," DISK : "+i(o.recommendedDisk)+" GB ",1)],64)):L("",!0)],8,xl)])])],12,wl)])]))),128))])])]),e("div",Ul,[e("div",Rl,[e("span",El,[U(F(Ee),{class:"icon",width:"24",height:"24","stroke-width":"2"})]),M(e("input",{type:"text",class:"form-control",placeholder:"Searchâ€¦",onKeypress:y,"onUpdate:modelValue":_[0]||(_[0]=o=>t.value=o),id:"inputCatalogSearch"},null,544),[[A,t.value]])]),_[7]||(_[7]=e("h3",{class:"mb-3"}," DOCKERHUB ",-1)),k.value.length<=0?(m(),v("div",Ll," There are no related Container Images found. ")):L("",!0),k.value.length>0?(m(),v("div",Vl,[(m(!0),v(E,null,V(k.value,(o,a)=>(m(),v("div",{class:"col-md-6 col-lg-12",key:a},[e("div",Pl,[e("div",Nl,[e("div",Bl,[e("img",{src:o.logo_url.large,class:"rounded-start ms-2",alt:"Shape of You",width:"80",height:"80"},null,8,Hl)]),e("div",Kl,[e("div",Ol,[e("a",{href:"https://hub.docker.com/search?q="+t.value,target:"_blank"},i(o.name),9,Fl),e("div",ql,i(o.short_description.length>30?o.short_description.substring(0,30)+"...":""),1)])]),e("div",Gl,[e("div",zl,[U(F(ge),{class:"cursor-pointer",size:"20","stroke-width":"2",onClick:l=>X(o,"DockerHub")},null,8,["onClick"])])])])])]))),128))])):L("",!0),e("div",jl,[_[6]||(_[6]=e("h3",{class:"mb-3"}," ARTIFACTHUB ",-1)),c.value.length<=0?(m(),v("div",Yl," There are no related Helm Charts found. ")):L("",!0),c.value.length>0?(m(),v("div",Wl,[(m(!0),v(E,null,V(c.value,(o,a)=>(m(),v("div",{class:"col-md-6 col-lg-12",key:a},[e("div",Jl,[e("div",Ql,[_[5]||(_[5]=e("div",{class:"col-auto"},[e("img",{src:"https://artifacthub.io/static/media/placeholder_pkg_helm.png",class:"rounded-start",alt:"Shape of You",width:"80",height:"80"})],-1)),e("div",Xl,[e("div",Zl,[e("a",{href:"https://artifacthub.io/packages/search?ts_query_web="+t.value+"&sort=relevance&page=1",target:"_blank"},i(o.name),9,en),e("div",tn,i(o.description.length>30?o.description.substring(0,30)+"...":""),1)])]),e("div",an,[e("div",on,[U(F(ge),{class:"cursor-pointer",size:"20","stroke-width":"2",onClick:l=>X(o,"ArtifactHub")},null,8,["onClick"])])])])])]))),128))])):L("",!0)])])])],512),U(Ns,{ref_key:"deleteConfirmModal",ref:S,"target-catalog":$.value,onDeleted:ee,onClose:te},null,8,["target-catalog"]),U(As,{mode:s.value,"catalog-id":I.value,"catalog-info":d.value,onCreated:g,onUpdated:g},null,8,["mode","catalog-id","catalog-info"]),U(Zs,{ref_key:"uploadFormModal",ref:w,"source-data":p.value,onUploaded:Z,onClose:ie},null,8,["source-data"])],64))}}),ln={class:"page",ref:"sofwareCatalog"},nn={class:"page-wrapper"},dn={class:"page-header d-print-none"},rn={class:"container-xxl"},cn={class:"row g-2 align-items-center"},un={class:"col-auto ms-auto"},mn={class:"page-body"},pn={class:"container-xxl"},vn={class:"row"},gn={class:"col-lg-12"},bn={class:"card"},fn={class:"card-header"},hn={class:"nav nav-tabs card-header-tabs","data-bs-toggle":"tabs"},yn={class:"nav-item"},_n={href:"#tabs-catalog",class:"nav-link active","data-bs-toggle":"tab"},kn={class:"nav-item"},wn={href:"#tabs-status",class:"nav-link","data-bs-toggle":"tab"},Cn={class:"nav-item"},$n={href:"#tabs-repository",class:"nav-link","data-bs-toggle":"tab"},In={class:"card-body"},Mn={class:"tab-content"},Sn={class:"tab-pane active show",id:"tabs-catalog"},xn={class:"tab-pane",id:"tabs-status"},Tn={class:"tab-pane",id:"tabs-repository"},Kn=j({__name:"SoftwareCatalog",setup(B){const R=Oe(),b=f(""),D=f(""),I=f(!1),d=f("");le(async()=>{b.value=R.getNsId()});const s=$=>{D.value=$},h=$=>{d.value=$,I.value=!0},T=()=>{I.value=!1,d.value=""};return($,S)=>(m(),v(E,null,[e("div",ln,[e("div",nn,[e("div",dn,[e("div",rn,[e("div",cn,[S[1]||(S[1]=e("div",{class:"col d-flex"},[e("h2",{class:"page-title"},"Software Catalog")],-1)),e("div",un,[e("button",{class:"btn btn-outline-primary d-none d-sm-inline-block","data-bs-toggle":"modal","data-bs-target":"#install-form",onClick:S[0]||(S[0]=w=>s("Application Installation"))}," DEPLOY ")])])])]),e("div",mn,[e("div",pn,[e("div",vn,[e("div",gn,[e("div",bn,[e("div",fn,[e("ul",hn,[e("li",yn,[e("a",_n,[U(F(ze),{class:"icon me-2",width:"24",height:"24","stroke-width":"2"}),S[2]||(S[2]=K(" Catalog "))])]),e("li",kn,[e("a",wn,[U(F(Ge),{class:"icon me-2",width:"24",height:"24","stroke-width":"2"}),S[3]||(S[3]=K(" Apps Status "))])]),e("li",Cn,[e("a",$n,[U(F(We),{class:"icon me-2",width:"24",height:"24","stroke-width":"2"}),S[4]||(S[4]=K(" Repository "))])])])]),e("div",In,[e("div",Mn,[e("div",Sn,[e("div",null,[U(sn,{nsId:b.value},null,8,["nsId"])])]),e("div",xn,[e("div",null,[U(Ba)])]),e("div",Tn,[e("div",null,[I.value?(m(),ve(qe,{key:1,embedded:!0,"repository-name":d.value,onBackToList:T},null,8,["repository-name"])):(m(),ve(Fe,{key:0,embedded:!0,onOpenDetail:h}))])])])])])])])])])])],512),U(Be,{"ns-id":b.value,title:D.value},null,8,["ns-id","title"])],64))}});export{Kn as default};
